ID,hash,author,date,commit_message,is_merge,lines_changed,insertions,deletions,dmm_unit_size,dmm_unit_complexity,dmm_unit_interfacing,radon_LOC,radon_LLOC,radon_SLOC,radon_comments,radon_avg_cc,radon_avg_MI,radon_avg_vocabulary,radon_avg_length,radon_avg_volume,radon_avg_difficulty,radon_avg_effort,radon_avg_time,radon_avg_bugs
0,de04d7a854d71003ffcf98028eab976a936c2dba,Simon Willison,2017-10-23 00:41:19+00:00,Initial working proof of concept,False,74,74,0,1.0,1.0,1.0,43,27,32,1,2.3333333333333335,68.97931517734892,7.0,8.0,22.458839376460833,1.875,42.11032383086406,2.3394624350480036,0.007486279792153611
1,f571b19d8a5fd3a19fdf679421fd55a8edbf5295,Simon Willison,2017-10-23 15:28:00+00:00,"sqlerrors() decorator catching and returning useful errors

Closes #8",False,17,17,0,1.0,1.0,1.0,60,40,47,1,2.0,63.486867719941266,7.0,8.0,22.458839376460833,1.875,42.11032383086406,2.3394624350480036,0.007486279792153611
2,6a0c5de6154893eb4269dc7b1f160726ec6395f2,Simon Willison,2017-10-23 16:02:40+00:00,"ensure_build_metadata() function for metadata

This will be run at compile time - the goal is to generate a build-
metadata.json file with a bunch of useful facts about the databases that could
be expensive to generate at run-time.

Example metadata:

    {
        ""flights"": {
        ""file"": ""flights.db"",
        ""tables"": {
            ""airlines"": 6048,
            ""airports"": 8107,
            ""routes"": 67663
        },
        ""hash"": ""07d1283e07786b1235bb7041ea445ae103d1571565580a29eab0203c555725fd""
    }

So far we have a sha256 hash of the database file itself, plus a row count for
each table.

Fixes #11",False,51,51,0,0.029411764705882353,0.029411764705882353,1.0,108,73,87,3,3.6,53.74247979675235,22.0,27.0,120.40465370320703,4.857142857142857,584.8226037012912,32.490144650071734,0.04013488456773568
3,b2372605d63248f422b6e67cb5c392236a3aa612,Simon Willison,2017-10-24 02:00:37+00:00,"Implemented multi-db support plus initial URL structure

Refs #24

Fixes #15",False,190,145,45,0.27450980392156865,1.0,0.6862745098039216,171,108,139,8,3.25,50.73215152814423,34.0,40.0,203.4985136500136,5.416666666666667,1102.2836156042404,61.23797864468002,0.06783283788333787
4,9d219140694551453bfa528e0624919eb065f9d6,Simon Willison,2017-10-24 02:25:48+00:00,"Refactored to use class based views

Closes #22",False,101,59,42,0.8571428571428571,1.0,0.0,188,122,151,6,3.25,47.466887273819474,29.0,34.0,165.17135383433748,4.95,817.5982014799706,45.42212230444281,0.05505711794477916
5,12f7e1dc5624d14f644abead18bd90b420b6d97e,Simon Willison,2017-10-24 02:36:44+00:00,"Hashed URLs now have far-future cache expiry

Since the URL now includes a hash of the database, we can return a Cache-
Control: max-age=31536000 header for every response.

The exception is our 302 redirects. These we now serve with a Link: header
that tells any HTTP/2 server-push aware fronting proxies (such as Cloudfront)
to push the target of the redirect.

Closes #4",False,24,18,6,0.0,0.0,0.2727272727272727,200,129,162,7,3.3333333333333335,45.685797768553115,41.0,52.0,278.59270424014034,5.483870967741935,1527.766442607221,84.87591347817894,0.09286423474671344
6,255e2611e5c3cfdda76c9da7abdbe5af976044ac,Simon Willison,2017-10-24 02:48:06+00:00,"CORS headers for JSON responses

Access-Control-Allow-Origin: *",False,1,1,0,0.0,1.0,0.0,201,130,163,7,3.3333333333333335,45.577472786688816,41.0,52.0,278.59270424014034,5.483870967741935,1527.766442607221,84.87591347817894,0.09286423474671344
7,0fa177269767e5e55c863382333fde627d2b7074,Simon Willison,2017-10-24 02:48:56+00:00,"Allow ?sql= argument against database

e.g. /database-234324?sql=select * from table limit 1",False,3,2,1,1.0,1.0,0.0,202,131,164,7,3.5,45.107658427356704,44.0,55.0,300.26873902505133,6.0,1801.612434150308,100.0895796750171,0.10008957967501711
8,b20d7119e4f6506cdb9d5d11322e28130823adfd,Simon Willison,2017-10-24 02:56:27+00:00,Implemented template inheritance and brought back errors,False,55,40,15,0.0,0.0,0.0,194,125,158,7,3.909090909090909,45.631126697650004,44.0,55.0,300.26873902505133,6.0,1801.612434150308,100.0895796750171,0.10008957967501711
9,606ff9e35e007ae58a491d417f47779034bacabc,Simon Willison,2017-10-24 05:53:13+00:00,"python app.py --build to generate build-metadata.json

This is now run by the Dockerfile to build this at compile time.",False,7,6,1,,,,198,129,162,7,3.909090909090909,44.85742445370747,46.0,58.0,320.36659345130676,5.9714285714285715,1913.0462294663746,106.28034608146525,0.10678886448376892
10,6a9fdcc0718aea2cbc01ae4d60b9a1fba3601a66,Simon Willison,2017-10-24 05:54:58+00:00,"Added addressable page per row

Refs #1 - only exists for tables with introspectable primary keys.

Still need to link to this page.

Also added first unit tests - refs #9",False,102,101,1,0.5490196078431373,1.0,0.39215686274509803,298,175,247,7,3.3157894736842106,51.421268713818236,28.0,36.5,192.30381216094588,3.574324324324324,1200.8840051388167,66.71577806326759,0.0641012707203153
11,b46e370ee6126aa2fa85cf789a31da38aed98496,Simon Willison,2017-10-24 14:10:58+00:00,"Link to pages-per-row

Closes #1",False,38,32,6,0.42857142857142855,0.0,0.19047619047619047,320,181,269,7,3.473684210526316,50.81079281841234,28.5,37.5,198.88035141182513,3.5657894736842106,1241.4299189474352,68.96832883041306,0.06629345047060838
12,f643f7aee1b3d29df82b93a6560887a35b7a2f13,Simon Willison,2017-10-24 14:58:41+00:00,"base64 encode bytestrings from DB in JSON

Fixes #29",False,48,46,2,0.14814814814814814,0.7407407407407407,0.7037037037037037,364,200,308,8,3.4545454545454546,48.16291512296026,29.5,39.0,205.2668042712198,3.5657894736842106,1244.6231453771325,69.14573029872957,0.0684222680904066
13,bc9379aabcedce7fbc661ac15008d8801199a045,Simon Willison,2017-10-24 15:07:52+00:00,"Added .jsono extension

Returns JSON key/value objects for each row instead of lists of values.

Closes #6",False,17,13,4,0.0,0.0,0.0,373,205,316,9,3.8181818181818183,47.822000821929485,31.5,42.0,226.19550008653877,3.5357142857142856,1370.951732658999,76.16398514772216,0.07539850002884627
14,5f806880c9766daf09fc9535171637ebb8224cab,Simon Willison,2017-10-24 23:53:21+00:00,Correctly JSON serialize sqlite3.Cursor,False,2,2,0,1.0,1.0,1.0,375,207,318,9,3.909090909090909,47.68278298617283,31.5,42.0,226.19550008653877,3.5357142857142856,1370.951732658999,76.16398514772216,0.07539850002884627
15,02b1814fcfdc61b1b69b5955f2b60252ff10cde9,Simon Willison,2017-10-24 23:54:26+00:00,"Redirects now preserve query string

Fixes #28",False,15,10,5,1.0,1.0,0.0,380,211,322,9,3.652173913043478,47.406669504493635,31.5,42.0,226.19550008653877,3.5357142857142856,1370.951732658999,76.16398514772216,0.07539850002884627
16,c371f06fdea413cfb00aa8f81b7a5535a7ecdbc4,Simon Willison,2017-10-24 23:55:53+00:00,Include took_ms in JSON output,False,4,4,0,0.0,0.0,0.0,384,215,326,9,3.652173913043478,47.11296469531411,34.0,45.0,248.4426289337657,3.782608695652174,1630.433702192617,90.57965012181205,0.08281420964458856
17,4c7379a898df426af0c31159e5cb06d672189301,Simon Willison,2017-10-25 00:01:34+00:00,"Don't crash on weird character encodings

Expecting SQLite columns to all be valid utf8 doesn't work, because we are
deailing with all kinds of databases. Instead, we now use the 'replace'
encoding mode to replace any non-UTF8 characters with a [X] character.",False,3,2,1,1.0,1.0,1.0,385,217,327,9,3.652173913043478,47.054283912375006,34.0,45.0,248.4426289337657,3.782608695652174,1630.433702192617,90.57965012181205,0.08281420964458856
18,1ae8ea0f03cfb9f25b1e25f3194c456c3649789c,Simon Willison,2017-10-25 00:06:23+00:00,"Started implementing ?name__contains=X filters

So far we support __contains=, __startswith=, __endswith= and __exact=

Refs #23",False,60,59,1,0.0975609756097561,1.0,0.7073170731707317,443,249,381,9,3.68,43.64549084433608,37.0,49.5,273.49881963456676,3.7708333333333335,1708.0241331878508,94.89022962154726,0.09116627321152225
19,eef213ab4d57622dfc60c8655c0c7a18afcc844f,Simon Willison,2017-10-25 00:11:36+00:00,Show total number of rows in table,False,5,4,1,0.0,1.0,0.0,446,251,384,9,3.68,43.57891372853017,37.0,49.5,273.49881963456676,3.7708333333333335,1708.0241331878508,94.89022962154726,0.09116627321152225
20,2fe94641b0b2dc291d1fce3dad0fbf96294b3a32,Simon Willison,2017-10-25 01:33:12+00:00,"Don't try to show row counts for views

Also handle tables/views with spaces in their name in the URL.",False,3,2,1,0.0,1.0,0.0,447,252,385,9,3.68,43.54979461502879,37.0,49.5,273.49881963456676,3.7708333333333335,1708.0241331878508,94.89022962154726,0.09116627321152225
21,6823b094066c5cb1dcd3581da2ed877ed72298b7,Simon Willison,2017-10-25 01:34:54+00:00,"Set time limit of 1000ms on SQL queries

Using the (undocumented in the Python docs) fact that if you return 1 from a
set_progress_handler callback, SQLite will cancel the current query.

Closes #35",False,24,21,3,0.9090909090909091,1.0,0.8181818181818182,465,265,398,9,3.576923076923077,42.98295349495915,40.5,54.0,307.23978531953514,4.0092592592592595,2076.2435733546663,115.34686518637035,0.10241326177317837
22,630b40038ef31b351abc2e39c3a0c7b3648814f8,Simon Willison,2017-10-25 01:46:55+00:00,"Added support for gt, gte, lt, lte lookups

Refs #23",False,51,38,13,0.0,1.0,1.0,490,265,423,9,3.576923076923077,42.96100737069125,40.5,54.0,307.23978531953514,4.0092592592592595,2076.2435733546663,115.34686518637035,0.10241326177317837
23,1c5977961f596dae5aaa18c8b2d7a10e9f42a543,Simon Willison,2017-10-25 01:53:01+00:00,Added glob and like lookups - refs #23,False,10,10,0,0.0,1.0,1.0,500,265,433,9,3.576923076923077,42.946537324943215,40.5,54.0,307.23978531953514,4.0092592592592595,2076.2435733546663,115.34686518637035,0.10241326177317837
24,d94d4465d7e72e668122f81206397f4f20cf555b,Simon Willison,2017-10-25 14:47:20+00:00,"Double quote around column names

This means filters still work even with column names that contain spaces",False,2,1,1,,,,500,265,433,9,3.576923076923077,42.946537324943215,40.5,54.0,307.23978531953514,4.0092592592592595,2076.2435733546663,115.34686518637035,0.10241326177317837
25,f1b0521810bbc467721e4dcc5a2ff1bf2a1ddbb8,Simon Willison,2017-10-25 15:01:22+00:00,Preserve .json through redirects,False,2,2,0,0.0,0.0,1.0,502,267,435,9,3.6153846153846154,42.71643014120958,41.5,57.0,327.5095422766283,4.125,2296.7452610351625,127.59695894639792,0.10916984742554275
26,3cce63b59851495b6d9d38936356e21ea8fbad3a,Simon Willison,2017-10-25 15:19:32+00:00,"URL to allow direct database download

It's just the database URL with .db on the end, e.g. /flights.db

Closes #19",False,18,17,1,1.0,1.0,0.18181818181818182,518,277,448,9,3.3448275862068964,42.127214083854504,42.5,60.0,347.97013253682775,4.232758620689655,2523.1308215589406,140.17393453105225,0.11599004417894257
27,2a9799bae651558a23ae5074edad7cc13ff0fbdc,Simon Willison,2017-10-27 04:05:17+00:00,"Implemented database summary on index page

Closes #41",False,29,24,5,0.0,1.0,1.0,533,281,463,9,3.3793103448275863,41.82742736987583,44.0,61.5,360.3169387143036,4.5,2796.2623193654217,155.34790663141231,0.12010564623810119
28,1592fd0419f374de201926d3ba67fbf1522eed13,Simon Willison,2017-10-27 07:08:24+00:00,"Started work on cli, which also meant adding setup.py

I'm using click, and click recommends using a setup.py - so I've added one of
those. I also refactored code into a new datasite package. It's not quite
deploying to now properly at the moment though - I seem to have messed up the
path handling a bit.

Also snuck in a new template for the ""Row"" view.

Refs #40",False,109,94,15,0.75,0.75,0.625,577,300,499,9,3.15625,76.78222778829335,17.6,24.6,144.12677548572145,1.8,1118.5049277461687,62.13916265256493,0.04804225849524048
29,2c625e31ed018f929223918240603bf2a80e665c,Simon Willison,2017-10-27 07:16:18+00:00,"Fixed bug on Row page with tables containing spaces

We were attempting to run this SQL:

    select * from ""Order%20Details"" where ...

On this page:

    http://0.0.0.0:8877/northwind-40d049b/Order%20Details/10250,41",False,1,1,0,0.0,1.0,0.0,578,301,500,9,3.15625,76.77219961579945,17.6,24.6,144.12677548572145,1.8,1118.5049277461687,62.13916265256493,0.04804225849524048
30,be768f26d09fa060b1ca71785ff546dd572f3fbc,Simon Willison,2017-11-04 23:40:27+00:00,python setup.py test now runs the tests,False,7,6,1,,,,580,301,502,9,3.15625,76.77219961579945,17.6,24.6,144.12677548572145,1.8,1118.5049277461687,62.13916265256493,0.04804225849524048
31,0ac8bbce2e73c0759ec48661a7b740d2c368b2a2,Simon Willison,2017-11-04 23:53:50+00:00,"Default subcommand is now serve

Using click-default-group: https://github.com/click-contrib/click-default-group

Also removed requirements.txt in favour of setup.py",False,10,5,5,,,,582,301,503,9,3.15625,76.78222778829335,17.6,24.6,144.12677548572145,1.8,1118.5049277461687,62.13916265256493,0.04804225849524048
32,1fc75809a6aa17860944b4cc3a4d7175cd53b1f4,Simon Willison,2017-11-05 02:13:44+00:00,"Refactored everything into a factory function

I now call a factory function to construct the Sanic app:

    app = app_factory(files)

This allows me to pass additional arguments to it, e.g. the files to serve.

Also refactored my class-based views to accept jinja as an argument, e.g:

    app.add_route(
        TableView.as_view(jinja),
        '/<db_name:[^/]+>/<table:[^/]+?><as_json:(.jsono?)?$>'
    )",False,102,61,41,0.15625,1.0,0.96875,602,309,523,9,2.9444444444444446,76.6036475226103,17.6,24.6,144.12677548572145,1.8,1118.5049277461687,62.13916265256493,0.04804225849524048
33,31b21f5c5e15fc3acab7fabb170c1da71dc3c98c,Simon Willison,2017-11-05 02:21:44+00:00,"Moved all SQLite queries to threads

SQLite operations are blocking, but we're running everything in Sanic, an
asyncio web framework, so blocking operations are bad - a long-running DB
operation could hold up the entire server.

Instead, I've moved all SQLite operations into threads. These are managed by a
concurrent.futures ThreadPoolExecutor. This means I can run up to X queries in
parallel, and I can continue to queue up additional incoming HTTP traffic
while the threadpool is busy.

Each thread is responsible for managing its own SQLite connections - one per
database. These are cached in a threadlocal.

Since we are working with immutable, read-only SQLite databases it should be
safe to share SQLite objects across threads. On this assumption I'm using the
check_same_thread=False option. Opening a database connection looks like this:

    conn = sqlite3.connect(
        'file:filename.db?immutable=1',
        uri=True,
        check_same_thread=False,
    )

The following articles were helpful in figuring this out:

* https://pymotw.com/3/asyncio/executors.html
* https://marlinux.wordpress.com/2017/05/19/python-3-6-asyncio-sqlalchemy/

Closes #45. Refs #38.",False,105,58,47,1.0,1.0,0.0,613,316,533,9,2.9166666666666665,76.5109582729383,17.4,24.4,142.47821299039012,1.8033898305084748,1106.6812419596677,61.48229121998154,0.047492737663463375
34,186c513a61a091b9f83d788e25b08f41a84ed9a3,Simon Willison,2017-11-05 02:49:18+00:00,"Support parameterized SQL and block potentially harmful queries

You can now call arbitrary SQL like this:

    /flights?sql=select%20*%20from%20airports%20where%20country%20like%20:c&c=iceland

Unescaped, those querystring params look like this:

    sql = select * from airports where country like :c
    c = iceland

So SQL can be constructed with named parameters embedded in it, which will
then be read from the querystring and correctly escaped.

This means we can aggressively filter the SQL parameter for potentially
dangerous syntax. For the moment we enforce that it starts with a SELECT
statement and we ban the sequence ""pragma"" from it entirely.

If you need to use pragma in a query, you can use the new named parameter
mechanism.

Fixes #39",False,71,42,29,0.0,1.0,1.0,626,330,540,9,2.8205128205128207,76.47369939855474,17.6,24.8,146.99424144306076,1.793548387096774,1162.0177273997808,64.55654041109894,0.04899808048102026
35,a0bb9da17fb95ac5e3bcd3c8d800d33c25a71bbc,Simon Willison,2017-11-06 02:24:43+00:00,"Now requires DB files to be passed as arguments

Refs #40",False,100,50,50,1.0,1.0,0.0,626,330,540,9,2.7948717948717947,76.50953169513033,17.6,24.8,146.99424144306076,1.793548387096774,1162.0177273997808,64.55654041109894,0.04899808048102026
36,25c241fa5a0f8868e3c1bc5be4f5888caa47d864,Simon Willison,2017-11-06 02:32:13+00:00,Renamed project to immutabase,False,12,6,6,,,,626,330,540,9,2.7948717948717947,76.50953169513033,17.6,24.8,146.99424144306076,1.793548387096774,1162.0177273997808,64.55654041109894,0.04899808048102026
37,9e9e9613907b6a2a8a051fdda93c0d26344ee110,Simon Willison,2017-11-06 02:38:06+00:00,Fixed error in RowView,False,9,6,3,0.0,1.0,0.0,629,333,543,9,2.8461538461538463,76.45593161043408,17.6,24.8,146.99424144306076,1.793548387096774,1162.0177273997808,64.55654041109894,0.04899808048102026
38,7e0cedae3d920797f6f9411aea90a2b1d86ac9c7,Simon Willison,2017-11-06 02:49:07+00:00,"Now using bootstrap 4 beta

Refs #16",False,13,13,0,0.0,1.0,1.0,631,334,544,10,2.8461538461538463,76.50345328909073,18.0,26.0,155.36525206398525,1.834375,1262.4979169667172,70.13877316481762,0.051788417354661755
39,abb591d83264bbf11a5eb9daf03011d051e8f833,Simon Willison,2017-11-09 14:14:26+00:00,"Added --reload argument to 'immutabase serve' command

Uses hupper to restart the server when the code changes. Useful for development.

Depends on https://pypi.python.org/pypi/hupper",False,8,7,1,1.0,1.0,0.0,637,338,549,10,2.871794871794872,76.50345328909073,18.0,26.0,155.36525206398525,1.834375,1262.4979169667172,70.13877316481762,0.051788417354661755
40,d9fa2bf7ba2f9d3dcb2beb303f772c86344b4bcf,Simon Willison,2017-11-09 14:39:50+00:00,"Use rowid if no primary key available

Allows us to link to individual records even for tables that do not have a primary key.

Refs #5",False,49,33,16,0.0,0.0,0.0,651,351,563,10,3.0256410256410255,76.29676739681054,18.0,26.4,157.8867643632561,1.8578125,1301.6503052073483,72.31390584485268,0.0526289214544187
41,bc9871c93583f3cdcca191b7fa05b255be7275c8,Simon Willison,2017-11-09 16:09:55+00:00,"gt/lt/gte/lte now treat numeric arguments as numeric

This now works:

    https://immutabase-dlmggyoepw.now.sh/northwind-40d049b/Products?UnitsInStock__gt=100

Previously the input value of 100 would be treated as a string.

Also fixed a bug where filter arguments had stopped working entirely.

Refs #23",False,46,29,17,0.0,1.0,0.8333333333333334,663,358,575,10,3.0256410256410255,76.19040377949769,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
42,292f140a4f391f646ec0be85ec9f22dde30f9de2,Simon Willison,2017-11-09 16:11:14+00:00,"Explicitly order by pk (or by rowid)

Refs #5",False,14,10,4,0.0,1.0,0.0,669,361,580,10,3.0256410256410255,76.16168251034203,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
43,e7e50875d341f1d26b4dbba862f5202631f34896,Simon Willison,2017-11-10 18:38:35+00:00,Renamed to 'datasette',False,18,9,9,,,,669,361,580,10,3.0256410256410255,76.16168251034203,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
44,e06b0117711ca7c9d6d6865d2bff8525aa11ebf0,Simon Willison,2017-11-10 18:43:54+00:00,"Updated tests

Refs #23",False,21,12,9,1.0,1.0,0.0,672,362,583,10,3.0256410256410255,76.09744799137759,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
45,40d3b3eae68286f67e40226f18f2621b26e5e533,Simon Willison,2017-11-10 18:48:16+00:00,"Refactored tests into new tests/ folder

Guided by https://docs.pytest.org/en/latest/goodpractices.html",False,4,4,0,,,,676,363,583,10,3.0256410256410255,78.07959612633186,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
46,03c58fb350f6b9bb941a46907da5ac6f67bf47cf,Simon Willison,2017-11-10 19:04:56+00:00,Show databases in alphabetical order on index page,False,2,1,1,,,,676,363,583,10,3.0256410256410255,78.07959612633186,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
47,1c57bd202fb1f82e14c47dfca63454352999732c,Simon Willison,2017-11-10 19:05:57+00:00,"Replaced app_factory with new Datasette class

This should make it easier to add unit tests.",False,87,47,40,1.0,1.0,1.0,683,367,589,10,2.951219512195122,77.9893323517406,18.8,27.6,167.20426486704625,1.8426470588235293,1371.6507243632072,76.20281802017819,0.055734754955682086
48,a8a293cd71f7529aff374be5ca01f2ebd5e71ee4,Simon Willison,2017-11-10 19:25:54+00:00,Refactored util functions into new utils module,False,233,122,111,,,,694,370,600,10,2.951219512195122,74.26280015342321,16.5,23.0,126.58728234154135,1.9921383647798743,909.4296371572906,50.523868730960594,0.042195760780513784
49,e9fce441956642bef3548e3181d72a88317efa65,Simon Willison,2017-11-10 20:26:37+00:00,Don't serve cache headers in debug or refresh modes,False,13,8,5,0.6666666666666666,0.6666666666666666,0.3333333333333333,697,373,603,10,3.0,71.03772003102941,17.5,24.166666666666668,129.60307192571602,2.158805031446541,912.4454267414653,50.69141259674807,0.04320102397523868
50,21c9c04310dffcdb8cf6fee0f74fc9e7ac1ecf19,Simon Willison,2017-11-10 20:41:14+00:00,"Implemented cursor-based pagination for table view

Closes #5",False,90,72,18,0.17073170731707318,0.0,0.07317073170731707,748,407,645,13,3.380952380952381,70.42365576193353,20.0,28.5,159.81771792525743,2.1536458333333335,1133.3734300988149,62.96519056104527,0.05327257264175247
51,7d81083d40fb2749be897d89c9a094d6521ef20c,Simon Willison,2017-11-11 05:55:50+00:00,"Implemented responsive tables, removed bootstrap

No need for all of bootstrap since we only need to style a few elements.

Implemented responsive table pattern from here:
https://css-tricks.com/responsive-data-tables/

Refs #16",False,169,112,57,0.6666666666666666,1.0,1.0,758,413,651,13,3.3255813953488373,70.28309203141573,20.0,28.5,159.81771792525743,2.1536458333333335,1133.3734300988149,62.96519056104527,0.05327257264175247
52,65e350ca2a4845c25752a62c16ba58cfe2c14b9b,Simon Willison,2017-11-11 07:25:22+00:00,"Implemented 'datasette publish one.db two.db' command

Closes #26",False,49,42,7,0.3870967741935484,1.0,1.0,800,437,688,14,3.2666666666666666,68.39223455945553,20.5,29.5,165.4153167200156,2.176373106060606,1153.9902588074535,64.11056993374741,0.05513843890667186
53,3863a30b5d18204b4c77518f1880a1f705e929db,Simon Willison,2017-11-11 16:00:00+00:00,"publish command checks 'now' is installed

Closes #58",False,12,12,0,0.0,1.0,1.0,812,443,700,14,3.2888888888888888,67.74088703870476,20.666666666666668,29.833333333333332,166.61055951892732,2.176373106060606,1155.1855016063653,64.17697231146472,0.05553685317297577
54,3280972c891633c6015fa55bbfd094420b4f0233,Simon Willison,2017-11-11 16:52:17+00:00,"Fixed tests I broke earlier

Broke these tests in 21c9c04310dffcdb8cf6fee0f74fc9e7ac1ecf19",False,35,17,18,0.0,0.0,1.0,811,442,699,14,3.2888888888888888,67.7990316217697,20.666666666666668,29.833333333333332,166.61055951892732,2.176373106060606,1155.1855016063653,64.17697231146472,0.05553685317297577
55,407795b61217205625f2d4e084afbf69f1db781b,Simon Willison,2017-11-11 17:47:59+00:00,"Initial unit tests against our Sanic app

Refs #50

I had to disable the build metadata function to get these tests to work
sensibly. I need to completely rethink how that mechanism works.",False,67,65,2,1.0,1.0,1.0,874,472,747,15,3.1458333333333335,66.92033971426812,19.857142857142858,29.0,156.20410448688116,2.041286838161838,1006.6452210330787,55.9247345018377,0.05206803482896039
56,ad8b5d3bd23a7b306b8843d7de53a7c918ddb74f,Simon Willison,2017-11-11 17:49:47+00:00,"JSON version of our homepage

Now available at http://localhost:8006/.json

Tested by tests added in 407795b61217205625f2d4e084afbf69f1db781b",False,26,19,7,0.0,1.0,0.0,886,476,759,15,3.2083333333333335,66.84280799204659,19.857142857142858,29.0,156.20410448688116,2.041286838161838,1006.6452210330787,55.9247345018377,0.05206803482896039
57,40a563ebac72f46a1b2dc498a25520c429bca6d6,Simon Willison,2017-11-11 20:11:51+00:00,"Reworked metadata building options

Building metadata is now optional. If you want to do it, do this:

    datasette build *.db --metadata=metadata.json

Then when you run the server you can tell it to read from metadata:

    datasette serve *.db --metadata=metadata.json

The Dockerfile generated by datasette publish now uses this mechanism.

Closes #60",False,187,98,89,1.0,1.0,0.125,895,482,769,15,3.2708333333333335,66.54589603834918,19.142857142857142,27.857142857142858,147.49154510560862,2.058500821212686,945.2029069188831,52.511272606604614,0.04916384836853621
58,e4bf66d9b075190bf96c1f85eaccd7464915f249,Simon Willison,2017-11-11 20:36:20+00:00,"Added header with breadcrumbs and footer

Also cleaned up titles on various pages.

Closes #61",False,41,32,9,0.0,0.0,0.0,896,482,770,15,3.2708333333333335,66.54427947932125,19.142857142857142,27.857142857142858,147.49154510560862,2.058500821212686,945.2029069188831,52.511272606604614,0.04916384836853621
59,e9e1def4c0cc49c96ed0b0d2bbc3ae81353ed2bb,Simon Willison,2017-11-11 22:20:00+00:00,"Revised JSON design a bit

Closes #63",False,34,22,12,0.8,0.8,0.8,906,490,780,15,3.2244897959183674,65.82033394128258,20.0,29.571428571428573,156.68555266638447,2.0631277732080586,957.2502380392367,53.18056877995759,0.0522285175554615
60,fa42a56c6a0fa62529eabf2d363bd3008ce23094,Simon Willison,2017-11-11 22:22:47+00:00,"Bulked out table test a bit

I'm closing #50 - more tests will be added in the future, but the framework
is neatly in place for them now.",False,7,7,0,1.0,1.0,1.0,913,492,787,15,3.2244897959183674,65.61534288751884,20.285714285714285,30.0,159.2991939615542,2.0595473936878297,959.9200330003883,53.32889072224379,0.053099731320518075
61,2366a016f252f2220eb777938a9da4b0de179063,Simon Willison,2017-11-11 22:40:44+00:00,"Added links to .json and .jsono representations

Closes #62",False,35,32,3,0.375,0.8125,0.375,932,501,804,15,3.2,65.32059257429475,21.0,31.285714285714285,166.97003953009076,2.0718129059533417,986.7009655312024,54.816720307289025,0.05565667984336359
62,fd3a33989aaf2533c4928de3b251c24614003f1e,Simon Willison,2017-11-12 01:50:21+00:00,"Implemented new database view and template

Closes #53 - see comments there for screenshots.",False,59,42,17,1.0,0.0,1.0,931,500,803,15,3.24,65.30766607401343,21.0,31.285714285714285,166.97003953009076,2.0718129059533417,986.7009655312024,54.816720307289025,0.05565667984336359
63,59580d02da80eb963d5bce897c539c6489042025,Simon Willison,2017-11-12 02:35:35+00:00,"Implemented custom SQL via textarea

Closes #65",False,93,92,1,0.19607843137254902,1.0,0.6078431372549019,986,524,854,16,3.1923076923076925,64.59493724512558,22.571428571428573,33.857142857142854,183.193820339383,2.0645850147968794,1004.6915685173791,55.816198250965506,0.06106460677979435
64,b51836f8463ef65bc947f0a7b6e60167cb7154cf,Simon Willison,2017-11-12 20:02:45+00:00,"Fixed bug with tables with spaces in their name

The new database index page was erroring.",False,2,1,1,,,,986,524,854,16,3.1923076923076925,64.59493724512558,22.571428571428573,33.857142857142854,183.193820339383,2.0645850147968794,1004.6915685173791,55.816198250965506,0.06106460677979435
65,8acdc2fd14c0f7251e1e3fd592c53b3152f5256c,Simon Willison,2017-11-12 20:08:32+00:00,"Test for table with space in name

Tests code in b51836f8463ef65bc947f0a7b6e60167cb7154cf",False,47,28,19,0.0,1.0,1.0,995,524,862,16,3.1923076923076925,64.54437893675535,22.571428571428573,33.857142857142854,183.193820339383,2.0645850147968794,1004.6915685173791,55.816198250965506,0.06106460677979435
66,ff2ab9dc7d82f70daae10f5b0cde87d74704f910,Simon Willison,2017-11-12 20:32:25+00:00,"Views now show their SQL, are handled a bit better

Refs #66",False,70,43,27,0.48148148148148145,0.48148148148148145,0.48148148148148145,1029,542,891,16,3.30188679245283,63.977251361370925,23.571428571428573,35.857142857142854,196.64024925571798,2.058883768561188,1054.2443948202329,58.569133045568485,0.06554674975190601
67,666aa032530189d585dd61d0e9851e9fe63ee598,Simon Willison,2017-11-12 21:16:15+00:00,"Improved error handling

Invalid SQL now shows a special error.html template, and is covered by tests.",False,73,53,20,0.6,0.6,0.6,1051,555,911,16,3.259259259259259,63.518759900169414,24.714285714285715,38.0,211.0752924776239,2.153383583991236,1114.167247839254,61.898180435514114,0.07035843082587465
68,22851ed9f0541904f5c3fca7ddbd7add10a75d39,Simon Willison,2017-11-12 21:16:59+00:00,"Table page now shows CREATE TABLE at bottom

Closes #66",False,13,11,2,0.0,0.0,0.0,1057,559,917,16,3.259259259259259,63.49333440197854,24.714285714285715,38.0,211.0752924776239,2.153383583991236,1114.167247839254,61.898180435514114,0.07035843082587465
69,efecae5a11617eb576d475192384339fcdb03189,Simon Willison,2017-11-12 23:01:29+00:00,"Full path to database now works

e.g. datasette /tmp/blah.db

Previously this failed because it did not open with full path.",False,4,2,2,,,,1057,559,917,16,3.259259259259259,63.49333440197854,24.714285714285715,38.0,211.0752924776239,2.153383583991236,1114.167247839254,61.898180435514114,0.07035843082587465
70,4c66097d581c3970a23530598c4fe98b09f422ee,Simon Willison,2017-11-12 23:16:24+00:00,"datasette publish now works with full paths

e.g. datasette publish /tmp/blah/database.db now does the right thing",False,5,3,2,0.0,0.0,1.0,1058,560,918,16,3.2777777777777777,63.29791153347162,25.0,38.285714285714285,212.44714686581634,2.2248121554198073,1118.0297575857226,62.11276431031792,0.07081571562193878
71,26370b14d862a5d2dc32b858bdf627f2a5ec3209,Simon Willison,2017-11-12 23:17:00+00:00,"Handle table names with slashes in them

e.g. https://datasette-wdlexdiaoz.now.sh/fivethirtyeight-75d605c/bob-ross%2Felements-by-episode.csv?CABIN=1&BUSHES=1&CLOUDS=1",False,131,98,33,0.7142857142857143,1.0,1.0,1092,577,946,16,3.2142857142857144,62.816135963935224,25.571428571428573,39.57142857142857,221.09550952854593,2.229265396389624,1136.5828699908334,63.14349277726853,0.07369850317618197
72,2bbe9ca34a701191e3bf4e97943b7503a50ab548,Simon Willison,2017-11-13 02:11:52+00:00,Support OPTIONS requests for CORS,False,10,8,2,1.0,1.0,0.0,1098,582,951,16,3.1578947368421053,62.76918084511515,25.571428571428573,39.57142857142857,221.09550952854593,2.229265396389624,1136.5828699908334,63.14349277726853,0.07369850317618197
73,ff2fb573cd8773206a6df83229620928056e2ee2,Simon Willison,2017-11-13 02:12:21+00:00,"datasette publish --name=now-accepts-name

Fixes #72",False,5,3,2,,,,1099,583,952,16,3.1578947368421053,62.733557405720894,25.571428571428573,39.57142857142857,221.09550952854593,2.229265396389624,1136.5828699908334,63.14349277726853,0.07369850317618197
74,3ef35ca8b4369af6a8bcdd9e5cfbb5f3a7d17cf8,Simon Willison,2017-11-13 15:20:02+00:00,"serve and publish commands now take a --metadata option

If provided, the --metadata option is the path to a JSON file containing
metadata that should be displayed alongside the dataset.

    datasette /tmp/fivethirtyeight.db --metadata /tmp/metadata.json

Currently that metadata format looks like this:

    {
        ""title"": ""Five Thirty Eight"",
        ""license"": ""CC Attribution 4.0 License"",
        ""license_url"": ""http://creativecommons.org/licenses/by/4.0/"",
        ""source"": ""fivethirtyeight/data on GitHub"",
        ""source_url"": ""https://github.com/fivethirtyeight/data""
    }

If provided, this will be used by the index template and to populate the
common footer.

The publish command also accepts this argument, and will package any provided
metadata up and include it with the resulting Docker container.

    datasette publish --metadata /tmp/metadata.json /tmp/fivethirtyeight.db

Closes #68",False,175,113,62,0.0,0.8888888888888888,0.0,1117,590,969,16,3.245614035087719,62.077508790869906,26.571428571428573,41.142857142857146,230.59576054173894,2.3173350328463576,1204.0907310356404,66.89392950198001,0.07686525351391298
75,4143e3b45c16cbae5e3e3419ef479a71810e7df3,Simon Willison,2017-11-13 16:17:35+00:00,"New command: datasette package - packages a docker container

Example usage:

    datasette package fivethirtyeight.db \
        --tag fivethirtyeight \
        --metadata=538-metadata.json

This will create a temporary directory, generate a Dockerfile, copy in the
SQLite database and metadata file, then build that as a new docker image and
tag that in your local Docker repository as fivethirtyeight:latest.

You can then run the image like so:

    docker run -p 8006:8001 fivethirtyeight

This will expose port 8001 in the container (the default) as port 8006 on your
host.

Closes #67",False,91,65,26,0.6190476190476191,1.0,0.0,1156,610,1002,16,3.2033898305084745,61.82113045411353,26.714285714285715,41.42857142857143,233.27419481598616,2.3186904137083792,1238.2059583233981,68.78921990685544,0.07775806493866204
76,495407acefe1e6976316aef88ae0e4c1d48ab421,Simon Willison,2017-11-13 18:03:52+00:00,"Force initial .inspect() before starting server

Otherwise there is a long pause on the first request made.",False,8,5,3,0.0,1.0,0.0,1158,611,1003,17,3.2033898305084745,62.01260343195566,26.714285714285715,41.42857142857143,233.27419481598616,2.3186904137083792,1238.2059583233981,68.78921990685544,0.07775806493866204
77,97c4bf4271495f8f711926ec44d8def3f2941379,Simon Willison,2017-11-13 18:17:42+00:00,"Added --cors argument to enable CORS

Closes #75",False,22,14,8,0.6,0.8,0.0,1164,617,1009,17,3.2711864406779663,61.89204357704949,26.714285714285715,41.42857142857143,233.27419481598616,2.3186904137083792,1238.2059583233981,68.78921990685544,0.07775806493866204
78,4fec50597a8684756bc96d4a69b6fab809ec6cf6,Simon Willison,2017-11-13 18:39:25+00:00,Include license/source in JSON output if provided,False,6,5,1,0.0,0.0,0.0,1168,621,1013,17,3.3389830508474576,61.799376440270386,27.0,41.857142857142854,236.60500861618726,2.3116339620954767,1261.3754679729984,70.07641488738878,0.07886833620539575
79,20d41c8e8e84ab3e8bdb5cca9bd9799da09794ad,Simon Willison,2017-11-13 18:40:51+00:00,"publish now takes a required publisher argument - only current option is 'now'

Closes #76",False,11,10,1,,,,1177,623,1014,17,3.3389830508474576,62.62125359355217,27.0,41.857142857142854,236.60500861618726,2.3116339620954767,1261.3754679729984,70.07641488738878,0.07886833620539575
80,e838bd743d31358b362875854a0ac5e78047727f,Simon Willison,2017-11-13 18:41:59+00:00,Added README and improved help for 'datasette serve',False,162,154,8,,,,1177,623,1014,17,3.3389830508474576,62.62125359355217,27.0,41.857142857142854,236.60500861618726,2.3116339620954767,1261.3754679729984,70.07641488738878,0.07886833620539575
81,6b3b05b6db0d2a7b7cec8b8dbb4ddc5e12a376b2,Simon Willison,2017-11-13 18:42:30+00:00,Released 0.7,False,4,2,2,,,,1177,623,1014,17,3.3389830508474576,62.62125359355217,27.0,41.857142857142854,236.60500861618726,2.3116339620954767,1261.3754679729984,70.07641488738878,0.07886833620539575
82,8252e71da461c425e625e1c3e4ee0bd92ea4cbf0,Simon Willison,2017-11-13 19:33:01+00:00,"Limit on max rows returned, controlled by --max_returned_rows option

If someone executes 'select * from table' against a table with a million rows
in it, we could run into problems: just serializing that much data as JSON is
likely to lock up the server.

Solution: we now have a hard limit on the maximum number of rows that can be
returned by a query. If that limit is exceeded, the server will return a
`""truncated"": true` field in the JSON.

This limit can be optionally controlled by the new `--max_returned_rows`
option. Setting that option to 0 disables the limit entirely.

Closes #69",False,101,76,25,0.0,0.0,0.7741935483870968,1220,647,1054,17,3.3,62.109140890521076,28.428571428571427,44.285714285714285,254.7755753570008,2.411764705882353,1419.9215691502566,78.88453161945868,0.08492519178566693
83,7dac1c05cd40f89a5af34763e4d5614c750575c2,Simon Willison,2017-11-13 20:34:56+00:00,"Improved pagination

Closes #78",False,39,27,12,1.0,1.0,1.0,1235,660,1067,17,3.2950819672131146,61.73865963995433,29.285714285714285,45.57142857142857,264.48675004982226,2.499484004127967,1500.0853835324328,83.33807686291291,0.08816225001660742
84,847f3e0c92b5ac17200b2090bedcc5443bb08e4b,Simon Willison,2017-11-13 21:10:55+00:00,"Implemented offset/limit pagination for views

Closes #70",False,49,37,12,0.0,0.0,0.0,1260,667,1089,18,3.459016393442623,61.5215295585735,31.0,48.142857142857146,284.7095559546163,2.6709943977591033,1752.210179052101,97.34500994733894,0.09490318531820544
85,fe279ab7b4ae99dab295d5cf4d39ad06d782997e,Simon Willison,2017-11-13 21:17:34+00:00,"v0.8 - added PyPI metadata, ready to ship",False,17,15,2,,,,1273,667,1102,18,3.459016393442623,61.5215295585735,31.0,48.142857142857146,284.7095559546163,2.6709943977591033,1752.210179052101,97.34500994733894,0.09490318531820544
86,d75f423b6fcfc074b7c6f8f7679da8876f181edd,Simon Willison,2017-11-13 22:00:53+00:00,Release 0.9,False,2,1,1,,,,1284,677,1113,18,3.4754098360655736,61.35759348120133,30.285714285714285,47.285714285714285,278.80752119218585,2.599285714285714,1708.9087368598327,94.9393742699907,0.09293584039739529
87,1e698787a4dd6df0432021a6814c446c8b69bba2,Simon Willison,2017-11-13 22:00:53+00:00,"Added --sql_time_limit_ms and --extra-options

The serve command now accepts --sql_time_limit_ms for customizing the SQL time
limit.

The publish and package commands now accept --extra-options which can be used
to specify additional options to be passed to the datasite serve command when
it executes inside the rusulting Docker containers.",False,82,67,15,0.0,1.0,0.0,1284,677,1113,18,3.4754098360655736,61.35759348120133,30.285714285714285,47.285714285714285,278.80752119218585,2.599285714285714,1708.9087368598327,94.9393742699907,0.09293584039739529
88,44a199a0625b695492b2a8605030dc61191f39cb,Simon Willison,2017-11-13 22:15:21+00:00,"Stop using sqlite WITH RECURSIVE in our tests

The version of Python 3 running in Travis CI doesn't support this.",False,14,5,9,,,,1280,677,1109,18,3.4754098360655736,61.319534771044495,30.857142857142858,48.142857142857146,285.42921100637574,2.591473214285714,1732.161286771749,96.23118259843048,0.09514307033545857
89,50e817801f90d07468ea394ef562d55d8940d124,Simon Willison,2017-11-14 00:44:43+00:00,"Fixed #83

Turns out we had a redirect bug as well.",False,18,16,2,0.8181818181818182,0.8181818181818182,0.8181818181818182,1294,689,1120,19,3.4516129032258065,61.013921232183876,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
90,5928c11ee798a232aa4096706cd47e639d1c9fc2,Simon Willison,2017-11-14 00:45:23+00:00,Version 0.10,False,2,1,1,,,,1294,689,1120,19,3.4516129032258065,61.013921232183876,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
91,00527e5c629d9dae56d6228891b40105ff0e34c6,Simon Willison,2017-11-14 01:23:22+00:00,Enable --cors by default in containers,False,2,1,1,,,,1294,689,1120,19,3.4516129032258065,61.013921232183876,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
92,fc7c04fe0b2f9daf8875ccaa9625ec80d8eeafe2,Simon Willison,2017-11-14 01:48:03+00:00,"Added 'datasette publish now --force' option

This calls now with --force - which is useful as it means you get a fresh copy of
datasette even if now has already cached that docker layer.",False,9,7,2,0.0,1.0,0.0,1298,693,1124,19,3.467741935483871,60.884984295206145,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
93,b0f3d4e375655f0764f3137dbcede324f9bbc0cb,Simon Willison,2017-11-14 01:48:22+00:00,Version 0.11,False,2,1,1,,,,1298,693,1124,19,3.467741935483871,60.884984295206145,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
94,cbb59e3801868e1c284ad50b66343cd4358e516c,Simon Willison,2017-11-15 02:03:21+00:00,Handle tables with names that start with digits,False,13,11,2,0.0,1.0,1.0,1307,693,1132,19,3.467741935483871,60.86739361279858,32.0,51.142857142857146,307.1735158253077,2.634464086638,1906.3915815710805,105.91064342061557,0.10239117194176924
95,0b8c1b0a6da9cb8ac0d28cc90dd783de87554036,Simon Willison,2017-11-15 02:43:34+00:00,"Test for sql_time_limit_ms + sqlite_functions mechanism

Added a unit test for the sql_time_limit_ms option.

To test this, I needed to add a custom SQLite sleep() function. I've added a
simple mechanism to the Datasette class for registering custom functions.

I also had to modify the sqlite_timelimit() function. It makes use of a magic
value, N, which is the number of SQLite virtual machine instructions that
should execute in between calls to my termination decision function.

The value of N was not finely grained enough for my test to work - so I've
added logic that says that if the time limit is less than 50ms, N is set to 1.
This got the tests working.

Refs #95",False,42,37,5,0.30434782608695654,1.0,0.9565217391304348,1339,709,1156,23,3.421875,61.201016904323595,32.857142857142854,52.42857142857143,316.77399371151876,2.720711752527926,1966.3364480659275,109.24091378144041,0.1055913312371729
96,9cb69cbd45ed8fd93190c47060c19abec80bc4ef,Simon Willison,2017-11-15 02:55:10+00:00,"New ?_sql_time_limit_ms=10 argument to database and table page

Allows callers to opt for a lower time limit.

Closes #95",False,35,31,4,0.43478260869565216,0.6521739130434783,0.5652173913043478,1366,724,1179,23,3.4307692307692306,60.915473579960754,34.142857142857146,54.57142857142857,333.7039344929206,2.812015045886014,2166.275771865393,120.34865399252183,0.11123464483097349
97,7fe1e8b4827aa1d7e72825da563effdf44ae7233,Simon Willison,2017-11-15 05:02:11+00:00,"Added extra metadata options to publish and package commands

You can now run these commands like so:

    datasette now publish mydb.db \
        --title=""My Title"" \
        --source=""Source"" \
        --source_url=""http://www.example.com/"" \
        --license=""CC0"" \
        --license_url=""https://creativecommons.org/publicdomain/zero/1.0/""

This will write those values into the metadata.json that is packaged with the
app. If you also pass --metadata= that file will be updated with the extra
values before being written into the Docker image.

Closes #92",False,44,36,8,0.0,0.0,0.0,1384,742,1197,23,3.4923076923076923,60.42838299173055,34.57142857142857,55.0,336.8091549032055,2.8865856365856364,2202.014630560621,122.3341461422567,0.1122697183010685
98,ea183b2ae3d557a370628e236fe606717c704e2a,Simon Willison,2017-11-15 05:08:46+00:00,"Default to 127.0.0.1 not 0.0.0.0

Closes #98",False,6,3,3,,,,1384,742,1197,23,3.4923076923076923,60.42838299173055,34.57142857142857,55.0,336.8091549032055,2.8865856365856364,2202.014630560621,122.3341461422567,0.1122697183010685
99,f45ca30f91b92ac68adaba893bf034f13ec61ced,Simon Willison,2017-11-15 05:18:29+00:00,"Fixed bug with datasette package --metadata

Closes #84",False,2,1,1,,,,1384,742,1197,23,3.4923076923076923,60.42838299173055,34.57142857142857,55.0,336.8091549032055,2.8865856365856364,2202.014630560621,122.3341461422567,0.1122697183010685
100,f48cb705d816563e7c8f1af72e67c5e36cc81dab,Jacob Kaplan-Moss,2017-11-15 19:53:00+00:00,"Initial cut at `datasette publish heroku`

Rather gross, but proves that it works.",False,96,77,19,0.0,0.20512820512820512,0.0,1442,780,1238,26,3.606060606060606,59.627174768570974,35.57142857142857,56.57142857142857,345.50602490880675,2.976953601953602,2233.3025254244203,124.0723625235789,0.11516867496960223
101,9f47b6e4d80f0f393cf0167a6f48280de6847d1d,Simon Willison,2017-11-16 00:14:07+00:00,"Pin to specific Jinja version

Closes #100",False,1,1,0,,,,1385,742,1198,23,3.4923076923076923,60.42838299173055,34.57142857142857,55.0,336.8091549032055,2.8865856365856364,2202.014630560621,122.3341461422567,0.1122697183010685
102,5d8084a28578da2aefa79ad81df9d82e2c265666,Simon Willison,2017-11-16 01:32:48+00:00,"Added a UI for editing named parameters

Fixes #96",False,41,37,4,0.0,0.0,0.0,1401,750,1209,25,3.5846153846153848,60.378251905128685,35.142857142857146,55.857142857142854,343.8332034759359,2.8735137411608,2254.1098289746674,125.22832383192598,0.11461106782531193
103,a4af532a31ece7095d710a1f5abb39ea93fe003f,Simon Willison,2017-11-16 01:34:32+00:00,"Include foreign key info in inspect() output

Refs #85",False,50,43,7,0.0,0.0,1.0,1437,770,1241,25,3.6515151515151514,59.92409305161899,35.57142857142857,56.285714285714285,346.9689208094058,2.9477252439437316,2293.1417533677036,127.39676407598351,0.11565630693646857
104,82261a638bd35c9d69a9582a898cf4dab374f76c,Simon Willison,2017-11-16 01:59:42+00:00,"Turn on auto-escaping in Jinja

We had XSS holes! Since we don't do cookies or authentication
they shouldn't cause any actual harm, but still really not good.

https://github.com/pallets/jinja/issues/528",False,3,2,1,0.0,1.0,1.0,1438,770,1242,25,3.6515151515151514,59.92289236160677,35.57142857142857,56.285714285714285,346.9689208094058,2.9477252439437316,2293.1417533677036,127.39676407598351,0.11565630693646857
105,9199945a1bcec4852e1cb866eb3642614dd32a48,Simon Willison,2017-11-16 14:46:49+00:00,"Fixed 500 on views page

Bug introduced in a4af532a31ece7095d710a1f5abb39ea93fe003f

Refs 85",False,4,3,1,0.0,0.0,0.0,1440,772,1244,25,3.6818181818181817,59.88885882178363,35.57142857142857,56.57142857142857,348.86716543505565,2.960330285960538,2324.79777403663,129.1554318909239,0.11628905514501854
106,e6ca88588395a9b8266c0e14121668990d34ff67,Simon Willison,2017-11-16 15:11:00+00:00,"Added initial docs, including a changelog

Docs initialized using this helpful guide:

http://docs.readthedocs.io/en/latest/getting_started.html

I used https://pypi.python.org/pypi/gitchangelog to kick-start the changelog.

Closes #99

Refs #109",False,365,365,0,,,,1609,794,1293,119,3.6818181818181817,64.90275146906068,31.125,49.5,305.2587697556737,2.5902890002154706,2034.1980522820513,113.0110029045584,0.10175292325189123
107,228bce83a37b4bee633f674b802aee13fe5b2f44,Simon Willison,2017-11-16 15:20:54+00:00,"Added __version__, bumped it to 0.12

Closes #108",False,11,9,2,0.0,0.5,0.0,1616,799,1300,120,3.6818181818181817,68.79689848679415,27.666666666666668,44.0,271.34112867170995,2.3024791113026404,1808.1760464729346,100.4542248040519,0.09044704289056998
108,b7c4165346ee8b6a6fbd72d6ba2275a24a8a8ae3,Simon Willison,2017-11-16 16:48:49+00:00,"Added --load-extension argument to datasette serve

Allows loading of SQLite extensions. Refs #110.",False,26,23,3,0.6666666666666666,1.0,0.6666666666666666,1623,805,1307,120,3.727272727272727,68.70122481339179,27.88888888888889,44.333333333333336,274.09221259288535,2.297520806141496,1828.5583326073825,101.58657403374349,0.0913640708642951
109,b9af49be6c68d6e551c1ae23132711f22cb7c63c,Simon Willison,2017-11-17 13:26:05+00:00,"Fix case for Sanic dependency

On PyPI it has a capital letter: https://pypi.python.org/pypi/Sanic

I think this is why the list of ""Requires Distributions"" on https://pypi.python.org/pypi/datasette links to all of the other dependencies but does not link to Sanic.",False,2,1,1,,,,1623,805,1307,120,3.727272727272727,68.70122481339179,27.88888888888889,44.333333333333336,274.09221259288535,2.297520806141496,1828.5583326073825,101.58657403374349,0.0913640708642951
110,ed2b3f25beac720f14869350baacc5f62b065194,Ray N,2017-11-17 13:29:22+00:00,"add support for ?field__isnull=1 (#107)

* add support for ?field__isnull=1

* Add unit test and conditional formatting for ?field__isnull",False,20,17,3,0.0,0.0,1.0,1637,809,1321,120,3.742424242424242,68.57688609496203,28.11111111111111,44.666666666666664,276.34803930013146,2.294946803567493,1839.9320999320407,102.21844999622448,0.0921160131000438
111,03572ae35573c2ea802a540624ce116f540ba1ac,Simon Willison,2017-11-17 14:13:35+00:00,"Allow --load-extension to be set via environment variable

I tesed this by first building and running a container using the new
Dockerfile from #114:

    docker build .
    docker run -it -p 8001:8001 6c9ca7e29181 /bin/sh

Then I ran this inside the container itself:

    apt update && apt-get install wget -y \
        && wget http://www.gaia-gis.it/spatialite-2.3.1/test-2.3.sqlite.gz \
        && gunzip test-2.3.sqlite.gz \
        && mv test-2.3.sqlite test23.sqlite \
        && datasette -h 0.0.0.0 test23.sqlite

I visited this URL to confirm I got an error due to spatialite not being
loaded:

http://localhost:8001/test23-c88bc35?sql=select+ST_AsText%28Geometry%29+from+HighWays+limit+1

Then I checked that loading it with `--load-extension` worked correctly:

    datasette -h 0.0.0.0 test23.sqlite \
        --load-extension=/usr/lib/x86_64-linux-gnu/mod_spatialite.so

Then, finally, I tested it with the new environment variable option:

    SQLITE_EXTENSIONS=/usr/lib/x86_64-linux-gnu/mod_spatialite.so \
        datasette -h 0.0.0.0 test23.sqlite

Running it with an invalid environment variable option shows an error:

    $ SQLITE_EXTENSIONS=/usr/lib/x86_64-linux-gnu/blah.so datasette \
        -h 0.0.0.0 test23.sqlite
    Usage: datasette -h [OPTIONS] [FILES]...

    Error: Invalid value for ""--load-extension"": Path ""/usr/lib/x86_64-linux-gnu/blah.so"" does not exist.

Closes #112",False,9,6,3,,,,1640,809,1324,120,3.742424242424242,68.5575469023878,28.11111111111111,44.666666666666664,276.34803930013146,2.294946803567493,1839.9320999320407,102.21844999622448,0.0921160131000438
112,084350b0f1343d988928cae63cfedbeb6205e25e,Simon Willison,2017-11-17 14:53:37+00:00,"Switched to gather_request=False for Sanic tests

Gets rid of those ugly _, response = lines.",False,67,39,28,0.9090909090909091,1.0,1.0,1651,809,1335,120,3.742424242424242,68.54285698665603,28.11111111111111,44.666666666666664,276.34803930013146,2.294946803567493,1839.9320999320407,102.21844999622448,0.0921160131000438
113,e16ca1169cc49fbb5b0325564d248becad3a4b7f,Simon Willison,2017-11-17 15:39:36+00:00,"Refactored table column/row display logic

Simplified the template and made the way for upcoming foreign key work.

Refs #85

Also fixed &nbsp; bug on database page - closes #113",False,66,49,17,0.0,0.0,0.0,1690,828,1365,124,3.8507462686567164,68.40383346173816,29.555555555555557,47.0,295.57062006527013,2.346283929617263,2087.329353630463,115.96274186835906,0.09852354002175671
114,45e502aace6cc1198cc5f9a04d61b4a1860a012b,Simon Willison,2017-11-17 16:08:11+00:00,"Added unit tests for inspect() foreign key detection

Used them to fix a bug with it.

Refs #85",False,78,77,1,0.16216216216216217,1.0,1.0,1766,855,1431,124,3.782608695652174,67.0662816920056,27.8,44.1,272.4664905600412,2.1662009912009914,1882.1161996317612,104.56201109065341,0.09082216352001374
115,0b702f3679a2ffd4e3efb5c34b9fe30221172ccb,Simon Willison,2017-11-17 16:18:26+00:00,"Fixed weird edge-case with foreign key detection

It turns out it is possible for a SQLite table to define a foreign key
relationship to a table that does not actually exist

We should still be able to handle these databases.",False,4,4,0,0.0,0.0,1.0,1770,857,1433,126,3.7971014492753623,67.16736216854852,28.1,44.4,274.70417817936584,2.217968142968143,1912.9104554202627,106.27280307890348,0.09156805939312194
116,6eb23d21435eece1ec3c3fe996a9c36b6b967fc7,Jacob Kaplan-Moss,2017-11-17 20:09:01+00:00,Moved `datasette build` to a post_compile hook.,False,6,2,4,,0.0,,1440,780,1238,25,3.606060606060606,59.555582396457346,35.57142857142857,56.57142857142857,345.50602490880675,2.976953601953602,2233.3025254244203,124.0723625235789,0.11516867496960223
117,6a007f632258e6cfd3c5e9e229683deb0efd87be,Simon Willison,2017-11-18 03:15:49+00:00,Row pages show incoming foreign key relationships,False,42,42,0,0.0,0.0,0.0,1798,878,1459,127,3.8714285714285714,67.00006743361384,28.6,45.2,281.3963010044714,2.209032634032634,1966.6654395063065,109.2591910836837,0.09379876700149047
118,1b04662585ea1539014bfbd616a8112b650d5699,Simon Willison,2017-11-18 03:15:49+00:00,"Table views now show expanded foreign key references, if possible

If a table has foreign key columns, and those foreign key tables have
label_columns, the TableView will now query those other tables for the
corresponding values and display those values as links in the corresponding
table cells.

label_columns are currently detected by the inspect() function, which looks
for any table that has just two columns - an ID column and one other - and
sets the label_column to be that second non-ID column.",False,184,128,56,0.21052631578947367,0.21052631578947367,0.38596491228070173,1863,917,1515,132,4.057142857142857,66.72791084803143,30.0,47.6,301.50704723958523,2.201601082533286,2151.474295149205,119.52634973051138,0.10050234907986175
119,80ada4dbb3b7a19e6a0480570f38758d17b87f8b,Simon Willison,2017-11-19 05:59:16+00:00,"Added 'datasette --version' support

Using http://click.pocoo.org/5/api/#click.version_option",False,1,1,0,,,,1864,918,1516,132,4.057142857142857,66.71176149375073,30.0,47.6,301.50704723958523,2.201601082533286,2151.474295149205,119.52634973051138,0.10050234907986175
120,eed6a0fe36120948f8bbc0596185300eadc3d2f4,Simon Willison,2017-11-19 16:59:26+00:00,"Implemented ?_search=XXX + UI if a FTS table is detected

Closes #131",False,80,75,5,0.30612244897959184,0.7346938775510204,0.5918367346938775,1924,943,1566,133,4.0,66.0833333148325,31.2,49.1,312.18146482902426,2.2976387300557635,2231.921540889534,123.99564116052969,0.10406048827634143
121,ddc808f387be62cf776b815bb0eda77616c412ae,Simon Willison,2017-11-19 18:20:17+00:00,"Added --build=master option to datasette publish and package

The `datasette publish` and `datasette package` commands both now accept an
optional `--build` argument. If provided, this can be used to specify a branch
published to GitHub that should be built into the container.

This makes it easier to test code that has not yet been officially released to
PyPI, e.g.:

    datasette publish now mydb.db --branch=master",False,34,22,12,0.0,1.0,0.0,1932,948,1574,133,4.013698630136986,66.00518125886957,31.2,49.1,312.18146482902426,2.2976387300557635,2231.921540889534,123.99564116052969,0.10406048827634143
122,386fb11d42767039bb2b389ce98996673d780a42,Simon Willison,2017-11-19 20:25:29+00:00,"?_filter_column=col&_filter_op=op&_filter_value=value redirect

Part of implementing the filters UI (refs #86) - the following:

    /trees/Trees?_filter_column=SiteOrder&_filter_op=gt&_filter_value=2

Now redirects to this;

    /trees/Trees?SiteOrder__gt=2",False,59,53,6,0.20512820512820512,0.6410256410256411,0.6410256410256411,1979,973,1614,136,4.121621621621622,65.79517810928331,33.3,53.0,342.9272720863961,2.296928731662444,2440.8665558262114,135.60369754590064,0.11430909069546535
123,a5881e105a02830d26f07e98177248d5910893da,Simon Willison,2017-11-19 20:33:30+00:00,"?_filter_column=col&_filter_op=isnull__1 redirect

if filter_op contains a __ the value is set to the right hand side.

e.g.

    ?_filter_column=col&_filter_op=isnull__1&_filter_value=x

Redirects to:

    ?col__isnull=1

Refs #86",False,12,12,0,0.0,0.8,0.8,1991,980,1624,137,4.135135135135135,65.76744186275943,33.6,54.2,351.7440844232982,2.315568181818182,2516.624582762745,139.8124768201525,0.11724802814109943
124,523c6f9e3a2cb9a9b5627ee2951147110e91d499,Simon Willison,2017-11-20 05:59:53+00:00,Fixed bug with FTS against tables with hyphens in the name,False,2,1,1,,,,1991,980,1624,137,4.135135135135135,65.76744186275943,33.6,54.2,351.7440844232982,2.315568181818182,2516.624582762745,139.8124768201525,0.11724802814109943
125,b4e6211a9729b5df340c6e210177ee86098b8480,Simon Willison,2017-11-20 06:03:24+00:00,Refactored filter logic and added human descriptions - refs #86,False,158,108,50,1.0,1.0,0.0,2047,1026,1672,138,4.061728395061729,65.23096523561148,33.7,54.6,354.2704409823779,2.32774209486166,2538.284485186722,141.01580473259568,0.11809014699412598
126,771b0ee34789750fdec176c3129eeaa6a6523041,Simon Willison,2017-11-20 06:04:13+00:00,"Initial implementation of ?_group_count=column

URL shortcut for counting rows grouped by one or more columns.

?_group_count=column1&_group_count=column2 works as well.

SQL generated looks like this:

    select ""qSpecies"", count(*) as ""count""
    from Street_Tree_List
    group by ""qSpecies""
    order by ""count"" desc limit 100

Or for two columns like this:

    select ""qSpecies"", ""qSiteInfo"", count(*) as ""count""
    from Street_Tree_List
    group by ""qSpecies"", ""qSiteInfo""
    order by ""count"" desc limit 100

Refs #44

Still todo: clean up code a bunch (it currently fakes being a 'view'), get
foreign key expansion working.",False,30,21,9,0.0,0.0,0.0,2059,1033,1683,139,4.135802469135802,65.16312972652936,34.1,55.4,361.01524702937286,2.328811613578238,2605.2488446218435,144.7360469234358,0.12033841567645762
127,0331666e346c68b86de4aa19fbb37f3a408d37ca,Simon Willison,2017-11-20 06:18:07+00:00,"?_search=x now works directly against fts virtual table

Closes #135",False,7,5,2,1.0,1.0,1.0,2062,1033,1686,139,4.135802469135802,65.1574933312472,34.1,55.4,361.01524702937286,2.328811613578238,2605.2488446218435,144.7360469234358,0.12033841567645762
128,1f79be7e4e203c7d494df21224f77e6a83d63879,Jacob Kaplan-Moss,2017-11-21 18:10:48+00:00,More error checking and docs,False,31,21,10,1.0,0.0,0.0,2036,1034,1645,134,3.8214285714285716,65.32960811249757,30.3,51.3,317.77464063757753,2.568842268842269,2328.801368693975,129.37785381633194,0.10592488021252582
129,de42240afd1e3829fd21cbe77a89ab0eaab20d78,Jacob Kaplan-Moss,2017-11-21 18:51:58+00:00,Some bug fixes.,False,3,2,1,,,,2135,1084,1739,141,4.2439024390243905,64.46436824257094,35.1,56.8,369.0546207261233,2.443799110553312,2640.4366253308763,146.69092362949317,0.12301820690870775
130,a9b9d427915adc133814a022e554f042d5d82d4d,Simon Willison,2017-11-21 20:55:59+00:00,"Mark FTS-related tables as 'hidden' in inspect()

Refs #129",False,49,48,1,0.0,0.5609756097560976,1.0,2182,1097,1781,142,4.289156626506024,63.97913589962483,36.1,58.2,378.7665920775266,2.4907977736549163,2690.8746056109985,149.49303364505548,0.12625553069250886
131,fb505de11c882fa7f2522160509172561b5b8270,Simon Willison,2017-11-22 17:42:29+00:00,"Back-ported format strings for compatibility with Py 3.5

Also fixed a encoding error where Heroku --json return needs to be treated as UTF8",False,30,21,9,0.0,0.45454545454545453,0.0,2194,1097,1792,142,4.289156626506024,63.938074006457256,36.1,58.2,378.7665920775266,2.4907977736549163,2690.8746056109985,149.49303364505548,0.12625553069250886
132,f96e55bce55d26c4d5b198edc536e1b8e9bbea43,Simon Willison,2017-11-22 20:17:51+00:00,"Fix pytest version conflict

https://travis-ci.org/simonw/datasette/jobs/305929426

    pkg_resources.VersionConflict: (pytest 3.2.1 (/home/travis/virtualenv/python3.5.3/lib/python3.5/site-packages), 
    Requirement.parse('pytest==3.2.3'))",False,2,1,1,,,,2194,1097,1792,142,4.289156626506024,63.938074006457256,36.1,58.2,378.7665920775266,2.4907977736549163,2690.8746056109985,149.49303364505548,0.12625553069250886
133,1c8638c30ae9b1e59dd045cf6d0b20e6dc630e5b,Simon Willison,2017-11-22 20:18:57+00:00,"Hide FTS-created tables on index pages

Closes #129",False,67,43,24,1.0,0.0,1.0,2194,1096,1791,142,4.385542168674699,63.87076372819443,36.2,58.4,380.46519800806874,2.4896630218818667,2705.0124955811284,150.27847197672935,0.12682173266935626
134,c8e7c85fd3db46081d61d6071ab1140e8291325e,Simon Willison,2017-11-22 20:25:51+00:00,Updated test_database_page test,False,30,24,6,0.0,1.0,1.0,2212,1096,1809,142,4.385542168674699,63.84449110417144,36.2,58.4,380.46519800806874,2.4896630218818667,2705.0124955811284,150.27847197672935,0.12682173266935626
135,53534b6e9d3956cdb6aa9c062d2beffdd89fa7d9,Simon Willison,2017-11-23 04:03:46+00:00,"Even more complicated redirect scheme

This:

    ?_filter_column_1=name&_filter_op_1=contains&_filter_value_1=hello
    &_filter_column_2=age&_filter_op_2=gte&_filter_value_2=12

Now redirects to this:

    ?name__contains=hello&age__gte=12

This is needed for the filter editing interface, refs #86",False,99,78,21,0.0625,0.25,1.0,2269,1121,1859,143,4.3882352941176475,63.45454105263182,37.4,60.4,394.18831153241683,2.4978902661659026,2744.1216691181353,152.4512038398964,0.13139610384413897
136,0071b5d6f5c97b9896dbcfc8f95ca0db8652a18a,Simon Willison,2017-11-23 04:33:55+00:00,"Added UI for editing table filters

Refs #86",False,142,110,32,0.9,1.0,0.65,2311,1133,1891,145,4.224719101123595,63.34241017362086,37.4,60.4,394.44338504993135,2.4981298329338584,2739.1975366602483,152.17764092556934,0.1314811283499771
137,82c20ea36eb86fc68a48f219e96305477864d589,Simon Willison,2017-11-23 04:39:53+00:00,Added '- pick a column -' as first option,False,23,12,11,,,,2311,1133,1891,145,4.235955056179775,63.32895988122319,37.4,60.4,394.44338504993135,2.4981298329338584,2739.1975366602483,152.17764092556934,0.1314811283499771
138,72e328dccf6def3328290a1a6cd7e7ab22ab0de2,Simon Willison,2017-11-23 04:40:15+00:00,Removed rogue print statement,False,1,0,1,0.0,0.0,0.0,2310,1132,1890,145,4.235955056179775,63.333779959485,37.4,60.4,394.44338504993135,2.4981298329338584,2739.1975366602483,152.17764092556934,0.1314811283499771
139,38dc1ef73b13e5ae9f05ca5e7c86fa3eb639e628,Simon Willison,2017-11-23 04:43:27+00:00,Show linked foreign key in table cells,False,7,6,1,,,,2310,1132,1890,145,4.235955056179775,63.333779959485,37.4,60.4,394.44338504993135,2.4981298329338584,2739.1975366602483,152.17764092556934,0.1314811283499771
140,2f97834d0e47fdcd160bab6a3eb1ffd2f836771d,Simon Willison,2017-11-23 04:45:04+00:00,NBSP before ID display,False,2,1,1,,,,2310,1132,1890,145,4.235955056179775,63.333779959485,37.4,60.4,394.44338504993135,2.4981298329338584,2739.1975366602483,152.17764092556934,0.1314811283499771
141,ef3eacf622e69723d48ab1ad597645770a7361db,Simon Willison,2017-11-23 20:32:54+00:00,Select option for removing filters,False,65,44,21,0.0,0.5882352941176471,0.7647058823529411,2332,1147,1907,148,4.280898876404494,63.28880682722733,37.8,62.0,406.57717519842333,2.591057205178722,2918.4638582940283,162.13688101633488,0.13552572506614113
142,a30c5b220c15360d575e94b0e67f3255e120b916,Simon Willison,2017-11-23 21:09:45+00:00,"Fixed bug on rows page, added unit test

Rows page for rows that linked to the same table in more
than one columns were display incorrectly. Fixed that and added a test.

Also introduced /db/table/row-pk.json?_extras=foreign_key_tables

This is used by the new unit test, but is the first example of a new
?_extras=comma-separated-list pattern I am introducing.",False,97,88,9,0.0,0.8888888888888888,0.8888888888888888,2411,1154,1980,148,4.277777777777778,63.101155688027085,38.8,63.5,419.7019956406795,2.5792102865629554,3002.3385677891533,166.7965870993974,0.13990066521355984
143,4b7596ee5caf68c9b1acd17866f88a57b23db3c4,Simon Willison,2017-11-23 21:51:16+00:00,"Row page now resolves foreign keys

Closes #132",False,206,98,108,1.0,1.0,1.0,2415,1155,1983,148,4.516483516483516,63.096994527299884,38.8,63.5,419.7019956406795,2.5792102865629554,3002.3385677891533,166.7965870993974,0.13990066521355984
144,b45077839100a57adbc284ad5bf555002da819e8,Simon Willison,2017-11-23 22:09:50+00:00,"Added column__not=blah filter

Closes #148",False,5,5,0,,,,2420,1155,1988,148,4.516483516483516,63.078313801193396,38.8,63.5,419.7019956406795,2.5792102865629554,3002.3385677891533,166.7965870993974,0.13990066521355984
145,ab32bd64272886440c92c2fff846faa35b761158,Simon Willison,2017-11-24 21:55:00+00:00,"Fixed bug with params other than p0

p1 and upwards were not correctly extracted.",False,2,1,1,,,,2420,1155,1988,148,4.516483516483516,63.078313801193396,38.8,63.5,419.7019956406795,2.5792102865629554,3002.3385677891533,166.7965870993974,0.13990066521355984
146,a53d09d91910e4af5552a6c1e73d1468a67b7962,Simon Willison,2017-11-24 22:01:53+00:00,"Show count of matching rows on table view

Closes #127",False,23,23,0,0.0,0.0,0.0,2443,1169,2006,152,4.648351648351649,63.005951453933164,39.5,65.0,432.3775570798348,2.583066983793317,3130.1227393576924,173.89570774209403,0.14412585235994493
147,a802cbee74d8c83876375890d914252f1adb1c96,Simon Willison,2017-11-24 22:29:54+00:00,"Search now applies to current filters

Combined search into the same form as filters.

Closes #133",False,53,42,11,0.85,0.1,0.85,2467,1181,2026,153,4.619565217391305,62.895617071670095,40.1,65.9,440.145457684919,2.57572432645066,3160.634089138028,175.59078272989044,0.14671515256163967
148,c5c923d93c26f312b713b81c8d08db5c3279a23a,Simon Willison,2017-11-24 22:51:00+00:00,Don't incorrectly detect VIEWs as supporting FTS,False,7,6,1,0.6,1.0,1.0,2472,1182,2031,153,4.619565217391305,62.80029712300659,40.2,66.2,441.5553685039198,2.5823909931173263,3162.6979940116285,175.70544411175712,0.14718512283463994
149,e3dd2483bb78f3d4b80db6de5475ceb163155b80,Simon Willison,2017-11-25 00:05:28+00:00,Fixed quoting on foreign-key links to tables with spaces in name,False,2,1,1,,,,2472,1182,2031,153,4.619565217391305,62.80029712300659,40.2,66.2,441.5553685039198,2.5823909931173263,3162.6979940116285,175.70544411175712,0.14718512283463994
150,c160f15c3937f8fbe581276f811e8c58f9137bb1,Simon Willison,2017-11-25 03:33:39+00:00,Release version 0.13,False,2,1,1,,,,2472,1182,2031,153,4.619565217391305,62.80029712300659,40.2,66.2,441.5553685039198,2.5823909931173263,3162.6979940116285,175.70544411175712,0.14718512283463994
151,de6c62ed9a30b12b22fded13d492b1f193cfc728,Simon Willison,2017-11-26 23:02:00+00:00,Load SQLite extensions inside .inspect() too,False,24,12,12,,,,2472,1182,2031,153,4.619565217391305,62.80029712300659,40.2,66.2,441.5553685039198,2.5823909931173263,3162.6979940116285,175.70544411175712,0.14718512283463994
152,36701c85928b1eb785527ffd11cd941b31087ea3,Simon Willison,2017-11-26 23:02:01+00:00,datasette build now takes --load-extension,False,8,6,2,,,0.0,2476,1183,2035,153,4.619565217391305,62.77269270956506,40.2,66.2,441.5553685039198,2.5823909931173263,3162.6979940116285,175.70544411175712,0.14718512283463994
153,0120c24927af364304574ab1a58e417094e01c22,Simon Willison,2017-11-29 02:38:15+00:00,"extra_css_urls/extra_js_urls in metadata, refs #153

A mechanism in the metadata.json format for adding custom CSS and JS urls.

Create a metadata.json file that looks like this:

    {
        ""extra_css_urls"": [
            ""https://simonwillison.net/static/css/all.bf8cd891642c.css""
        ],
        ""extra_js_urls"": [
            ""https://code.jquery.com/jquery-3.2.1.slim.min.js""
        ]
    }

Then start datasette like this:

    datasette mydb.db --metadata=metadata.json

The CSS and JavaScript files will be linked in the <head> of every page.

You can also specify a SRI (subresource integrity hash) for these assets:

    {
        ""extra_css_urls"": [
            {
                ""url"": ""https://simonwillison.net/static/css/all.bf8cd891642c.css"",
                ""sri"": ""sha384-9qIZekWUyjCyDIf2YK1FRoKiPJq4PHt6tp/ulnuuyRBvazd0hG7pWbE99zvwSznI""
            }
        ],
        ""extra_js_urls"": [
            {
                ""url"": ""https://code.jquery.com/jquery-3.2.1.slim.min.js"",
                ""sri"": ""sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=""
            }
        ]
    }

Modern browsers will only execute the stylsheet or JavaScript if the SRI hash
matches the content served. You can generate hashes using www.srihash.org",False,28,28,0,0.7894736842105263,0.7894736842105263,0.7894736842105263,2498,1195,2054,153,4.515789473684211,62.65178744117968,40.4,66.5,444.2484869429386,2.580399793508455,3184.2043812029283,176.90024340016268,0.14808282898097952
154,b67890d15d164c7affb2887e5737534628dc6227,Simon Willison,2017-11-29 17:05:24+00:00,"Auto-link column values that look like URLs

Refs #153",False,30,30,0,0.7333333333333333,0.7333333333333333,0.7333333333333333,2528,1210,2076,154,4.505154639175258,62.388109705818735,41.1,67.7,452.49568463692424,2.57367320474052,3226.2798604530976,179.2377700251721,0.15083189487897472
155,8ab3a169d42d096f2c7979c6d3d7746618d30f0b,Simon Willison,2017-11-30 07:09:54+00:00,"CSS styling hooks as classes on the body

Refs #153

Every template now gets CSS classes in the body designed to support custom
styling.

The index template (the top level page at /) gets this:

    <body class=""index"">

The database template (/dbname/) gets this:

    <body class=""db db-dbname"">

The table template (/dbname/tablename) gets:

    <body class=""table db-dbname table-tablename"">

The row template (/dbname/tablename/rowid) gets:

    <body class=""row db-dbname table-tablename"">

The db-x and table-x classes use the database or table names themselves IF
they are valid CSS identifiers. If they aren't, we strip any invalid
characters out and append a 6 character md5 digest of the original name, in
order to ensure that multiple tables which resolve to the same stripped
character version still have different CSS classes.

Some examples (extracted from the unit tests):

    ""simple"" => ""simple""
    ""MixedCase"" => ""MixedCase""
    ""-no-leading-hyphens"" => ""no-leading-hyphens-65bea6""
    ""_no-leading-underscores"" => ""no-leading-underscores-b921bc""
    ""no spaces"" => ""no-spaces-7088d7""
    ""-"" => ""336d5e""
    ""no $ characters"" => ""no--characters-59e024""",False,73,72,1,0.9375,1.0,0.75,2591,1234,2119,158,4.43,62.454659871080096,41.5,68.3,456.80389630582295,2.570781282421353,3238.2497089708313,179.9027616094906,0.1522679654352743
156,ffa77f62b46e1ddf2f848f5da10a1e958323a084,Simon Willison,2017-11-30 15:51:40+00:00,"Removed dependency on sanic-jinja2

I wasn't using any of the functionality it adds on top of raw Jinja2.

Refs #12 and #153",False,36,19,17,1.0,1.0,0.0,2593,1236,2119,158,4.372549019607843,62.43688891279269,41.5,68.3,456.80389630582295,2.570781282421353,3238.2497089708313,179.9027616094906,0.1522679654352743
157,7ff51598c468deb1d2c0d4c23a808458c9b1e3a2,Simon Willison,2017-11-30 16:05:01+00:00,"git commit -m ""datasette --template-dir=mytemplates/"" argument

You can now pass an additional argument specifying a directory to look for
custom templates in.

Datasette will fall back on the default templates if a template is not
found in that directory.

Refs #12, #153",False,15,10,5,0.0,1.0,0.5,2598,1242,2124,158,4.382352941176471,62.394493257079866,41.5,68.3,456.80389630582295,2.570781282421353,3238.2497089708313,179.9027616094906,0.1522679654352743
158,3cd06729f457d690603b6060dc552b535517ab09,Simon Willison,2017-11-30 16:38:16+00:00,"Ability to over-ride templates for individual tables/databases

It is now possible to over-ride templates on a per-database / per-row or per-
table basis.

When you access e.g. /mydatabase/mytable Datasette will look for the following:

    - table-mydatabase-mytable.html
    - table.html

If you provided a --template-dir argument to datasette serve it will look in
that directory first.

The lookup rules are as follows:

    Index page (/):
        index.html

    Database page (/mydatabase):
        database-mydatabase.html
        database.html

    Table page (/mydatabase/mytable):
        table-mydatabase-mytable.html
        table.html

    Row page (/mydatabase/mytable/id):
        row-mydatabase-mytable.html
        row.html

If a table name has spaces or other unexpected characters in it, the template
filename will follow the same rules as our custom <body> CSS classes
introduced in 8ab3a169d42d096f - for example, a table called ""Food Trucks""
will attempt to load the following templates:

    table-mydatabase-Food-Trucks-399138.html
    table.html

It is possible to extend the default templates using Jinja template
inheritance. If you want to customize EVERY row template with some additional
content you can do so by creating a row.html template like this:

    {% extends ""default:row.html"" %}

    {% block content %}
    <h1>EXTRA HTML AT THE TOP OF THE CONTENT BLOCK</h1>
    <p>This line renders the original block:</p>
    {{ super() }}
    {% endblock %}

Closes #12, refs #153",False,55,32,23,0.14285714285714285,0.5714285714285714,0.42857142857142855,2607,1242,2135,159,4.339805825242719,62.3753285599165,41.5,68.3,456.80389630582295,2.570781282421353,3238.2497089708313,179.9027616094906,0.1522679654352743
159,cf46b86cf736aadd5147f85bfd6ff44c29655fde,Simon Willison,2017-11-30 16:56:20+00:00,Switch to sphinx_rtd_theme,False,2,1,1,,,,2607,1242,2135,159,4.339805825242719,62.3753285599165,41.5,68.3,456.80389630582295,2.570781282421353,3238.2497089708313,179.9027616094906,0.1522679654352743
160,e981ac7d4d1e1603257369eb5edba0fc4fdf5ae9,Simon Willison,2017-12-03 16:33:36+00:00,"--static option for datasette serve

You can now tell Datasette to serve static files from a specific location at a
specific mountpoint.

For example:

	datasette serve mydb.db --static extra-css:/tmp/static/css

Now if you visit this URL:

	http://localhost:8001/extra-css/blah.css

The following file will be served:

	/tmp/static/css/blah.css

Refs #160",False,23,21,2,0.5833333333333334,1.0,0.16666666666666666,2626,1256,2151,159,4.3619047619047615,61.908829709027984,42.7,70.2,468.40573022654564,2.69802874318941,3300.825168949598,183.37917605275538,0.15613524340884855
161,0cfd7ce59d9018eb07af8f9e20f7d04308c9d01d,Simon Willison,2017-12-04 04:51:31+00:00,"Allow WITH query (previously we required SELECT at start)

Fixes #161",False,24,18,6,1.0,1.0,1.0,2638,1259,2161,159,4.380952380952381,61.864387301260706,42.5,69.9,466.1278463928973,2.7002868077055386,3287.0776526655777,182.6154251480876,0.15537594879763242
162,a743cdeafca0e5d011c282a53baf753c85d01516,Simon Willison,2017-12-05 16:17:02+00:00,"Canned query support + database/query template refactor

Named canned queries can now be defined in metadata.json like this:

    {
        ""databases"": {
            ""timezones"": {
                ""queries"": {
                    ""timezone_for_point"": ""select tzid from timezones ...""
                }
            }
        }
    }

These will be shown in a new ""Queries"" section beneath ""Views"" on the database page.

As part of this, I refactored the logic for the database index page. It used
to combine the functionality for listing available tables and the
functionality for executing custom SQL queries in a single template and view.
I have split that template out into database.html and query.html and reworked
the view to more clearly separate the custom SQL executing code.

Refs #20",False,265,165,100,0.0,0.0,0.0,2664,1270,2187,159,4.40566037735849,61.735059715589465,43.0,70.8,474.008495612981,2.7663019611129736,3504.151175382124,194.6750652990069,0.15800283187099368
163,709f4f2798d0490ae048094536bed7e973ea29f4,Simon Willison,2017-12-07 04:54:37+00:00,"Fixed bug with detecting FTS tables

Closes #135",False,4,3,1,0.0,1.0,1.0,2666,1271,2189,159,4.40566037735849,61.66252327131711,43.1,71.1,475.5476676861478,2.7710388032182367,3506.4684360858446,194.80380200476912,0.15851588922871593
164,52a5e95d21c9b2b7b50f5bc423e3746ae0538734,Simon Willison,2017-12-07 05:05:53+00:00,"Fixed bug with filter columns

Closes #162",False,17,9,8,0.25,0.25,0.25,2671,1275,2193,159,4.443396226415095,61.61877513870339,43.4,71.7,480.7434305889914,2.7733059210526316,3564.0826614731864,198.00459230406594,0.16024781019633044
165,198b8b2955b9d8a8a80ce850a92a99426c5f161f,Simon Willison,2017-12-07 05:23:13+00:00,"Fixed row page for tables with a primary key

Closes #152",False,34,19,15,0.0,0.0,0.0,2675,1278,2196,160,4.518867924528302,61.561799340399546,43.7,72.7,488.95301105422277,2.785919034549564,3676.2998998386743,204.2388833243708,0.16298433701807424
166,a2b954e82818d5aa4b4c313d9a687d6a7bdd04b5,Simon Willison,2017-12-07 05:39:47+00:00,Fixed #155,False,4,3,1,0.0,0.0,0.0,2677,1281,2198,160,4.518867924528302,61.55532647150578,43.7,72.7,488.95301105422277,2.785919034549564,3676.2998998386743,204.2388833243708,0.16298433701807424
167,7e1ba161ec87b02cf7665a73188258f14036f892,Simon Willison,2017-12-07 06:11:22+00:00,"Ability to easily customize _rows_and_columns.html per database table

Also added documentation for this.

Refs #158, Closes #159.",False,82,78,4,0.0,1.0,1.0,2687,1281,2208,160,4.518867924528302,61.548609100599016,43.7,72.7,488.95301105422277,2.785919034549564,3676.2998998386743,204.2388833243708,0.16298433701807424
168,32cf5a4a72c1c8d46dd302566fdcbf4793f2f927,Simon Willison,2017-12-07 06:20:37+00:00,"New datasette skeleton command for generating metadata.json

Closes #164",False,58,58,0,0.0,1.0,0.0,2745,1298,2263,160,4.5233644859813085,61.15163474774613,43.9,73.0,490.7791900294713,2.7814077563540756,3681.80689471848,204.54482748436,0.1635930633431571
169,515eaa8ccba0603de5b14679b74402f3ddf02bd7,Simon Willison,2017-12-07 16:42:28+00:00,--reload now reloads on metadata changes too,False,4,3,1,0.0,0.0,0.0,2747,1300,2265,160,4.5327102803738315,61.11896461083448,43.9,73.0,490.7791900294713,2.7814077563540756,3681.80689471848,204.54482748436,0.1635930633431571
170,80bf3afa43e3cb396c7a7c9b168eedbc6fe0fa15,Simon Willison,2017-12-07 16:47:07+00:00,"metadata.json support for per-table/per-database metadata

Also added support for descriptions and HTML descriptions.

Here's an example metadata.json file illustrating custom per-database and per-
table metadata:

    {
        ""title"": ""Overall datasette title"",
        ""description_html"": ""This is a <em>description with HTML</em>."",
        ""databases"": {
            ""db1"": {
                ""title"": ""First database"",
                ""description"": ""This is a string description & has no HTML"",
                ""license_url"": ""http://example.com/"",
        		""license"": ""The example license"",
                ""queries"": {
                	""canned_query"": ""select * from table1 limit 3;""
                },
                ""tables"": {
                    ""table1"": {
                        ""title"": ""Custom title for table1"",
                        ""description"": ""Tables can have descriptions too"",
                        ""source"": ""This has a custom source"",
                        ""source_url"": ""http://example.com/""
                    }
                }
            }
        }
    }

Closes #165, Refs #164",False,85,54,31,0.3,0.6,0.6,2757,1302,2275,160,4.5514018691588785,61.09189508949727,44.1,73.3,493.5193396639229,2.7792586580086582,3704.9707571108897,205.8317087283828,0.16450644655464097
171,05399058062ba6df467c8745b87ece5f6951b39f,Simon Willison,2017-12-07 16:57:31+00:00,"Renamed ""datasette build"" command to ""datasette inspect""

Closes #130",False,12,6,6,,,,2757,1302,2275,160,4.5514018691588785,61.09189508949727,44.1,73.3,493.5193396639229,2.7792586580086582,3704.9707571108897,205.8317087283828,0.16450644655464097
172,cbfd6b745eabf51295e5a5e0ea57a0f93d63b37d,Simon Willison,2017-12-08 16:06:24+00:00,"Publish should now work if /tmp is on different device

Fixes #141",False,60,56,4,1.0,1.0,1.0,2809,1330,2313,168,4.463636363636364,60.980329436341,44.9,74.5,500.88422300265813,2.776401515151515,3712.441242849777,206.24673571387657,0.1669614076675527
173,61e3c5a1e904a6e1cbee86ba1494b5cb4b5820cf,Simon Willison,2017-12-08 16:08:00+00:00,"Removed rogue print statement, refs #141",False,1,0,1,0.0,0.0,0.0,2808,1329,2312,168,4.463636363636364,60.98501327038507,44.9,74.5,500.88422300265813,2.776401515151515,3712.441242849777,206.24673571387657,0.1669614076675527
174,446f4b832272b2286f6f65af19714eb64afb7aa6,Simon Willison,2017-12-09 03:00:33+00:00,"Upgrade to Sanic 0.7.0 (#168)

https://github.com/channelcat/sanic/releases/tag/0.7.0",False,2,1,1,,,,2808,1329,2312,168,4.463636363636364,60.98501327038507,44.9,74.5,500.88422300265813,2.776401515151515,3712.441242849777,206.24673571387657,0.1669614076675527
175,16dfccb1c569359fa2a03639ada233e7661156af,Simon Willison,2017-12-09 03:10:09+00:00,"Include sha1 hash in /static/app.css URL

This means that when Datasette's CSS changes the new CSS will be loaded
even though browsers may have cached the previous version.

Closes #154",False,16,14,2,1.0,1.0,0.6,2820,1336,2323,168,4.4324324324324325,60.93688975684356,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
176,2cc14a236c601ee2a6b81d8580e70989574baec9,Simon Willison,2017-12-09 03:47:50+00:00,"Ditched short form options for --static and --template-dir

The -t clashes with the package --tag option",False,4,2,2,,,,2820,1336,2323,168,4.4324324324324325,60.93688975684356,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
177,c195ee4d46f2577b1943836a8270d84c8341d138,Simon Willison,2017-12-09 18:28:49+00:00,"package and publish commands now accept --static and --template-dir

Example usage:

    datasette package --static css:extra-css/ --static js:extra-js/ \
    	sf-trees.db --template-dir templates/ --tag sf-trees --branch master

This creates a local Docker image that includes copies of the templates/,
extra-css/ and extra-js/ directories. You can then run it like this:

	docker run -p 8001:8001 sf-trees

For publishing to Zeit now:

	datasette publish now --static css:extra-css/ --static js:extra-js/ \
		sf-trees.db --template-dir templates/ --name sf-trees --branch master

Example: https://sf-trees-wbihszoazc.now.sh/sf-trees-02c8ef1/Street_Tree_List

For publishing to Heroku:

	datasette publish heroku --static css:extra-css/ --static js:extra-js/ \
		sf-trees.db --template-dir templates/ --branch master

Closes #157, #160",False,96,72,24,0.12195121951219512,0.0,0.12195121951219512,2868,1361,2368,168,4.473214285714286,60.66514667342219,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
178,b01304d7070df5a02870ebd204ea093f3742029e,Simon Willison,2017-12-09 18:39:19+00:00,Updated tests I broke in c195ee4,False,10,8,2,0.0,1.0,1.0,2874,1361,2374,168,4.473214285714286,60.64752330489156,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
179,1c0d93c39b194103e729aed2496d2d24f5ad4850,Simon Willison,2017-12-09 18:39:19+00:00,Fix Python 3.5 test failure,False,2,1,1,,,,2874,1361,2374,168,4.473214285714286,60.64752330489156,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
180,3c9f889715249d7b0b3bc014529073066a1d478d,Simon Willison,2017-12-09 21:34:46+00:00,"Custom templates for canned queries

Closes #170",False,14,13,1,0.0,0.0,0.0,2881,1364,2379,168,4.482142857142857,60.62585492827534,45.0,74.7,502.63163359115214,2.7753463855421687,3727.888607331564,207.10492262953136,0.16754387786371738
181,7126d08f10d637c9f1af346324f6f7c0fece8be4,Simon Willison,2017-12-09 21:47:32+00:00,"HTML comment showing which templates were considered for a page

Closes #171",False,22,20,2,1.0,1.0,0.0,2887,1366,2385,168,4.517857142857143,60.58825805386586,45.2,75.0,505.3787464807307,2.77327380952381,3751.1203519120436,208.3955751062246,0.16845958216024354
182,7a7e4b2ed8c76c6d002a9d707dbc840f6a2abf7f,Simon Willison,2017-12-09 23:32:54+00:00,"Started unit tests for row/table HTML pages

Refs #167

Thanks to the new tests, spotted and fixed a bug where pages that were
supposed to have 100 things on them were actually displaying 101.",False,76,75,1,0.6451612903225806,0.9838709677419355,0.9838709677419355,2961,1391,2450,168,4.405172413793103,60.26225730663951,46.8,77.4,526.3793039284158,2.75764880952381,3834.241584823229,213.01342137906826,0.17545976797613858
183,794c3bfcfc03087bbebffb7b228e81aaa8b72183,Simon Willison,2017-12-10 00:59:25+00:00,"Cleaned up row/column display logic, fixed bug

Closes #167",False,178,120,58,0.0,1.0,1.0,3023,1407,2507,165,4.201680672268908,60.1383473750825,47.2,76.6,521.0041954713381,2.7192857142857148,3629.686126012416,201.64922922291203,0.1736680651571127
184,ae940068096ad9ff2f27f4e1784c87788d53eb3d,Simon Willison,2017-12-10 01:31:08+00:00,"No longer include database hash in hyperlinks

It was making the unit tests unreliable. Also we do not do that for foreign key links.",False,17,7,10,1.0,1.0,1.0,3020,1405,2504,165,4.201680672268908,60.143492672097395,47.2,76.6,521.0041954713381,2.7192857142857148,3629.686126012416,201.64922922291203,0.1736680651571127
185,2edc652df6d786e4f2c3f073e3567002d248be09,Simon Willison,2017-12-10 01:33:24+00:00,Releasing v0.14,False,2,1,1,,,,3020,1405,2504,165,4.201680672268908,60.143492672097395,47.2,76.6,521.0041954713381,2.7192857142857148,3629.686126012416,201.64922922291203,0.1736680651571127
186,68a34bc222af586c75daa5166c937f3f26cfefac,Simon Willison,2017-12-10 02:01:17+00:00,"Deploy to Heroku with Python 3.6.3

Heroku deploys are currently showing the following warning:

    The latest version of Python 3 is python-3.6.3 (you are using python-3.6.2, which is unsupported).
    We recommend upgrading by specifying the latest version (python-3.6.3).",False,2,1,1,,,,3020,1405,2504,165,4.201680672268908,60.143492672097395,47.2,76.6,521.0041954713381,2.7192857142857148,3629.686126012416,201.64922922291203,0.1736680651571127
187,1aad396c9ef46837b224607086c09f48ac921165,Simon Willison,2017-12-13 05:36:03+00:00,"Fixed bug with .json path regular expression

I had a table called ""geojson"" and it caused an exception because the regex
was matching .json and not \.json",False,8,4,4,,,,3020,1405,2504,165,4.201680672268908,60.143492672097395,47.2,76.6,521.0041954713381,2.7192857142857148,3629.686126012416,201.64922922291203,0.1736680651571127
188,306e1c6ac4f00cc25d676a6ee660938f5b27427c,Simon Willison,2017-12-15 12:08:24+00:00,Broke up test_app into test_api and test_html,False,1290,653,637,1.0,1.0,1.0,3036,1412,2511,163,4.07258064516129,62.630232491708774,37.38461538461539,58.69230769230769,379.14426847845573,2.179798080483012,2416.4567900180077,134.24759944544488,0.12638142282615192
189,3a56a2cd7eea5d477d5d936b01098be5cba0d98e,Tony Hirst,2018-01-14 21:05:16+00:00,"Add metadata, if it exists, to heroku temp dir (#178)",False,2,2,0,0.0,0.0,0.0,3038,1414,2513,163,4.080645161290323,62.61329671968643,37.38461538461539,58.69230769230769,379.14426847845573,2.179798080483012,2416.4567900180077,134.24759944544488,0.12638142282615192
190,012fc7c5cd3e9160c9a4c19cc964253e97fb054a,Simon Willison,2018-03-21 01:26:04+00:00,Fix for FTS virtual table counting error,False,11,8,3,0.0,0.0,1.0,3043,1417,2516,165,4.088709677419355,62.62096936560202,37.38461538461539,58.69230769230769,379.14426847845573,2.179798080483012,2416.4567900180077,134.24759944544488,0.12638142282615192
191,89d9fbb91bfc0dd9091b34dbf3cf540ab849cc44,Simon Willison,2018-03-27 16:18:32+00:00,"Database/Table views inherit source/license/source_url/license_url metadata

If you set the source_url/license_url/source/license fields in your root
metadata those values will now be inherited all the way down to the database
and table templates.

The title/description are NOT inherited.

Also added unit tests for the HTML generated by the metadata.

Refs #185",False,100,94,6,0.9574468085106383,1.0,1.0,3130,1461,2582,173,3.976923076923077,62.33726052270684,40.0,62.61538461538461,411.9419820321756,2.1649402024402025,2536.976301761591,140.94312787564397,0.1373139940107252
192,31f63d1672a9214962cd7335a2daeabab7c0000e,Simon Willison,2018-03-30 05:11:02+00:00,"Fixed bug with keyset pagination over compound primary keys

Closes #190",False,98,88,10,0.5581395348837209,1.0,1.0,3208,1491,2641,183,3.9398496240601504,62.18071964153932,41.07692307692308,64.3076923076923,423.12850930698636,2.1656605637218664,2562.581475661177,142.36563753673207,0.14104283643566212
193,7365c3f51cedffade3428a677e5baeab2f401138,Simon Willison,2018-03-30 06:26:22+00:00,"Compound primary key _next= now plays well with extra filters

Closes #190",False,69,50,19,0.38461538461538464,1.0,1.0,3239,1512,2668,183,3.933333333333333,61.78590570517573,42.30769230769231,66.61538461538461,440.63199673070966,2.2205607453323255,2681.316678506374,148.96203769479854,0.14687733224356989
194,8f0d44d6468a96e9b78487c36da20ddc2ae9d937,Simon Willison,2018-04-03 13:40:49+00:00,"escape_sqlite_table_name => escape_sqlite, handles reserved words

It can be used for column names as well as table names.

Reserved word list from https://www.sqlite.org/lang_keywords.html",False,93,68,25,0.5882352941176471,1.0,1.0,3282,1519,2705,184,3.9191176470588234,61.683008541772715,42.92307692307692,67.53846153846153,447.9321894887335,2.215851800925321,2716.00515493064,150.88917527392448,0.14931072982957785
195,dd0566ff8eda7fa2f0d92e51809581fae62cffed,Simon Willison,2018-04-03 13:46:11+00:00,"Utility for writing test database fixtures to a .db file

	python tests/fixtures.py /tmp/hello.db

This is useful for making a SQLite database of the test fixtures for
interactive exploration.",False,11,11,0,,,,3293,1528,2714,184,3.9191176470588234,61.26944462745196,43.23076923076923,67.92307692307692,449.71417782430314,2.3071979547714747,2721.3202299184127,151.1844572176896,0.14990472594143436
196,0abd3abacb309a2bd5913a7a2df4e9256585b1bb,Simon Willison,2018-04-03 14:52:54+00:00,"New ?_shape=objects/object/lists param for JSON API (#192)

New _shape= parameter replacing old .jsono extension

Now instead of this:

	/database/table.jsono

We use the _shape parameter like this:

	/database/table.json?_shape=objects

Also introduced a new _shape called 'object' which looks like this:

	/database/table.json?_shape=object

Returning an object for the rows key:

	...
	""rows"": {
		""pk1"": {
			...
		},
		""pk2"": {
			...
		}
	}

Refs #122",False,267,244,23,0.4807692307692308,0.6634615384615384,0.49038461538461536,3409,1572,2818,185,3.872340425531915,60.91022136189237,44.69230769230769,70.76923076923077,473.31266473572606,2.324582979188577,2914.482179912179,161.91567666178773,0.157770888245242
197,b2188f044265c95f7e54860e28107c17d2a6ed2e,Simon Willison,2018-04-08 15:43:45+00:00,Use .custom_sql() for _group_count implementation (refs #150),False,3,1,2,1.0,1.0,1.0,3408,1571,2817,185,3.872340425531915,60.91189517378438,44.69230769230769,70.76923076923077,473.31266473572606,2.324582979188577,2914.482179912179,161.91567666178773,0.157770888245242
198,23e0fdb0f3196ffa4d8bc4944c8bc9cb0f89129b,Simon Willison,2018-04-09 05:10:22+00:00,"Removed unnecessary enumerate template helper

I made this obsolete in d1756d773685ca4f9c5b57fb40e1aa743bc95525

Refs #189",False,2,0,2,1.0,0.0,0.0,3663,1685,3045,192,4.0675675675675675,60.19223475795941,47.69230769230769,77.15384615384616,524.5722781385114,2.410994251400438,3407.17249166583,189.28736064810167,0.17485742604617047
199,b13f0986f26d88938519b07871c961c0b5a97802,Simon Willison,2018-04-09 05:10:22+00:00,"New sortable_columns option in metadata.json to control sort options

You can now explicitly set which columns in a table can be used for sorting
using the _sort and _sort_desc arguments using metadata.json:

    {
        ""databases"": {
            ""database1"": {
                ""tables"": {
                    ""example_table"": {
                        ""sortable_columns"": [
                            ""height"",
                            ""weight""
                        ]
                    }
                }
            }
        }
    }

Refs #189",False,116,93,23,0.8571428571428571,0.7142857142857143,0.2857142857142857,3665,1685,3047,192,4.0675675675675675,60.19223475795941,47.69230769230769,77.15384615384616,524.5722781385114,2.410994251400438,3407.17249166583,189.28736064810167,0.17485742604617047
200,a87df963a08054ad7a652f0218e70ddb7f9cc8bd,Simon Willison,2018-04-09 05:10:22+00:00,"Error handling for ?_sort and ?_sort_desc

Verifies that they match an existing column, and only one or the other option
is provided - refs #189

Eses a new DatasetteError exception that closes #193",False,43,37,6,0.0,0.64,0.64,3622,1667,3009,190,4.136986301369863,60.07195289526219,47.07692307692308,76.23076923076923,516.1251997201405,2.4166279361777225,3341.0742550458535,185.61523639143635,0.17204173324004685
201,bfb19e3a178ba9b2dab2f90f90a398b54a73d34e,Simon Willison,2018-04-09 05:10:22+00:00,Correctly escape sort-by columns in SQL (refs #189),False,4,2,2,,,,3591,1649,2982,190,4.138888888888889,60.148591115517696,46.53846153846154,75.07692307692308,506.56341122085024,2.4076342537862634,3251.9451776971396,180.66362098317447,0.1688544704069501
202,c1d37fdf2be84fb07155bb1b1f61057444b03300,Simon Willison,2018-04-09 05:10:22+00:00,"Fixed bug with human filter description, refs #189

We were showing this:

    201 rows where sorted by sortable_with_nulls

We now show this:

    201 rows sorted by sortable_with_nulls",False,9,7,2,0.0,0.4,1.0,3668,1689,3050,192,4.074324324324325,60.14900171413111,47.92307692307692,77.53846153846153,527.6911621737266,2.40957415173498,3422.2489291180927,190.12494050656076,0.1758970540579089
203,9f2ec39fbc5481b0fa6585ccdd159ba9fd989bcc,Simon Willison,2018-04-09 05:10:22+00:00,"Current sort order now reflected in human filter description

Plus renamed human_description to human_description_en

Refs #189",False,53,41,12,0.0,0.6538461538461539,0.6153846153846154,3567,1633,2958,190,4.118055555555555,60.370076245130086,45.92307692307692,74.15384615384616,498.84723741998573,2.409609433331536,3236.3589865831655,179.79772147684258,0.1662824124733286
204,f3a3820ff5c5ba9b4af102e65ed1f084b1fe704d,Simon Willison,2018-04-09 05:10:22+00:00,"_sort and _sort_desc parameters for table views

Allows for paginated sorted results based on a specified column.

Refs #189",False,170,146,24,0.011363636363636364,0.5227272727272727,0.3181818181818182,3538,1621,2932,190,4.041958041958042,60.471774958821314,45.30769230769231,72.84615384615384,488.1316061635634,2.3547310435770052,3081.81908776166,171.21217154231448,0.16271053538785446
205,29f9a29250169cdb564020109f76e0f4b52afa5d,Simon Willison,2018-04-09 05:10:22+00:00,Total row count now correct even if _next= applied,False,74,41,33,0.0,0.0,0.0,3416,1569,2823,184,3.8865248226950353,60.90028195416152,44.30769230769231,69.84615384615384,465.3968860861275,2.320209000241629,2825.5938208057387,156.97743448920767,0.15513229536204248
206,747a801b50487cd4cc20856d44252ac0a6cb346f,Simon Willison,2018-04-09 05:10:22+00:00,Column headers now link to sort/desc sort - refs #189,False,64,50,14,0.0,1.0,1.0,3591,1649,2982,190,4.138888888888889,60.148591115517696,46.53846153846154,75.07692307692308,506.56341122085024,2.4076342537862634,3251.9451776971396,180.66362098317447,0.1688544704069501
207,a290f28caae61b47e76e825c06984f22fc41a694,Simon Willison,2018-04-09 05:24:24+00:00,"table_rows => table_rows_count, filtered_table_rows => filtered_table_rows_count

Renamed properties. Closes #194",False,32,17,15,0.0,1.0,1.0,3670,1691,3052,192,4.074324324324325,60.11199545737816,48.23076923076923,78.0,531.6506480319999,2.408928530526323,3438.205423953336,191.01141244185203,0.17721688267733332
208,7706fe0c67aba5cfe905c7906cae9e0c43cd75b2,Simon Willison,2018-04-09 15:48:24+00:00,Releasing v0.15,False,119,118,1,,,,3670,1691,3052,192,4.074324324324325,60.11199545737816,48.23076923076923,78.0,531.6506480319999,2.408928530526323,3438.205423953336,191.01141244185203,0.17721688267733332
209,57b19f09d1ee24b7369ceca8937ce67df2ca1abc,Simon Willison,2018-04-10 00:34:32+00:00,"Ability to sort using form fields (for mobile portrait mode)

We now display sort options as a select box plus a descending checkbox, which
means you can apply sort orders even in portrait mode on a mobile phone where
the column headers are hidden.

Closes #199",False,51,46,5,0.5,0.5454545454545454,0.5454545454545454,3696,1701,3074,193,4.067114093959732,60.02981629839247,48.84615384615385,78.92307692307692,539.6348555611463,2.4058626880320095,3468.1018012407317,192.67232229115177,0.1798782851870488
210,46b237c29a195025de81dcd920c6893181229dc5,Simon Willison,2018-04-10 00:54:12+00:00,"datasette inspect now finds primary_keys

Closes #195",False,43,27,16,0.0,0.0,1.0,3707,1702,3085,194,4.162162162162162,60.02654933065441,49.61538461538461,80.07692307692308,550.4592926831358,2.3977918418275226,3559.2095311451,197.73386284139445,0.18348643089437863
211,cca8bf36fed9f2d0cedcfa2691a95b7965b7573c,Simon Willison,2018-04-12 21:32:47+00:00,"Allow explain select / explain query plan select

Closes #201",False,2,2,0,,,,3709,1702,3087,194,4.162162162162162,60.02424993703338,49.61538461538461,80.07692307692308,550.4592926831358,2.3977918418275226,3559.2095311451,197.73386284139445,0.18348643089437863
212,d08a13314081ae2ce0313a17d3c07c1a7f2d94d5,Russ Garrett,2018-04-12 21:34:47+00:00,"Hide Spatialite system tables

They were getting on my nerves.",False,21,18,3,0.3333333333333333,0.3333333333333333,1.0,3724,1707,3097,195,4.147651006711409,60.007394280874514,50.0,80.53846153846153,554.615808361418,2.4386232329016746,3626.2447305205783,201.45804058447658,0.18487193612047267
213,ad6142b67c8f137b001770339510979c5df43d85,Simon Willison,2018-04-13 16:04:18+00:00,long_description in markdown for the new PyPI,False,9,9,0,1.0,1.0,1.0,3733,1711,3103,195,4.126666666666667,58.11694656306439,50.23076923076923,80.76923076923077,554.9815689385075,2.4770847713632134,3626.427610809122,201.46820060050683,0.18499385631283585
214,9f28bbe43dc277a3963a12aaae37b5ee3c277207,Simon Willison,2018-04-13 18:17:22+00:00,"Better mechanism for handling errors; 404s for missing table/database

New error mechanism closes #193

404s for missing tables/databesse closes #184

Makes pull request #202 unnecessary.",False,143,101,42,0.32727272727272727,0.8909090909090909,0.8,3792,1750,3156,195,4.111111111111111,58.05926066808527,51.07692307692308,82.07692307692308,566.8462692464572,2.471285086832571,3705.8244512029432,205.8791361779413,0.18894875641548572
215,6e16ed2a632b488a5ca21185c0147b4bca16336b,Simon Willison,2018-04-13 18:22:15+00:00,Removed pathlib dependency (incompatible with Python 3.5),False,6,4,2,1.0,1.0,1.0,3794,1750,3158,195,4.111111111111111,59.9497083858954,50.84615384615385,81.84615384615384,566.4805086693676,2.4328235483710325,3705.641570914398,205.86897616191104,0.18882683622312257
216,b6539ff04502536bd1fa96e3b1430bdafc456826,Simon Willison,2018-04-13 18:28:55+00:00,Releasing v0.16,False,20,19,1,,,,3794,1750,3158,195,4.111111111111111,59.9497083858954,50.84615384615385,81.84615384615384,566.4805086693676,2.4328235483710325,3705.641570914398,205.86897616191104,0.18882683622312257
217,fb988ace7c7e2bee5ac142a0eab22431d0675a77,Simon Willison,2018-04-13 19:04:40+00:00,"Release 0.17 to fix issues with PyPI

See https://twitter.com/simonw/status/984862976447414272",False,2,1,1,,,,3794,1750,3158,195,4.111111111111111,59.9497083858954,50.84615384615385,81.84615384615384,566.4805086693676,2.4328235483710325,3705.641570914398,205.86897616191104,0.18882683622312257
218,ec6abc81e433c9bac1b9f085111785fc227e9e34,Russ Garrett,2018-04-14 03:32:53+00:00,"Initial units support

Add support for specifying units for a column in metadata.json and
rendering them on display using
[pint](https://pint.readthedocs.io/en/latest/).

ref #203",False,24,20,4,0.25,0.25,0.0,3810,1760,3169,199,4.084415584415584,59.9497083858954,51.30769230769231,82.76923076923077,574.8502953677224,2.4349397999382143,3798.9823721926223,211.05457623292347,0.19161676512257414
219,8bfeb984788c7144088c16c5f9126ca7d6af6e93,Russ Garrett,2018-04-14 10:43:34+00:00,"Tidy up units support

* Add units to exported JSON
* Units key in metadata skeleton
* Docs",False,46,40,6,0.25,0.5,0.0,3814,1761,3172,199,4.103896103896104,59.94762989523069,51.30769230769231,82.76923076923077,574.8502953677224,2.4349397999382143,3798.9823721926223,211.05457623292347,0.19161676512257414
220,ab85605c6179b21bb0add59b76c1b376d9d248b2,Russ Garrett,2018-04-14 10:43:35+00:00,Support units in filters,False,27,23,4,0.9166666666666666,0.9166666666666666,0.0,3833,1774,3184,201,4.096774193548387,59.90222219452266,51.46153846153846,83.0,576.670141527893,2.4328174769592446,3810.8437377766945,211.71354098759417,0.19222338050929766
221,3c985ec271cce46db8682c2a7466ea1c9a2ed210,Russ Garrett,2018-04-14 11:27:06+00:00,Allow custom units to be registered with Pint,False,16,15,1,0.8,1.0,1.0,3840,1779,3188,201,4.083333333333333,59.90222219452266,51.46153846153846,83.0,576.670141527893,2.4328174769592446,3810.8437377766945,211.71354098759417,0.19222338050929766
222,ed974417ad54f0c0f65b2f1cf54dc12485abb570,Russ Garrett,2018-04-14 14:06:52+00:00,Tests for unit filtering,False,40,38,2,0.5294117647058824,1.0,1.0,3876,1787,3219,201,4.063694267515924,59.79721466991396,52.23076923076923,84.15384615384616,586.6718260989534,2.4314027996824987,3851.135680039207,213.9519822244004,0.19555727536631778
223,1cc5161089e559c8b16049b20f7a5b3a43290c21,Russ Garrett,2018-04-14 14:24:24+00:00,"Fix sqlite error when loading rows with no incoming FKs

This fixes `ERROR: conn=<sqlite3.Connection object at 0x10bbb9f10>, sql
= 'select ', params = {'id': '1'}` caused by an invalid query when
loading incoming FKs.

The error was ignored due to async but it still got printed to the
console.",False,11,7,4,0.0,0.0,0.0,3813,1762,3171,199,4.097402597402597,59.9497083858954,51.38461538461539,83.0,576.852155338136,2.4373369824748945,3827.3052343706267,212.62806857614592,0.19228405177937863
224,d72201e883c0612d14dfb8ffdd61aa0fe223d94a,Simon Willison,2018-04-14 14:55:27+00:00,"Added unit test for foreign key links in HTML

Needed to add a further unit test for #207",False,111,93,18,0.21818181818181817,1.0,1.0,3888,1767,3240,199,4.077419354838709,59.884398503894445,51.53846153846154,83.23076923076923,578.8100627855366,2.436934460794958,3831.260642062576,212.84781344792086,0.19293668759517885
225,f2b940d6026677f6859d46a4f16fa402745d261d,Russ Garrett,2018-04-14 14:59:59+00:00,"Link foreign keys which don't have labels

This renders unlabeled FKs as simple links. I can't see why this would
cause any major problems.

Also includes bonus fixes for two minor issues:

* In foreign key link hrefs the primary key was escaped using HTML
  escaping rather than URL escaping. This broke some non-integer PKs.
* Print tracebacks to console when handling 500 errors.",False,24,18,6,0.0,0.09090909090909091,0.09090909090909091,3900,1773,3252,199,4.083870967741936,59.884398503894445,51.61538461538461,83.46153846153847,580.8139839618294,2.439309134575425,3859.6586583257035,214.42548101809464,0.19360466132060977
226,6b15a53cd3cd40880a5e2d38827d5fac10e4bb5f,Simon Willison,2018-04-14 15:00:54+00:00,Unit test for unlabelled foreign keys from #207,False,2,1,1,,,,3900,1773,3252,199,4.083870967741936,59.884398503894445,51.61538461538461,83.46153846153847,580.8139839618294,2.439309134575425,3859.6586583257035,214.42548101809464,0.19360466132060977
227,43ae15c0d14b3e968e8d5bfef72ac0c39783c3a2,Simon Willison,2018-04-14 15:36:10+00:00,"Releasing v0.18 - support for units!

Refs #203",False,52,51,1,,,,3966,1800,3302,201,4.063291139240507,59.73251914514996,52.53846153846154,84.84615384615384,592.6355146930603,2.4357721343197096,3911.811966172289,217.3228870095716,0.19754517156435342
228,efbb4e83374a2c795e436c72fa79f70da72309b8,Russ Garrett,2018-04-14 18:00:38+00:00,"Return HTTP 405 on InvalidUsage rather than 500

This also stops it filling up the logs. This happens for HEAD requests
at the moment - which perhaps should be handled better, but that's a
different issue.",False,6,5,1,0.0,0.0,1.0,3970,1804,3306,201,4.063291139240507,59.73251914514996,52.53846153846154,84.84615384615384,592.6355146930603,2.4357721343197096,3911.811966172289,217.3228870095716,0.19754517156435342
229,33c7c53ff87c25445c68088ede49d062d9c31fe8,Simon Willison,2018-04-16 00:56:15+00:00,"Start of the plugin system, based on pluggy (#210)

Uses https://pluggy.readthedocs.io/ originally created for the py.test project

We're starting with two plugin hooks:

prepare_connection(conn)

This is called when a new SQLite connection is created. It can be used to register custom SQL functions.

prepare_jinja2_environment(env)

This is called with the Jinja2 environment. It can be used to register custom template tags and filters.

An example plugin which uses these two hooks can be found at https://github.com/simonw/datasette-plugin-demos or installed using `pip install datasette-plugin-demos`

Refs #14",False,31,29,2,0.8333333333333334,1.0,1.0,3997,1823,3324,203,4.025,62.608767777639244,48.785714285714285,78.78571428571429,550.3044065006989,2.2617884104397303,3632.3968257314114,201.79982365174504,0.1834348021668996
230,92396ae5bacedfcb3d7c81319ccdd04483fd7fd4,Simon Willison,2018-04-16 04:38:04+00:00,Better fix for setup.py version,False,12,10,2,1.0,1.0,1.0,4005,1827,3330,203,4.0062111801242235,62.608767777639244,48.785714285714285,78.78571428571429,550.3044065006989,2.2617884104397303,3632.3968257314114,201.79982365174504,0.1834348021668996
231,b2955d9065ea019500c7d072bcd9d49d1967f051,Simon Willison,2018-04-16 05:22:01+00:00,"New --plugins-dir=plugins/ option (#212)

* New --plugins-dir=plugins/ option

New option causing Datasette to load and evaluate all of the Python files in
the specified directory and register any plugins that are defined in those
files.

This new option is available for the following commands:

    datasette serve mydb.db --plugins-dir=plugins/
    datasette publish now/heroku mydb.db --plugins-dir=plugins/
    datasette package mydb.db --plugins-dir=plugins/

* Unit tests for --plugins-dir=plugins/

Closes #211",False,98,86,12,0.32608695652173914,0.0,0.45652173913043476,4079,1862,3392,207,4.006134969325154,62.42608612420249,48.92857142857143,79.0,552.1740676246096,2.2615471316622093,3639.9271019699954,202.2181723316664,0.18405802254153653
232,10a34f995c70daa37a8a2aa02c3135a4b023a24c,Simon Willison,2018-04-16 15:38:09+00:00,Removed rogue print() call,False,3,0,3,1.0,1.0,1.0,4076,1861,3389,207,4.006134969325154,62.42608612420249,48.92857142857143,79.0,552.1740676246096,2.2615471316622093,3639.9271019699954,202.2181723316664,0.18405802254153653
233,2abe539a0f9f967ec0de6894774cb7ee83c4b3b9,Simon Willison,2018-04-16 23:52:50+00:00,Fixed #216 - paginate correctly when sorting by nullable column,False,74,60,14,0.0,0.041666666666666664,0.041666666666666664,4122,1873,3433,210,4.079754601226994,62.479277149637525,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
234,07fc2d113e462bfd8d7d56152c0d1fc55e0fdbe9,Simon Willison,2018-04-17 00:05:03+00:00,"Fix for _sort_desc=sortable_with_nulls test, refs #216",False,3,2,1,,,,4123,1873,3434,210,4.079754601226994,62.479000892643036,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
235,5364fa7f3357f2de24fd45c85832205377642f19,Simon Willison,2018-04-17 00:53:37+00:00,"Revert #216 until I can get tests to pass in Travis

Revert ""Fix for _sort_desc=sortable_with_nulls test, refs #216""

This reverts commit 07fc2d113e462bfd8d7d56152c0d1fc55e0fdbe9.

Revert ""Fixed #216 - paginate correctly when sorting by nullable column""

This reverts commit 2abe539a0f9f967ec0de6894774cb7ee83c4b3b9.",False,75,14,61,1.0,0.9583333333333334,0.9583333333333334,4076,1861,3389,207,4.006134969325154,62.42608612420249,48.92857142857143,79.0,552.1740676246096,2.2615471316622093,3639.9271019699954,202.2181723316664,0.18405802254153653
236,e7c769ef30add8f984eab920b2f503d4b8096bde,Simon Willison,2018-04-17 01:41:55+00:00,"Working implementation of #216 which passes the tests

Reverted commit 5364fa7f3357f2de24fd45c85832205377642f19 (where I removed the
code that didn't work).

Added primary keys to order-by clause for sorting to get tests to pass",False,80,66,14,0.0,0.034482758620689655,0.034482758620689655,4128,1876,3439,210,4.0920245398773005,62.479000892643036,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
237,ba9bfa583179c25aaef94b1f44da7eba74620b9a,Simon Willison,2018-04-17 02:12:21+00:00,Datasette 0.19: plugin preview (with release notes),False,66,63,3,,,,4128,1876,3439,210,4.0920245398773005,62.479000892643036,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
238,1f384e662b58e2eb43ce20842976b677e4478f43,Simon Willison,2018-04-18 00:30:46+00:00,Updated PyPI classifiers,False,3,2,1,,,,4129,1876,3440,210,4.0920245398773005,62.479000892643036,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
239,5ebc7137d736d8fa47b24cc799fb93909f49cabb,Simon Willison,2018-04-18 00:31:54+00:00,"Use application/octet-stream for downloadable databses

I'd also like to send the Content-Length here but that's not currently
possible in Sanic - see bug report here:

https://github.com/channelcat/sanic/issues/1194",False,6,3,3,,,,4129,1875,3440,210,4.0920245398773005,62.479000892643036,49.214285714285715,79.85714285714286,559.6361296315046,2.2701641177569654,3746.0907497602166,208.11615276445647,0.18654537654383482
240,aaf59db570ab7688af72c08bb5bc1edc145e3e07,Simon Willison,2018-04-18 01:09:48+00:00,"Longer time limit for test_paginate_compound_keys

It was failing intermittently in Travis - see #209",False,14,10,4,1.0,1.0,1.0,4135,1878,3444,210,4.079268292682927,62.386823175002675,49.42857142857143,80.07142857142857,560.8921609878198,2.3071271547200025,3751.469944679719,208.41499692665107,0.18696405366260654
241,136a70d88741e2a5892c3de437064a9d14494d66,Russ Garrett,2018-04-18 01:13:02+00:00,"Add column name classes to <td>s, make PK bold",False,75,39,36,,,,4160,1897,3457,215,4.164634146341464,62.159968695703625,51.92857142857143,84.35714285714286,598.6220661496902,2.309641153150621,3982.366390272513,221.24257723736181,0.19954068871656339
242,0f782dd8dfd7c53a9c20bbd2cb8734bb806d928b,Russ Garrett,2018-04-18 01:13:02+00:00,Additional test asserts,False,20,14,6,0.75,1.0,0.875,4160,1897,3457,215,4.164634146341464,62.159968695703625,51.92857142857143,84.35714285714286,598.6220661496902,2.309641153150621,3982.366390272513,221.24257723736181,0.19954068871656339
243,b231d4243d748facf1897e7756c2b578bb448edc,Russ Garrett,2018-04-18 01:13:02+00:00,Correct escaping for HTML display of row links,False,24,15,9,0.5,0.0,0.0,4141,1882,3446,210,4.097560975609756,62.37458325183989,49.42857142857143,80.21428571428571,562.0164988049031,2.309925048070891,3772.543506829637,209.5857503794243,0.18733883293496767
244,4586aa506a054d07e674cde8143a3008e6bc5d78,Russ Garrett,2018-04-18 01:13:02+00:00,"Don't duplicate simple primary keys in the link column

When there's a simple (single-column) primary key, it looks weird to
duplicate it in the link column.

This change removes the second PK column and treats the link column as
if it were the PK column from a header/sorting perspective.",False,35,23,12,0.0,0.0,0.0,4152,1885,3449,215,4.164634146341464,62.37458325183989,50.214285714285715,81.78571428571429,576.4623536017496,2.3132874286767837,3937.604404076975,218.7558002264986,0.1921541178672498
245,dfb87d012c30a5a3e2d6c4f2cf0a94d2fd080723,Simon Willison,2018-04-18 01:19:21+00:00,"Use to_css_class for table cell column classes

This ensures that columns with spaces in the name will still
generate usable CSS class names. Refs #209",False,14,7,7,,,,4160,1897,3457,215,4.164634146341464,62.159968695703625,51.92857142857143,84.35714285714286,598.6220661496902,2.309641153150621,3982.366390272513,221.24257723736181,0.19954068871656339
246,a5792a8c61b9bb6a7a5295c8ec87c2567a5e39a2,Simon Willison,2018-04-18 02:11:54+00:00,"<th> now gets class=""col-X"" - plus added col-X documentation

Refs #209",False,32,25,7,0.0,1.0,1.0,4161,1898,3458,215,4.170731707317073,62.14215671845913,52.142857142857146,84.78571428571429,602.3817745543482,2.311370157818452,4013.2013381818006,222.95562989898895,0.2007939248514494
247,0bb483ca5bee61c9f7d148b5755d2eed56001aca,Simon Willison,2018-04-18 02:32:48+00:00,"/-/static-plugins/PLUGIN_NAME/ now serves static/ from plugins

 Refs #214",False,18,18,0,0.0,1.0,1.0,4168,1904,3464,216,4.182926829268292,62.14215671845913,52.142857142857146,84.78571428571429,602.3817745543482,2.311370157818452,4013.2013381818006,222.95562989898895,0.2007939248514494
248,1c36d07dd432b9960f4f2d096739460b4fcf8877,Simon Willison,2018-04-18 03:12:21+00:00,"New plugin hooks: extra_css_urls() and extra_js_urls()

Closes #214",False,124,117,7,0.85,0.0,1.0,4214,1922,3494,218,4.113095238095238,62.0843076078679,52.57142857142857,85.42857142857143,608.2135919044183,2.309540682530279,4038.160673077747,224.34225961543035,0.2027378639681394
249,4be6deb94776744071311777f0b18efb993c0cfa,Simon Willison,2018-04-18 03:24:20+00:00,"Fix for plugins in Python 3.5 (#222)

ModuleNotFoundError is not a thing in Python 3.5, so catch KeyError/ImportError instead.",False,4,2,2,,,,4214,1922,3494,218,4.113095238095238,62.0843076078679,52.57142857142857,85.42857142857143,608.2135919044183,2.309540682530279,4038.160673077747,224.34225961543035,0.2027378639681394
250,2b344f6a34d2adaa305996a1a580ece06397f6e4,Simon Willison,2018-04-18 14:52:17+00:00,"Ran black against datasette/cli.py

https://pypi.org/project/black/

cli.py was getting a bit untidy due to all of the heavily annotated
click function methods - used black to clean it up and make it
easier to read.",False,440,305,135,0.022988505747126436,0.3448275862068966,0.0,4384,1922,3662,218,4.113095238095238,61.87069136926988,52.57142857142857,85.42857142857143,608.2135919044183,2.309540682530279,4038.160673077747,224.34225961543035,0.2027378639681394
251,404fa2252b070952ff1d1fc8bafc153789f36ada,Simon Willison,2018-04-18 14:55:36+00:00,"datasette publish/package --install option, closes #223

Allows you to specify one or more additional packages to be installed,
useful for deploying plugins.",False,64,54,10,0.0,0.125,0.0625,4428,1926,3704,218,4.113095238095238,61.7942229505097,53.142857142857146,86.28571428571429,615.0417238344828,2.3026309678580072,4082.7095496911593,226.81719720506436,0.20501390794482757
252,b55809a1e20986bb2e638b698815a77902e8708d,Simon Willison,2018-04-19 05:25:22+00:00,"Added /-/metadata /-/plugins /-/inspect, closes #225",False,125,111,14,0.5441176470588235,0.8235294117647058,0.6617647058823529,4513,1970,3775,221,4.034285714285715,61.76194371631327,53.714285714285715,87.14285714285714,622.7494727221239,2.300613896607234,4122.786892452185,229.04371624734364,0.20758315757404128
253,b52171db1e97e2be1ff2dc505ccf29107288b27b,Simon Willison,2018-04-19 05:50:27+00:00,"Plugins can now bundle custom templates, closes #224

Refs #14",False,52,41,11,0.0,0.5333333333333333,1.0,4528,1975,3790,221,4.051428571428572,61.74232485031528,53.785714285714285,87.35714285714286,624.6419572437799,2.3025515154976426,4149.91238167847,230.55068787102613,0.2082139857479266
254,e2750c7cc0585adaa8c866be611089e62961ee35,Simon Willison,2018-04-19 15:36:14+00:00,Add col-X classes to HTML table on custom query page,False,7,4,3,1.0,1.0,0.0,4529,1975,3791,221,4.051428571428572,61.74232485031528,53.785714285714285,87.35714285714286,624.6419572437799,2.3025515154976426,4149.91238167847,230.55068787102613,0.2082139857479266
255,72a7ae6859c9f9a951b96c4bd603d44acf634f00,Simon Willison,2018-04-20 14:32:02+00:00,Datasette 0.20: static assets and templates for plugins,False,39,38,1,,,,4529,1975,3791,221,4.051428571428572,61.74232485031528,53.785714285714285,87.35714285714286,624.6419572437799,2.3025515154976426,4149.91238167847,230.55068787102613,0.2082139857479266
256,f27cabbaf3d834f47bc6bea1de7e27c11fcfa5e7,Simon Willison,2018-04-22 17:53:16+00:00,label_column option in metadata.json - closes #234,False,76,73,3,0.3333333333333333,0.9090909090909091,0.9090909090909091,4576,1981,3835,223,4.045454545454546,61.67673027253112,54.214285714285715,88.0,630.4951402750359,2.3007825819624825,4174.958525388605,231.94214029936697,0.2101650467583453
257,f3f42957128c1e7ece584d45d9167f2ac003a3b8,Simon Willison,2018-04-22 20:46:18+00:00,"label_column now defined on the table-being-linked-to, fixes #234",False,36,27,9,0.0,1.0,1.0,4594,1981,3852,223,4.045454545454546,61.67298260426617,54.214285714285715,88.0,630.4951402750359,2.3007825819624825,4174.958525388605,231.94214029936697,0.2101650467583453
258,00ab95430003768067bb496b125a2be93134e73d,Simon Willison,2018-04-24 01:31:32+00:00,Added CSS class rows-and-columns to main table,False,3,2,1,0.0,1.0,1.0,4595,1982,3853,223,4.045454545454546,61.65572079405337,54.357142857142854,88.21428571428571,632.3875529392243,2.3005666993518266,4178.779337665108,232.15440764806158,0.2107958509797414
259,d3a0069c54aeaeffd197740120e0dca64bd0eeff,Simon Willison,2018-04-26 03:25:21+00:00,"Hide idx_* tables if spatialite detected, closes #228",False,9,9,0,0.0,0.0,1.0,4604,1982,3862,223,4.051136363636363,61.65572079405337,54.5,88.42857142857143,634.4690127773157,2.2992695703307264,4196.230859791501,233.12393665508338,0.2114896709257719
260,02ee31c8b45b872fff91e2059c15a20532e2d035,Simon Willison,2018-04-26 03:42:57+00:00,"New hidden: True option for table metadat, closes #239",False,41,31,10,0.0,0.0,1.0,4607,1984,3865,223,4.056818181818182,61.65572079405337,54.642857142857146,88.64285714285714,636.5524250619363,2.297994060126645,4213.70714143722,234.0948411909567,0.21218414168731206
261,4504d5160b2d86d4dae17b7c2f72bc3b02509c2c,Simon Willison,2018-04-26 04:04:12+00:00,"If max_returned_rows==page_size, increment max_returned_rows

Fixes #230, where if the two were equal pagination didn't work correctly.",False,34,28,6,0.8125,0.8125,1.0,4629,1999,3883,223,4.033707865168539,61.51124682760841,55.142857142857146,89.71428571428571,645.1063857068019,2.3030286405653775,4295.550317947346,238.64168433040808,0.21503546190226733
262,f188ceaa2a3a5b2eab83425ad0f00cb0d364e24a,Simon Willison,2018-04-26 04:47:12+00:00,"New ?_size=XXX querystring parameter for table view, closes #229

Also added documentation for all of the _special arguments.

Plus deleted some duplicate logic implementing _group_count.",False,116,95,21,0.625,0.625,0.375,4665,2024,3913,223,4.016666666666667,61.3519946387231,56.214285714285715,92.28571428571429,667.1228371442094,2.280702596382653,4414.432225812977,245.24623476738762,0.2223742790480698
263,aa954382c3776d596f459897b0d984161293529d,Simon Willison,2018-04-29 00:04:32+00:00,"FTS tables now detected by inspect(), closes #240",False,30,22,8,0.0,1.0,1.0,4679,2021,3926,224,4.0055555555555555,61.34740171807488,56.214285714285715,92.28571428571429,667.1228371442094,2.280702596382653,4414.432225812977,245.24623476738762,0.2223742790480698
264,349e262bb1c8f225cf86a5e8542253282809a0eb,Simon Willison,2018-05-02 00:20:39+00:00,"Renamed ?_sql_time_limit_ms= to ?_timelimit, closes #242",False,16,8,8,,,,4720,2037,3964,224,3.989010989010989,61.29293427486494,56.642857142857146,93.14285714285714,674.7882983790213,2.2838839435525427,4483.475678773384,249.0819821540769,0.2249294327930071
265,690736436bac599ca042d1caa465c6d66d2651f9,Simon Willison,2018-05-02 00:20:39+00:00,"Bump up time limit for test_paginate_tables_and_views

It was intermittently failing in Travis CI on Python 3.5:

https://travis-ci.org/simonw/datasette/jobs/373713476",False,4,2,2,,,,4720,2037,3964,224,3.989010989010989,61.29293427486494,56.642857142857146,93.14285714285714,674.7882983790213,2.2838839435525427,4483.475678773384,249.0819821540769,0.2249294327930071
266,2565d623af6222f3ed1c630f753b5f95ad749d49,Simon Willison,2018-05-02 00:20:39+00:00,?_shape=array experimental feature,False,4,3,1,0.0,0.0,0.0,4681,2023,3928,224,4.011111111111111,61.34740171807488,56.285714285714285,92.5,669.0321921243889,2.2824843351862496,4442.15017142098,246.78612063449887,0.22301073070812966
267,a4cc5dc81364a7300f0ba0bd5711633e803c250a,Simon Willison,2018-05-02 00:20:39+00:00,"New ?_shape=array option + tweaks to _shape, closes #245

* Default is now ?_shape=arrays (renamed from lists)
* New ?_shape=array returns an array of objects as the root object
* Changed ?_shape=object to return the object as the root
* Updated docs",False,87,74,13,0.7222222222222222,0.7222222222222222,0.7222222222222222,4720,2037,3964,224,3.989010989010989,61.29293427486494,56.642857142857146,93.14285714285714,674.7882983790213,2.2838839435525427,4483.475678773384,249.0819821540769,0.2249294327930071
268,bb87cf873017c70a2e9155c336067d4e82481dd6,Simon Willison,2018-05-03 14:09:27+00:00,"Added /-/versions and /-/versions.json, closes #244

Sample output:

    {
      ""python"": {
        ""version"": ""3.6.3"",
        ""full"": ""3.6.3 (default, Oct  4 2017, 06:09:38) \n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.37)]""
      },
      ""datasette"": {
        ""version"": ""0.20""
      },
      ""sqlite"": {
        ""version"": ""3.23.1"",
        ""extensions"": {
          ""json1"": null,
          ""spatialite"": ""4.3.0a""
        }
      }
    }",False,53,53,0,0.25,0.9166666666666666,1.0,4773,2065,4014,224,3.972826086956522,61.180448843676174,57.357142857142854,94.64285714285714,687.7090993405521,2.2884399281085273,4541.942706925593,252.33015038475514,0.22923636644685072
269,d4da4c92c8ff19f29ca0cb4b93cb7eaca4553e73,Simon Willison,2018-05-04 18:03:40+00:00,"?_size=max option, closes #249",False,8,6,2,0.3333333333333333,0.3333333333333333,0.0,4777,2068,4018,224,3.983695652173913,61.16509828639032,57.57142857142857,95.07142857142857,691.5717140797697,2.2899759603402527,4576.65105383771,254.25839187987273,0.23052390469325654
270,ca290719edc2ba508585149a3e905f5c0bb23a8d,Simon Willison,2018-05-04 18:04:33+00:00,"Show version on /-/plugins page, closes #248",False,13,10,3,0.14285714285714285,0.0,1.0,4784,2073,4025,224,3.989130434782609,61.142599160320266,57.57142857142857,95.07142857142857,691.5717140797697,2.2899759603402527,4576.65105383771,254.25839187987273,0.23052390469325654
271,4d6a568d6c1c9edabbaa8d58899b3857cd0185a7,Simon Willison,2018-05-05 22:01:14+00:00,"Unit tests for _search= feature, refs #237",False,80,79,1,0.05660377358490566,1.0,0.9433962264150944,4862,2079,4098,224,3.972972972972973,61.09893934623306,57.714285714285715,95.28571428571429,693.5247439453755,2.2897637542456937,4583.53889132507,254.64104951805942,0.2311749146484585
272,1259b8ac0bb25fc8af61c1948e2cc16860dca7ff,Simon Willison,2018-05-05 22:33:08+00:00,"Support _search_COLUMN=text searches, closes #237",False,103,78,25,0.3157894736842105,0.3157894736842105,0.3157894736842105,4911,2096,4143,226,4.010752688172043,61.05778117426303,58.214285714285715,96.14285714285714,701.4612981005795,2.2896498928919784,4642.713423803734,257.9285235446519,0.23382043270019318
273,801381b7657dd084c11ac2fb6e3d0194cfaa3455,Simon Willison,2018-05-05 22:44:32+00:00,"Default tests to using a longer timelimit

Every now and then a test will fail in Travis CI on Python 3.5 because it hit
the default 20ms SQL time limit.

Test fixtures now default to a 200ms time limit, and we only use the 20ms time
limit for the specific test that tests query interruption. This should make
our tests on Python 3.5 in Travis much more stable.",False,22,11,11,,,,4911,2096,4143,226,4.010752688172043,61.05778117426303,58.214285714285715,96.14285714285714,701.4612981005795,2.2896498928919784,4642.713423803734,257.9285235446519,0.23382043270019318
274,403211de632cd15f0820cc9399305fc43c187b47,Simon Willison,2018-05-05 23:15:38+00:00,Release Datasette 0.21,False,59,58,1,,,,4911,2096,4143,226,4.010752688172043,61.05778117426303,58.214285714285715,96.14285714285714,701.4612981005795,2.2896498928919784,4642.713423803734,257.9285235446519,0.23382043270019318
275,e10f8e1274267fdb9021832917c35cfd1ec6c714,Simon Willison,2018-05-06 13:05:38+00:00,Slight simplification of /-/inspect,False,2,1,1,,,,4911,2095,4143,226,4.010752688172043,61.05778117426303,58.214285714285715,96.14285714285714,701.4612981005795,2.2896498928919784,4642.713423803734,257.9285235446519,0.23382043270019318
276,04d21ccd089fcaf7a2b535d217fc541ab19aa54b,Simon Willison,2018-05-11 13:19:25+00:00,"/-/versions now includes SQLite fts_versions, closes #252",False,14,14,0,0.07692307692307693,0.0,1.0,4925,2103,4156,227,4.021505376344086,61.04296684970969,58.357142857142854,96.35714285714286,703.4232867541566,2.2894506103092764,4649.631822848444,258.3128790471358,0.23447442891805217
277,1c815207cca70107711d514d3303986333da8b7a,Simon Willison,2018-05-12 12:08:11+00:00,Update conf.py,False,2,1,1,,,,4925,2103,4156,227,4.021505376344086,61.04296684970969,58.357142857142854,96.35714285714286,703.4232867541566,2.2894506103092764,4649.631822848444,258.3128790471358,0.23447442891805217
278,70ff615f1b831c4dce936e9f9fc57a9e8e71e547,Simon Willison,2018-05-12 21:44:09+00:00,"utils.path_with_added_args() improvements

* Now covered by unit tests
* Preserves original order
* Can handle multiple args of the same name, e.g. ?bar=1&bar=2",False,38,29,9,1.0,1.0,0.0,4945,2112,4174,228,4.010695187165775,60.95701343013896,58.5,96.57142857142857,704.8487094818994,2.289217183605261,4651.071268605861,258.39284825588123,0.23494956982729978
279,eaaa3ea1498df0d4790f814e3d2f3fcc5ea28429,Simon Willison,2018-05-12 22:29:41+00:00,"Initial implementation of facets, plus tests and docs

Refs #255",False,221,217,4,0.14285714285714285,0.32653061224489793,0.1836734693877551,5076,2136,4299,231,4.047872340425532,60.916772166815136,58.642857142857146,96.78571428571429,706.8136277347094,2.2890219473694158,4657.999657536878,258.7777587520487,0.23560454257823646
280,4301a8f3ac69f2f54916e73cc90fcf216a9a3746,Simon Willison,2018-05-12 22:49:37+00:00,"Case insensitive querystring comparison, fix Python 3.5",False,14,10,4,0.5,1.0,1.0,5082,2138,4303,231,4.031746031746032,60.91213070813602,58.785714285714285,97.0,708.709694937442,2.288811708748581,4661.8276501749,258.99042500971666,0.23623656497914733
281,1f69269fe93e4cd42e56890126cc0dbcf719c6cb,Simon Willison,2018-05-14 03:04:23+00:00,"Refactored views into new views/ modules, refs #256",False,2297,1165,1132,1.0,1.0,1.0,5115,2160,4336,231,4.031746031746032,60.81203821869904,44.526315789473685,71.47368421052632,483.8889354879939,2.4342311398299716,2580.8605010613237,143.38113894785135,0.16129631182933127
282,368638555160fb9ac78f462d0f79b1394163fa30,Simon Willison,2018-05-14 03:04:23+00:00,Ran black source formatting tool against new views/ and app.py,False,1364,737,627,0.02702702702702703,0.36486486486486486,0.7027027027027027,5225,2160,4405,231,4.031746031746032,60.76430821968274,44.526315789473685,71.47368421052632,483.8889354879939,2.4342311398299716,2580.8605010613237,143.38113894785135,0.16129631182933127
283,cf1fe693e5741035df65cc9d69c4af32befd021d,Simon Willison,2018-05-14 03:04:23+00:00,Used isort to re-order my imports,False,97,59,38,,,,5243,2159,4409,231,4.031746031746032,60.763474175912506,44.526315789473685,71.47368421052632,483.8889354879939,2.4342311398299716,2580.8605010613237,143.38113894785135,0.16129631182933127
284,eaf715a60ae3c3180d0949da8292e2627b72e287,Simon Willison,2018-05-14 03:04:23+00:00,Extract /-/plugins view into a method,False,25,12,13,1.0,1.0,0.0,5242,2161,4407,231,4.015789473684211,60.75387637843369,44.526315789473685,71.47368421052632,483.8889354879939,2.4342311398299716,2580.8605010613237,143.38113894785135,0.16129631182933127
285,2b79f2bdeb1efa86e0756e741292d625f91cb93d,Simon Willison,2018-05-14 03:04:23+00:00,path_with_added_args now preserves order in Python 3.5,False,16,9,7,1.0,1.0,1.0,5244,2162,4409,231,4.010526315789473,60.75672107831857,44.526315789473685,71.47368421052632,483.8889354879939,2.4342311398299716,2580.8605010613237,143.38113894785135,0.16129631182933127
286,566f2d31d6f4950200b64424f6f9cfdd06343f4e,Simon Willison,2018-05-16 15:27:24+00:00,"Clarified relationship between metadata and _facet= facets, updated docs - refs @255",False,131,91,40,0.0,0.3333333333333333,0.3333333333333333,5624,2276,4767,239,4.147208121827411,59.994649472863486,47.68421052631579,77.05263157894737,530.6187966981502,2.537658032716795,3085.5584949938802,171.41991638854893,0.17687293223271672
287,b263da78e329853ceea41c4ecabe7e8bb08d20a7,Simon Willison,2018-05-16 15:27:24+00:00,"Reliable sort order for facets in Python 3.5, fixing test - refs #255",False,8,4,4,,,,5621,2273,4764,239,4.147208121827411,60.001685879766406,47.578947368421055,76.89473684210526,529.1817813862255,2.5396833424700516,3075.2278135328797,170.84598964071554,0.17639392712874183
288,91bf5f56bb301fb564640fa6b1bb8a6e981ff721,Simon Willison,2018-05-16 15:27:24+00:00,"Show enabled facets in flexbox columns, refs #255",False,62,48,14,0.0,0.5555555555555556,0.5555555555555556,5621,2273,4764,239,4.147208121827411,60.001685879766406,47.578947368421055,76.89473684210526,529.1817813862255,2.5396833424700516,3075.2278135328797,170.84598964071554,0.17639392712874183
289,6d12580ed74ff0baf081bf9fabc14eeaf8a3105c,Simon Willison,2018-05-16 15:27:24+00:00,"Foreign key facets are now expanded to labels, refs #255",False,221,162,59,0.0,0.3108108108108108,0.3108108108108108,5612,2272,4755,239,4.147208121827411,60.00706440711093,47.578947368421055,76.89473684210526,529.1817813862255,2.5396833424700516,3075.2278135328797,170.84598964071554,0.17639392712874183
290,a892f9a0bd6667c1ad4c590016d6845cd98a645a,Simon Willison,2018-05-16 15:27:24+00:00,Use escape_sqlite() more consistently,False,25,16,9,0.0,0.0,0.0,5509,2243,4658,235,4.11734693877551,60.140189329776796,47.05263157894737,76.05263157894737,521.651800711951,2.55074464958399,3020.1790882822424,167.78772712679122,0.17388393357065035
291,8a0bd68c393423a6c3bdae27d3826e6161a101c1,Simon Willison,2018-05-16 15:27:24+00:00,Undid some slightly weird code formatting by 'black',False,12,2,10,1.0,1.0,1.0,5502,2243,4651,235,4.11734693877551,60.143696567661735,47.05263157894737,76.05263157894737,521.651800711951,2.55074464958399,3020.1790882822424,167.78772712679122,0.17388393357065035
292,f4943ca89bf400350205788f9130c135aaf7b85b,Simon Willison,2018-05-16 15:27:24+00:00,"_facet selections persist through table form, refs #255",False,19,19,0,1.0,1.0,1.0,5510,2243,4659,235,4.11734693877551,60.13969211364826,47.05263157894737,76.05263157894737,521.651800711951,2.55074464958399,3020.1790882822424,167.78772712679122,0.17388393357065035
293,514873c6295dcd467d806064a549e46b4ea3279a,Simon Willison,2018-05-16 15:27:24+00:00,Fix bug with toggle_url on integer facets,False,2,1,1,,,,5494,2237,4645,235,4.123076923076923,60.19767744839144,46.73684210526316,75.57894736842105,517.4242374432151,2.5512625969686606,3009.515667496905,167.19531486093913,0.17247474581440506
294,1dc94f6eaa98431da9c61e803e2b05b082f9c6e8,Simon Willison,2018-05-16 15:27:24+00:00,"Facets can now be toggled off again, refs #255",False,16,13,3,0.8888888888888888,0.0,0.5555555555555556,5494,2237,4645,235,4.123076923076923,60.19767744839144,46.73684210526316,75.57894736842105,517.4242374432151,2.5512625969686606,3009.515667496905,167.19531486093913,0.17247474581440506
295,142a550a99f3c78349a10ed79f1b513fe704a169,Simon Willison,2018-05-16 15:27:24+00:00,"Facet results now have ""truncated"" field

 To indicate if there was more than 20 distinct values. Refs #255",False,223,128,95,0.3333333333333333,0.0,0.0,5485,2231,4638,233,4.112820512820512,60.216780052565845,46.578947368421055,75.3157894736842,515.287118926384,2.553285962017438,2994.3232781962497,166.351293233125,0.17176237297546137
296,a82175276c3f5898161c7630f669d0b8990d7a16,Simon Willison,2018-05-16 15:27:24+00:00,_sort/_next links now use new path_with_replaced_args method,False,89,85,4,0.3,0.8,0.7,5455,2229,4608,233,4.112820512820512,60.24787827952327,46.26315789473684,74.6842105263158,509.8319131382713,2.5498169877948325,2950.157993062271,163.89766628123726,0.16994397104609044
297,2f81552cd29125e3916763f05949125a49c2dde8,Simon Willison,2018-05-16 15:27:24+00:00,Never suggest a facet if it only results in on option,False,9,5,4,0.0,0.0,0.0,5374,2201,4533,233,4.109375,60.496934507838695,45.526315789473685,73.47368421052632,499.9984080699035,2.517080674045914,2840.1309122939656,157.7850506829981,0.16666613602330116
298,b0d2bb3e43dd567b96b6a4ddc3c1a09a84c2c42d,Simon Willison,2018-05-16 15:27:24+00:00,Facets no longer consider null values,False,14,11,3,0.0,0.0,0.0,5373,2201,4532,233,4.098958333333333,60.50667387709324,45.578947368421055,73.26315789473684,498.6323471813853,2.5036693750863055,2800.2891786917476,155.57162103843044,0.1662107823937951
299,ddef2298509e3027a44971a681ad7855bf07b51a,Simon Willison,2018-05-16 15:27:24+00:00,"Initial implementation of suggested facets

Causes tests to break at the moment",False,36,36,0,0.0,0.0,0.0,5365,2200,4524,233,4.078125,60.52622380961982,45.578947368421055,73.26315789473684,498.6323471813853,2.5036693750863055,2800.2891786917476,155.57162103843044,0.1662107823937951
300,8a4ed052a5034d3f12daf5eedabb0808a0bf20fc,Simon Willison,2018-05-16 15:27:24+00:00,path_with_added_args now works with multiple existing args,False,7,5,2,,,,5333,2186,4494,232,4.015625,60.60773064520067,45.05263157894737,72.42105263157895,491.2227898876907,2.4716722310634576,2668.5822662754563,148.25457034863643,0.16374092996256356
301,f36c9d4b4ca77dd42495f31d02e89b4c10833531,Simon Willison,2018-05-16 15:27:24+00:00,"Facet toggling now works for integer columns, refs #255",False,81,63,18,,,,5330,2186,4491,232,4.010416666666667,60.62204227820873,44.94736842105263,72.26315789473684,489.9390551795207,2.437702902818084,2623.754583595636,145.76414353309093,0.16331301839317358
302,de05cf21aa6a922ee2825b5098b108dd23fb0755,Simon Willison,2018-05-16 15:27:24+00:00,"Facet ""selected"" key and toggle_url now toggles, refs #255",False,62,54,8,0.68,0.68,0.0,5285,2186,4446,231,4.010416666666667,60.609808378025285,44.94736842105263,72.26315789473684,489.9390551795207,2.437702902818084,2623.754583595636,145.76414353309093,0.16331301839317358
303,ba515fc56e6cf77ea299b6d534be7ccfa925a533,Simon Willison,2018-05-16 15:27:24+00:00,Removed un-used variable,False,1,0,1,1.0,1.0,1.0,5484,2230,4637,233,4.112820512820512,60.218524633851736,46.578947368421055,75.3157894736842,515.287118926384,2.553285962017438,2994.3232781962497,166.351293233125,0.17176237297546137
304,cef9a9a8701af86cc7df8b7939398185f0a76f5f,Simon Willison,2018-05-18 05:08:26+00:00,"--limit= mechanism plus new limits for facets

Replaced the --max_returned_rows and --sql_time_limit_ms options to
""datasette serve"" with a new --limit option, which supports a larger
list of limits.

Example usage:

	datasette serve --limit max_returned_rows:1000 \
		--limit sql_time_limit_ms:2500 \
		--limit default_facet_size:50 \
		--limit facet_time_limit_ms:1000 \
		--limit facet_suggest_time_limit_ms:500

New docs: https://datasette.readthedocs.io/en/latest/limits.html

Closes #270
Closes #264",False,190,118,72,0.9411764705882353,1.0,0.11764705882352941,5653,2292,4791,239,4.155778894472362,59.86034729525763,47.8421052631579,77.47368421052632,533.1416211581344,2.5448350141768135,3104.975111737916,172.4986173187731,0.17771387371937816
305,08f4b7658fec97419eb34118a2cd5c8be805673f,Simon Willison,2018-05-18 06:11:23+00:00,"Show facets that timed out using new InterruptedError

If the user requests some _facet= options that do not successfully execute in
the configured facet_time_limit_ms, we now show a warning message like this:

    These facets timed out: rowid, Title

To build this I had to clean up our SQLite interrupted logic. We now raise a
custom InterruptedError exception when SQLite terminates due to exceeding a
time limit.

In implementing this I found and fixed a logic error where invalid SQL was
being generated in some cases for our faceting calculations but the resulting
sqlite3.OperationalError had been incorrectly captured and treated as a
timeout.

Refs #255
Closes #269",False,50,34,16,0.0,0.1,0.3,5667,2302,4805,236,4.145,59.803779241860006,47.94736842105263,77.63157894736842,534.4100061790407,2.5422271431478896,3112.4807582983753,172.91559768324308,0.17813666872634693
306,39426ff0e43a406f42c03692d3dc9d4a1b7b9d52,Simon Willison,2018-05-18 06:16:28+00:00,"Added /-/limits and /-/limits.json, closes #270",False,18,18,0,0.75,0.75,1.0,5685,2308,4821,236,4.129353233830845,59.779600719280836,48.05263157894737,77.78947368421052,535.8641967789688,2.542091704190228,3117.607553827054,173.20041965705855,0.17862139892632295
307,f6183ff5fa715c68d13d6ae8c7b3b9f2c6ffc9f8,Simon Willison,2018-05-20 17:01:49+00:00,"Renamed --limit to --config, added --help-config, closes #274

Removed the --page_size= argument to datasette serve in favour of:

    datasette serve --config default_page_size:50 mydb.db

Added new help section:

    $ datasette --help-config
    Config options:
      default_page_size            Default page size for the table view
                                   (default=100)
      max_returned_rows            Maximum rows that can be returned from a table
                                   or custom query (default=1000)
      sql_time_limit_ms            Time limit for a SQL query in milliseconds
                                   (default=1000)
      default_facet_size           Number of values to return for requested facets
                                   (default=30)
      facet_time_limit_ms          Time limit for calculating a requested facet
                                   (default=200)
      facet_suggest_time_limit_ms  Time limit for calculating a suggested facet
                                   (default=50)",False,151,99,52,0.1,0.1,0.1,5721,2318,4857,236,4.1393034825870645,59.70984326564315,48.05263157894737,77.78947368421052,535.8641967789688,2.542091704190228,3117.607553827054,173.20041965705855,0.17862139892632295
308,558d9d7bfef3dd633eb16389281b67d42c9bdeef,Simon Willison,2018-05-20 23:41:47+00:00,Datasette 0.22: Datasette Facets,False,43,42,1,,,,5721,2318,4857,236,4.1393034825870645,59.70984326564315,48.05263157894737,77.78947368421052,535.8641967789688,2.542091704190228,3117.607553827054,173.20041965705855,0.17862139892632295
309,58b5a37dbbf13868a46bcbb284509434e66eca25,Russ Garrett,2018-05-22 14:03:06+00:00,Refactor inspect logic,False,306,161,145,1.0,1.0,0.0,5737,2333,4851,231,4.053398058252427,59.8578131587099,45.95,73.8,504.27541552137274,2.5894352069904487,2887.819960564785,160.4344422535992,0.16809180517379094
310,a113c28ea1924d83e6789ae5e0805312e55b4490,Robert Gieseke,2018-05-22 19:35:21+00:00,"Add version number support with Versioneer

Repo:
https://github.com/warner/python-versioneer

Versioneer Licence:
Public Domain (CC0-1.0)

Closes #273",False,2362,2361,1,0.28343949044585987,0.2537154989384289,0.6656050955414012,8086,3294,6312,422,4.388888888888889,57.14898888330605,58.04545454545455,96.0,676.9061698095611,3.0978545232489982,4470.986834818768,248.38815748993164,0.2256353899365204
311,fc47dacbbd4c4d245d7144e4cc014d3303f84b9a,Robert Gieseke,2018-05-22 19:35:21+00:00,"Add `__version_info__` derived from `__version__`

This might be tuple of more than two values (major and minor
version) if commits have been made after a release.",False,4,1,3,,,,8084,3292,6310,421,4.388888888888889,55.10846454441586,60.80952380952381,100.57142857142857,709.1397969433498,3.2453714053084743,4683.890969810139,260.2161649894522,0.23637993231444993
312,49f317752cfe89c5641165a490eef49e025752a7,Robert Gieseke,2018-05-22 19:35:21+00:00,Move version info back to separate module,False,12,7,5,,,,8086,3293,6311,422,4.388888888888889,57.14898888330605,58.04545454545455,96.0,676.9061698095611,3.0978545232489982,4470.986834818768,248.38815748993164,0.2256353899365204
313,2bfd111d65c892e54b06c2c9498ce2b4cc3e67ff,Simon Willison,2018-05-23 13:41:14+00:00,"Faceting no longer breaks pagination, fixes #282",False,11,8,3,0.0,1.0,0.0,8091,3295,6316,423,4.388888888888889,57.16012103611206,58.04545454545455,96.0,676.9061698095611,3.0978545232489982,4470.986834818768,248.38815748993164,0.2256353899365204
314,bd30c696e18927207358ee9d63174a5c41c8297e,Ravi Kotecha,2018-05-23 17:43:34+00:00,"Build Dockerfile with recent Sqlite + Spatialite (#280)

Closes #278

```bash
  $ docker run --rm -it datasette spatialite
  SpatiaLite version ..: 4.4.0-RC0	Supported Extensions:
    - 'VirtualShape'	[direct Shapefile access]
    - 'VirtualDbf'		[direct DBF access]
    - 'VirtualXL'		[direct XLS access]
    - 'VirtualText'		[direct CSV/TXT access]
    - 'VirtualNetwork'	[Dijkstra shortest path]
    - 'RTree'		[Spatial Index - R*Tree]
    - 'MbrCache'		[Spatial Index - MBR cache]
    - 'VirtualSpatialIndex'	[R*Tree metahandler]
    - 'VirtualElementary'	[ElemGeoms metahandler]
    - 'VirtualKNN'	[K-Nearest Neighbors metahandler]
    - 'VirtualXPath'	[XML Path Language - XPath]
    - 'VirtualFDO'		[FDO-OGR interoperability]
    - 'VirtualGPKG'	[OGC GeoPackage interoperability]
    - 'VirtualBBox'		[BoundingBox tables]
    - 'SpatiaLite'		[Spatial SQL - OGC]
  PROJ.4 version ......: Rel. 4.9.3, 15 August 2016
  GEOS version ........: 3.5.1-CAPI-1.9.1 r4246
  TARGET CPU ..........: x86_64-linux-gnu
  the SPATIAL_REF_SYS table already contains some row(s)
  SQLite version ......: 3.23.1
  Enter "".help"" for instructions
  SQLite version 3.23.1 2018-04-10 17:39:29
  Enter "".help"" for instructions
  Enter SQL statements terminated with a "";""
  spatialite>
```

```bash
$ docker run --rm -it datasette python -c ""import sqlite3; print(sqlite3.sqlite_version)""
3.23.1
```

Also updates the query used to check for FTS5 as the old version wasn't
detecting FTS5 for some reason.",False,33,27,6,,,,8091,3295,6316,423,4.388888888888889,57.16012103611206,58.04545454545455,96.0,676.9061698095611,3.0978545232489982,4470.986834818768,248.38815748993164,0.2256353899365204
315,81df47e8d95df895bec792466b3d7b34c8d5c509,Simon Willison,2018-05-25 00:15:53+00:00,"Moved .execute() method from BaseView to Datasette class

Also introduced new Results() class with results.truncated, results.description, results.rows",False,195,105,90,1.0,1.0,0.5,8106,3305,6328,422,4.33984375,57.11588945757192,58.13636363636363,96.0,676.1413333618609,3.1579499094004633,4457.999107590425,247.66661708835707,0.22538044445395367
316,50920cfe3d42483f15e2077c345427059fd19941,Simon Willison,2018-05-25 01:12:27+00:00,"allow_facet, allow_download, suggest_facets boolean --config

Refs #284",False,232,177,55,0.2916666666666667,0.5416666666666666,0.3472222222222222,8202,3345,6409,427,4.360153256704981,56.74191866461402,59.36363636363637,97.72727272727273,690.2837389124198,3.253165258301617,4643.278568674131,257.95992048189606,0.23009457963747335
317,f722b0a730377d28e3b4e8292da2036f32896e02,Simon Willison,2018-05-25 05:50:50+00:00,"allow_sql config option to disable custom SQL, closes #284",False,60,53,7,0.8928571428571429,0.9285714285714286,0.9285714285714286,8239,3361,6440,427,4.337121212121212,56.57101794353079,59.54545454545455,98.04545454545455,692.624524863506,3.2529612654964426,4651.078506895631,258.39325038309056,0.23087484162116875
318,b9b93583467986a72f34732fc87a201157ad83ea,Simon Willison,2018-05-25 05:53:58+00:00,"boolean --config are now case insensitive, refs #284",False,4,2,2,,,,8239,3361,6440,427,4.337121212121212,56.56871120925034,59.63636363636363,98.04545454545455,692.8174541762027,3.2394123144474913,4648.4087955325895,258.2449330851439,0.23093915139206758
319,f98e62fe5ac48cd31362b7e2001b0262fa68ef3b,Simon Willison,2018-05-25 22:08:57+00:00,Fix for 500 error on /db?sql=x,False,1,1,0,0.0,0.0,0.0,8240,3361,6441,427,4.337121212121212,56.56784364331522,59.63636363636363,98.04545454545455,692.8174541762027,3.2394123144474913,4648.4087955325895,258.2449330851439,0.23093915139206758
320,a6afc21aba50e84ae5ca4dc7c899dfd6fd1619d9,Simon Willison,2018-05-26 22:11:16+00:00,Test that ensures all config options are documented,False,16,16,0,1.0,1.0,1.0,8256,3372,6451,427,4.324528301886793,58.173484157014705,57.391304347826086,94.17391304347827,663.86886921202,3.1420465616454263,4447.477978335521,247.08210990752892,0.22128962307067337
321,b463f60158ccf791809cb51cba2cf7a14e491b36,Simon Willison,2018-05-26 22:17:33+00:00,"?_ttl= parameter and default_cache_ttl config

Refs #285, Closes #289",False,40,39,1,0.21428571428571427,0.2857142857142857,0.07142857142857142,8281,3386,6474,427,4.323308270676692,58.0895126951085,58.08695652173913,95.17391304347827,672.3825413981608,3.2177515502364353,4594.408707831623,255.24492821286793,0.22412751379938695
322,276913b74803554e03e1617389f6998885ea8c06,Simon Willison,2018-05-27 00:32:15+00:00,"?_shape=arrayfirst, closes #287",False,20,19,1,0.8181818181818182,0.8181818181818182,0.8181818181818182,8294,3392,6485,427,4.322097378277154,58.05325212212671,58.30434782608695,95.56521739130434,675.72269579934,3.220502920984955,4613.710062761148,256.3172257089526,0.22524089859978003
323,7944a8b0de9f892713da9d31ef0085cd9bcc5ff3,Simon Willison,2018-05-27 00:43:22+00:00,"Added num_sql_threads config option, closes #285",False,19,16,3,0.0,1.0,1.0,8298,3391,6489,427,4.322097378277154,58.05338431146388,58.30434782608695,95.56521739130434,675.72269579934,3.220502920984955,4613.710062761148,256.3172257089526,0.22524089859978003
324,02870e573154517f129cbc85e437d5f0105d7cbe,Simon Willison,2018-05-27 08:45:03+00:00,"Filter out duplicate JS/CSS URLs, refs #291 (testme)",False,22,16,6,0.0,0.0,1.0,8308,3399,6500,427,4.329588014981273,58.02494051150119,58.30434782608695,95.56521739130434,675.72269579934,3.220502920984955,4613.710062761148,256.3172257089526,0.22524089859978003
325,76d11eb768e2f05f593c4d37a25280c0fcdf8fd6,Simon Willison,2018-05-28 18:08:39+00:00,"New ?_json=colname argument for returning unescaped JSON

Also extracted docs for special JSON arguments into a new section.

Closes #31",False,101,91,10,0.3333333333333333,0.3333333333333333,0.0,8372,3432,6556,428,4.338289962825279,57.884916760906634,58.91304347826087,96.73913043478261,685.0976776335502,3.2271832968137395,4675.360953226287,259.7422751792382,0.22836589254451678
326,a4d6acc23943759b46fa90ec68e500016b933410,Simon Willison,2018-05-28 20:41:06+00:00,"Use scope='session' for all fixtures

This means they will only be executed once which makes sense
since the database they create is immutable.",False,10,5,5,,,,8372,3432,6556,428,4.338289962825279,57.884916760906634,58.91304347826087,96.73913043478261,685.0976776335502,3.2271832968137395,4675.360953226287,259.7422751792382,0.22836589254451678
327,fefb0db8ae15199d0204af859ba1edc6ae98f84b,Simon Willison,2018-05-28 20:41:53+00:00,"Unit test for 02870e57, closes #291",False,48,48,0,0.2222222222222222,1.0,1.0,8420,3449,6589,438,4.321033210332104,59.01747583149478,57.041666666666664,93.58333333333333,659.8833766222859,3.1413284372242782,4484.440921658126,249.13560675878477,0.21996112554076205
328,27c10f6482858f9654e31c800884d75304d50ed5,Simon Willison,2018-05-28 20:42:48+00:00,Missing half of last commit fefb0db8ae15,False,29,17,12,0.0,0.0,0.0,8425,3448,6593,438,4.333333333333333,59.013562748548,56.958333333333336,93.45833333333333,658.7103788469853,3.141442853700251,4479.126487373978,248.84036040966544,0.2195701262823285
329,98c8f0e7285fb58b7cbb38304e2ed4576774ad91,Simon Willison,2018-05-28 21:23:48+00:00,Moved plugin HTML tests from test_html to test_plugins,False,38,25,13,1.0,1.0,1.0,8437,3452,6605,438,4.333333333333333,58.645727138587425,56.958333333333336,93.45833333333333,657.8277126761325,3.1400152501385006,4473.733495615342,248.54074975640788,0.21927590422537754
330,b0a95da96386ddf99816911e08df86178ffa9a89,Simon Willison,2018-05-28 21:24:19+00:00,"Show more useful error message for SQL interrupted, closes #142",False,28,25,3,0.6111111111111112,0.6111111111111112,0.7222222222222222,8459,3463,6625,438,4.321033210332104,58.60370743460103,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
331,1a8b0213e0152234b25f2777d5c6f61a41834c8a,Simon Willison,2018-05-30 02:38:21+00:00,Fixed broken test introduced in b0a95da96,False,4,2,2,,,,8459,3463,6625,438,4.321033210332104,58.60370743460103,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
332,969771770fcf795daace72e2310804e699067cfe,Simon Willison,2018-05-31 13:42:37+00:00,"Upgrade pytest to 3.6.0

https://github.com/pytest-dev/pytest/issues/1875 made it impossible to declare
a function as a fixture multiple times, which we were doing across different
modules. The fix was to move our @pytest.fixture calls into decorators in the
tests/fixtures.py module.",False,32,15,17,,,,8457,3461,6626,441,4.321033210332104,58.66118301138082,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
333,b18e4515855c3f1eeca3dfcccdbb6df05869084a,Simon Willison,2018-05-31 14:16:50+00:00,"datasette publish/package --spatialite, closes #243

New command-line argument which causes SpatiaLite to be installed and
configured for the published Datasette.

	datasette publish now --spatialite mydb.db",False,27,25,2,0.0,0.25,0.0,8478,3464,6646,441,4.324723247232472,58.641058473382564,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
334,a80e1d50b9394feee267d76398b5ab249817156c,Simon Willison,2018-05-31 14:21:27+00:00,"Show error on 'datasette publish heroku --spatialite', refs #301",False,13,13,0,0.0,0.0,0.0,8491,3468,6659,441,4.328413284132841,58.62119304446495,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
335,9277c6236a8216450d4ebe3242ce6d56c1a7e437,Simon Willison,2018-05-31 14:47:22+00:00,Fixed tests I broke in b18e45158,False,2,2,0,0.0,1.0,1.0,8493,3468,6661,441,4.328413284132841,58.619528260938694,57.125,93.70833333333333,660.0701089168076,3.1397067425891394,4480.517373887661,248.91763188264784,0.2200233696389359
336,29edbe90ffcdd4f6c2ff564ab1938dff151b40c4,Simon Willison,2018-06-04 16:02:07+00:00,"New cache_size_kb config for SQLite, closes #304",False,33,33,0,0.9166666666666666,1.0,1.0,8517,3477,6681,441,4.3076923076923075,58.57017138170854,57.25,93.91666666666667,661.9948809676704,3.139535860839311,4489.284045561593,249.4046691978663,0.22066496032255686
337,864328e074d771a9b50fb1b01392541d7045fbb5,Simon Willison,2018-06-05 03:53:12+00:00,"Test client wrapper removing need for gather_request - refs #272

As part of decoupling from Sanic, this will make it easier to run tests
against ASGI instead.",False,261,114,147,0.525,0.0,0.0,8484,3482,6642,441,4.27536231884058,58.55003452391468,57.25,93.91666666666667,661.9948809676704,3.139535860839311,4489.284045561593,249.4046691978663,0.22066496032255686
338,a246f476b4fe490f5450836b22961bc607e6b4b0,Simon Willison,2018-06-07 15:22:29+00:00,"Moved JsonDataView into views/special,py",False,53,31,22,0.0,1.0,0.0,8493,3486,6652,441,4.27536231884058,60.25492859689048,54.96,90.16,635.5150857289636,3.0139544264057383,4309.71268373913,239.42848242995166,0.21183836190965458
339,3a79ad98eafb9da527a3b9d9d8fbeb81936b02e7,Simon Willison,2018-06-15 06:51:23+00:00,"Basic CSV export, refs #266

Tables and custom SQL query results can now be exported as CSV.

The easiest way to do this is to use the .csv extension, e.g.

	/test_tables/facet_cities.csv

By default this is served as Content-Type: text/plain so you can see it in
your browser. If you want to download the file (using text/csv and with an
appropriate Content-Disposition: attachment header) you can do so like this:

	/test_tables/facet_cities.csv?_dl=1

We link to the CSV and downloadable CSV URLs from the table and query pages.

The links use ?_size=max and so by default will return 1,000 rows.

Also fixes #303 - table names ending in .json or .csv are now detected and
URLs are generated that look like this instead:

	/test_tables/table%2Fwith%2Fslashes.csv?_format=csv

The ?_format= option is available for everything else too, but we link to the
.csv / .json versions in most cases because they are aesthetically pleasing.",False,281,243,38,0.4461538461538462,0.4461538461538462,0.3153846153846154,8698,3587,6824,446,4.234265734265734,60.158238848941764,54.61538461538461,89.57692307692308,629.6417707381725,2.9178913723960487,4218.829409871571,234.37941165953174,0.20988059024605749
340,5bda4a477c52b6d1cd7d0ca25382dbb20bda40ea,Simon Willison,2018-06-15 07:01:48+00:00,"Fixed CSV tests - Python 3.6.5 and 3.6.3 apparently differ

The test used to expect CSV to come back like this:

	hello
	world
	""""

With the final blank value encoded in quotes.

Judging by Travis failures, this behaviour changed between Python 3.6.3 and
3.6.5:

	https://travis-ci.org/simonw/datasette/jobs/392586661",False,3,1,2,,,,8697,3587,6823,446,4.234265734265734,60.16532834208911,54.61538461538461,89.57692307692308,629.6417707381725,2.9178913723960487,4218.829409871571,234.37941165953174,0.20988059024605749
341,d0a578c0fc07b9d9208cd9de981bdf7385a26c49,Simon Willison,2018-06-16 16:28:55+00:00,"Switch back from python:3.6-slim-stretch to python:3.6

Turns out slim-stretch doesn't include gcc which means it can't build various
Sanic dependencies. So `datasette publish now ...` was broken.

Fixes #310",False,2,1,1,,,,8697,3587,6823,446,4.234265734265734,60.16532834208911,54.61538461538461,89.57692307692308,629.6417707381725,2.9178913723960487,4218.829409871571,234.37941165953174,0.20988059024605749
342,7e0caa1e62607c6579101cc0e62bec8899013715,Simon Willison,2018-06-16 16:44:31+00:00,Extract string-to-bool logic into utils.py,False,30,25,5,0.4444444444444444,0.4444444444444444,0.4444444444444444,8717,3594,6839,446,4.215277777777778,60.1627362594205,54.57692307692308,89.57692307692308,630.0107818325174,2.897076426823822,4222.17894739074,234.56549707726333,0.21000359394417245
343,0c22fa8f09e9fce7434d5fc83bcfb73c25795205,Simon Willison,2018-06-16 17:33:17+00:00,"Cleaned up view_definition/table_definition code in table view

Also moved those out of standard JSON into just the HTML template context",False,54,21,33,1.0,1.0,1.0,8705,3592,6825,446,4.196551724137931,60.144673925182396,54.69230769230769,89.84615384615384,632.1909079110484,2.8967660546125797,4243.740155127594,235.76334195153302,0.2107303026370161
344,ed631e690b81e34fcaeaba1f16c9166f1c505990,Simon Willison,2018-06-16 22:18:57+00:00,"?_labels= and ?_label=COL to expand foreign keys in JSON/CSV

These new querystring arguments can be used to request expanded foreign keys
in both JSON and CSV formats.

?_labels=on turns on expansions for ALL foreign key columns

?_label=COLUMN1&_label=COLUMN2 can be used to pick specific columns to expand

e.g. `Street_Tree_List.json?_label=qSpecies&_label=qLegalStatus`

    {
        ""rowid"": 233,
        ""TreeID"": 121240,
        ""qLegalStatus"": {
            ""value"" 2,
            ""label"": ""Private""
        }
        ""qSpecies"": {
            ""value"": 16,
            ""label"": ""Sycamore""
        }
        ""qAddress"": ""91 Commonwealth Ave"",
        ...
    }

The labels option also works for the HTML and CSV views.

HTML defaults to `?_labels=on`, so if you pass `?_labels=off` you can disable
foreign key expansion entirely - or you can use `?_label=COLUMN` to request
just specific columns.

If you expand labels on CSV you get additional columns in the output:

`/Street_Tree_List.csv?_label=qLegalStatus`

    rowid,TreeID,qLegalStatus,qLegalStatus_label...
    1,141565,1,Permitted Site...
    2,232565,2,Undocumented...

I also refactored the existing foreign key expansion code.

Closes #233. Refs #266.",False,345,276,69,0.5929203539823009,0.8141592920353983,0.6814159292035398,8870,3677,6961,457,4.197324414715719,59.70365854844211,55.65384615384615,91.53846153846153,645.7427818668237,2.897195069413123,4325.938500944663,240.32991671914795,0.21524759395560797
345,0357774c946b7a35871715d7fc23b3f04f519af8,Simon Willison,2018-06-17 18:34:16+00:00,Renamed test_tables.db to fixtures.db in unit tests,False,278,139,139,,,,8870,3677,6961,457,4.197324414715719,59.70365854844211,55.65384615384615,91.53846153846153,645.7427818668237,2.897195069413123,4325.938500944663,240.32991671914795,0.21524759395560797
346,6a32df334de1a7e3579879dd7ee073613be9b91b,Simon Willison,2018-06-17 19:16:04+00:00,"Improved fixtures to support publication

The fixtures database created by our unit tests makes for a good ""live"" demo
of Datasette in action.

I've improved the metadata it ships with to better support this use-case.

I've also improved the mechanism for writing out fixtures: you can do this:

	python tests/fixtures.py fixtures.db

To get just the fixtures database written out... or you can do this:

	python tests/fixtures.py fixtures.db fixtures.json

To get metadata which you can then serve like so:

	datasette fixtures.db -m fixtures.json

Refs #313",False,45,28,17,,,,8881,3685,6971,458,4.197324414715719,59.76770794587214,55.69230769230769,91.61538461538461,646.1580918945666,2.8969436868088008,4326.78435029739,240.376908349855,0.21538603063152226
347,538565de3a126a6aa1cdb4b4ba91135507411af0,Simon Willison,2018-06-17 21:16:08+00:00,"datasette publish now --token=X argument

Lets you specify the auth token to use when deploying to Now.

Tokens can be created at https://zeit.co/account/tokens",False,10,9,1,0.0,0.0,0.0,8888,3691,6978,458,4.2040133779264215,59.73216900776193,55.80769230769231,91.73076923076923,646.9728356408384,2.9172839234951904,4334.356506446436,240.79758369146865,0.21565761188027957
348,db1e6bc182d11f333e6addaa1a6be87625a4e12b,Simon Willison,2018-06-17 21:19:39+00:00,"--version-note for datasette, datasette publish and datasette package

This is a relatively obscure new command-line argument that helps solve the
problem of showing accurate version information in deployed instances of
Datasette even if they were deployed directly from source code.

You can pass --version-note to datasette publish and package and it will then
in turn be passed to datasette when it starts:

    datasette --version-note=hello fixtures.db

Now if you visit /-/versions.json you will see this:

    {
        ""datasette"": {
            ""note"": ""hello"",
            ""version"": ""0+unknown""
        },
        ""python"": {
            ""full"": ""3.6.5 (default, Jun  6 2018, 19:19:24) \n[GCC 6.3.0 20170516]"",
            ""version"": ""3.6.5""
        },
        ...
    }

I plan to use this in some Travis CI configuration, refs #313",False,27,24,3,0.0,0.23529411764705882,0.29411764705882354,8907,3701,6998,458,4.210702341137123,59.70027763493288,55.80769230769231,91.73076923076923,646.9728356408384,2.9172839234951904,4334.356506446436,240.79758369146865,0.21565761188027957
349,0d7ba1ba676828dc7c8dda78ebe7921f7986fc18,Simon Willison,2018-06-17 22:56:55+00:00,"Default to _labels=on on JSON/CSV links with foreign keys, refs #266",False,45,34,11,0.6190476190476191,0.6190476190476191,0.6190476190476191,8930,3713,7019,458,4.206666666666667,59.65010253736302,56.0,92.03846153846153,649.7355737845979,2.916979469149015,4342.74845582143,241.2638031011906,0.21657852459486604
350,fc3660cfad7668dbce6ead12766e048fc1f78b11,Simon Willison,2018-06-18 03:21:02+00:00,"Streaming mode for downloading all rows as a CSV (#315)

* table.csv?_stream=1 to download all rows - refs #266

This option causes Datasette to serve ALL rows in the table, by internally
following the _next= pagination links and serving everything out as a stream.

Also added new config option, allow_csv_stream, which can be used to disable
this feature.

* New config option max_csv_mb limiting size of CSV export",False,166,142,24,0.25,0.27941176470588236,0.7058823529411765,9026,3768,7098,464,4.195439739413681,59.58751920154649,56.92307692307692,93.65384615384616,662.1682102229325,2.9618943495245897,4464.609211868025,248.03384510377919,0.22072273674097756
351,83f4ef7ec7aa5b4cac9892b3e80cbca00c9080db,Simon Willison,2018-06-18 06:05:18+00:00,"Improved UI for CSV/JSON export, closes #266",False,92,78,14,0.0,1.0,1.0,9055,3783,7122,467,4.194805194805195,59.55973213346413,57.15384615384615,94.07692307692308,665.8353410863207,2.961440011678813,4481.706143075468,248.9836746153038,0.2219451136954403
352,54f805dca3fd9e05d9276aedec83036a2e36578c,Simon Willison,2018-06-18 15:11:11+00:00,Advanced export box now obeys allow_csv_stream config - refs #266,False,4,2,2,,,,9055,3783,7122,467,4.194805194805195,59.5592309249323,57.15384615384615,94.07692307692308,665.8353410863207,2.961440011678813,4481.706143075468,248.9836746153038,0.2219451136954403
353,aeeb50f61b7b1bf8ccb61448f8b8253db457d350,Simon Willison,2018-06-21 04:30:13+00:00,"Correctly display facets with value of 0 - fixes #318

Also added comprehensive unit test for facet display HTML.",False,156,122,34,0.0,1.0,1.0,9143,3795,7208,467,4.190938511326861,59.488611106418034,57.34615384615385,94.38461538461539,668.6213800880452,2.9611477013881915,4490.166832787555,249.45371293264196,0.22287379336268176
354,3683a6b626b2e79f4dc9600d45853ca4ae8de11a,Simon Willison,2018-06-21 04:54:36+00:00,"Docs + example of canned SQL query using || concatenation

Closes #321",False,59,55,4,1.0,1.0,1.0,9164,3798,7227,467,4.180645161290323,59.476431972597815,57.42307692307692,94.5,669.709045970179,2.9610482586816924,4495.093648192092,249.72742489956065,0.22323634865672634
355,3b53eea38267420bb78a2a604e23e5f816eccce2,Simon Willison,2018-06-21 14:56:28+00:00,"Fixed incorrect display of compound primary keys with foreign key references

Closes #319",False,132,122,10,0.07462686567164178,0.9552238805970149,0.8955223880597015,9276,3806,7333,468,4.176848874598071,59.426293346301854,57.57692307692308,94.73076923076923,671.8282486426068,2.960825203444542,4501.499168405402,250.08328713363346,0.22394274954753562
356,97ae66ccabd0e2eae5a7880ac93bd2ac26bb355e,Simon Willison,2018-06-21 15:13:07+00:00,"404s ending in slash redirect to remove that slash, closes #309",False,20,19,1,0.8461538461538461,0.8461538461538461,0.6923076923076923,9294,3819,7349,469,4.166666666666667,59.40056461513608,57.88461538461539,95.1923076923077,675.7194445219643,2.9573827052440294,4519.435872164933,251.0797706758296,0.2252398148406548
357,120f20cd97c14b4d9102d9c309b27cc2c0e4ee17,Simon Willison,2018-06-21 15:21:09+00:00,"Allow ""."" in database filenames, closes #302",False,19,15,4,1.0,1.0,1.0,9305,3825,7356,469,4.146496815286624,59.3763230000245,57.96153846153846,95.3076923076923,676.8084197778992,2.9572849268506096,4524.368433304604,251.35380185025573,0.22560280659263313
358,e843ce26e536bb1a105da808c8f765b2c56e9c7b,Simon Willison,2018-06-21 15:26:18+00:00,"Correctly display empty strings in HTML table, closes #314",False,8,4,4,,,,9305,3825,7356,469,4.146496815286624,59.3763230000245,57.96153846153846,95.3076923076923,676.8084197778992,2.9572849268506096,4524.368433304604,251.35380185025573,0.22560280659263313
359,64c2fea8dfcecb06a3f9c674a96948e7366985fc,Simon Willison,2018-06-24 00:59:37+00:00,"CSV export now respects --cors, fixes #326",False,54,40,14,0.4375,0.875,0.4375,9331,3835,7377,469,4.129746835443038,59.23249695954688,58.19230769230769,95.61538461538461,678.8703658712676,2.976515696081379,4532.020708667923,251.778928259329,0.22629012195708925
360,47e689a89b3f5f0969595b17d2ec59ea3caffb3b,Simon Willison,2018-06-24 01:03:46+00:00,"Speed up Travis by reusing pip wheel cache across builds (#324)

* Cache pip wheels between runs in Travis, refs #323
* Run pytest manually - ""python setup.py test"" appeared to still download a bunch of stuff: https://travis-ci.org/simonw/datasette/jobs/395306188

* Use extras_require so pip can install test dependencies: https://github.com/pypa/pip/issues/1197#issuecomment-228939212",False,19,15,4,,,,9336,3835,7382,469,4.129746835443038,59.23249695954688,58.19230769230769,95.61538461538461,678.8703658712676,2.976515696081379,4532.020708667923,251.778928259329,0.22629012195708925
361,d08faa89872d9ec8d3c8e76d85164ccd84596811,Simon Willison,2018-07-08 02:58:11+00:00,"Fix for weird nested exception in RequestTimeout

I saw this error:

    sanic.exceptions.RequestTimeout: Request Timeout

    During handling of the above exception, another exception occurred:

    Traceback (most recent call last):
      File ""/Users/simonw/Dropbox/Development/datasette/venv/lib/python3.6/site-packages/sanic/handlers.py"", line 82, in response
        response = handler(request=request, exception=exception)
      File ""/Users/simonw/Dropbox/Development/datasette/datasette/app.py"", line 512, in on_exception
        if request.path.split(""?"")[0].endswith("".json""):
    AttributeError: 'NoneType' object has no attribute 'path'

Strangely ""if request and request.path..."" did not work here, because the
Sanic Request class extends builtins.dict and hence evaluates to False if it
has no headers.",False,2,1,1,,,,9336,3835,7382,469,4.129746835443038,59.2251206176269,58.34615384615385,95.84615384615384,680.653736442572,2.9736727678653163,4543.6638654621875,252.42577030345487,0.22688457881419072
362,71b46fd9f5b323d746b108d1f674b4007d5c252c,Simon Willison,2018-07-08 02:58:11+00:00,Cleaned up view constructors to accept just a datasette instance,False,19,5,14,0.0,0.0,0.1111111111111111,9327,3826,7373,469,4.129746835443038,59.27622815297733,58.34615384615385,95.84615384615384,680.653736442572,2.9736727678653163,4543.6638654621875,252.42577030345487,0.22688457881419072
363,8ac71a61278d2d1b24ad3f3ab68048dac31467bc,Simon Willison,2018-07-08 03:09:45+00:00,Removed rogue print statement left over from #309,False,1,0,1,0.0,0.0,0.0,9326,3825,7372,469,4.129746835443038,59.277835760469344,58.34615384615385,95.84615384615384,680.653736442572,2.9736727678653163,4543.6638654621875,252.42577030345487,0.22688457881419072
364,6541ce633ebf56770106221b0984751270adb2c7,Simon Willison,2018-07-08 05:21:51+00:00,"Fix for row pages for tables with / in, closes #325",False,36,34,2,0.5555555555555556,0.5555555555555556,0.5555555555555556,9358,3840,7399,469,4.116352201257862,59.205873517432565,58.65384615384615,96.53846153846153,686.5056910023668,2.980363765878732,4580.747733110535,254.4859851728075,0.2288352303341223
365,17863d108b9c8672b5e102d97858a96ca715a9d6,Simon Willison,2018-07-10 01:45:56+00:00,"datasette publish heroku now supports --extra-options, closes #334",False,2,2,0,0.0,0.0,0.0,9360,3842,7401,469,4.119496855345912,59.198523603005015,58.65384615384615,96.53846153846153,686.5056910023668,2.980363765878732,4580.747733110535,254.4859851728075,0.2288352303341223
366,2db2ae4f21d0ba5b84359f611da7b123262d92c7,Simon Willison,2018-07-10 15:13:27+00:00,"Show custom error message if SpatiaLite needed, closes #331",False,32,21,11,0.0,0.0,1.0,9370,3849,7412,469,4.1257861635220126,59.17213147193978,58.73076923076923,96.65384615384616,687.4036727401185,2.9790659073453125,4586.615127997347,254.81195155540823,0.22913455758003953
367,fc9b1cc1368cff455478c10f7b400bf5afc7d8e3,Simon Willison,2018-07-10 16:20:41+00:00,"New truncate_cells_html config for truncating cells, closes #330",False,54,54,0,0.3611111111111111,0.9166666666666666,0.9166666666666666,9413,3868,7451,469,4.121875,59.07605416603605,59.38461538461539,97.6923076923077,696.941283742853,2.9770908481440412,4634.164815753695,257.45360087520527,0.23231376124761768
368,31a5d8fa77be68d4f837f0a80a611675dce49f4b,Simon Willison,2018-07-12 18:07:37+00:00,"Bump aiohttp to fix compatibility with Python 3.7

Tests failed here: https://travis-ci.org/simonw/datasette/jobs/403223333",False,2,1,1,,,,9413,3868,7451,469,4.121875,59.07605416603605,59.38461538461539,97.6923076923077,696.941283742853,2.9770908481440412,4634.164815753695,257.45360087520527,0.23231376124761768
369,58fec99ab0a31bcf25968f2aa05d37de8139b83c,Russ Garrett,2018-07-14 14:04:42+00:00,"Allow app names for `datasette publish heroku`

Lets you supply the `-n` parameter for Heroku deploys, which also lets
you update existing Heroku deployments.",False,31,25,6,0.0,0.0,0.0,9432,3881,7464,471,4.1375,59.03205803653292,59.5,97.88461538461539,698.1624212992049,2.9754840332083132,4638.499979045514,257.6944432803063,0.23272080709973503
370,6e37f091edec35e2706197489f54fff5d890c63c,Simon Willison,2018-07-16 02:33:30+00:00,"Support title/description for canned queries, closes #342

Demo here: https://latest.datasette.io/fixtures/neighborhood_search",False,79,62,17,1.0,1.0,0.9166666666666666,9464,3894,7493,471,4.111801242236025,59.10381071890413,59.65384615384615,98.1923076923077,701.5174578518308,2.9553527524614296,4651.576677690877,258.42092653838205,0.23383915261727697
371,4e82d0e64d1e8c085375278e5b8ecadeab56ddb5,Simon Willison,2018-07-23 15:39:00+00:00,Removed unused imports,False,2,0,2,,,,9462,3893,7491,471,4.111801242236025,59.10567102007643,59.65384615384615,98.1923076923077,701.5174578518308,2.9553527524614296,4651.576677690877,258.42092653838205,0.23383915261727697
372,f24b49a1a8c202e5b28500eeb991173992a5ea18,Simon Willison,2018-07-23 15:58:29+00:00,"New force_https_urls option, refs #333",False,55,44,11,0.9285714285714286,1.0,0.6428571428571429,9481,3904,7507,471,4.098765432098766,59.048236569695554,59.80769230769231,98.42307692307692,703.4561080995904,2.9522173009564128,4661.974696413831,258.9985942452128,0.23448536936653014
373,b320f58d13e510d51e07187c8a75db856205b88f,Simon Willison,2018-07-24 01:51:43+00:00,'publish now' uses force_https_urls:on - closes #333,False,8,7,1,0.0,0.0,0.0,9487,3909,7512,471,4.101851851851852,59.017181930446526,59.92307692307692,98.65384615384616,704.9067707387832,2.9551184945903652,4668.466626137766,259.3592570076537,0.2349689235795944
374,700d83d8adfeb3859ebc93828951e5048cb0e425,Simon Willison,2018-07-24 03:07:57+00:00,?_json_infinity=1 for handling Infinity/-Infinity - fixes #332,False,66,64,2,0.6176470588235294,0.6764705882352942,0.8823529411764706,9543,3924,7557,472,4.103975535168196,58.93474717015354,60.34615384615385,99.53846153846153,712.2423956065,2.960583929317624,4727.829134866693,262.6571741592607,0.2374141318688333
375,3955771feaf47ddb6d281bba28ca2d6281551ed7,Simon Willison,2018-07-24 03:38:31+00:00,"Unit tests for advanced export box HTML, closes #320",False,22,22,0,1.0,1.0,0.0,9565,3939,7574,475,4.103658536585366,58.900405368181595,60.65384615384615,100.0,716.573611788419,2.9602342789679734,4740.915760610239,263.38420892279106,0.23885787059613967
376,581b4c97ee3d8339b1866480375e20b2fd2f6818,Simon Willison,2018-07-24 03:56:32+00:00,"URLify URLs in custom SQL queries, closes #298",False,59,47,12,0.3870967741935484,1.0,1.0,9600,3962,7606,475,4.094224924012158,58.84695272589629,60.96153846153846,100.46153846153847,720.816648816681,2.958518554134631,4756.02709318878,264.2237273993766,0.240272216272227
377,74ad3ff4af4ebb499b07c6ce984def7d88fcbbb7,Simon Willison,2018-07-24 16:01:23+00:00,"Ensure --help examples in docs are always up to date, closes #336

Unit tests now check that docs/*.txt help examples are all up-to-date.

I ran into a problem here in that the terminal_width needed to be more
accurately defined - so I replaced update-docs-help.sh with update-docs-
help.py which hard-codes the terminal width.",False,95,66,29,1.0,1.0,1.0,9650,3990,7646,477,4.078549848942598,58.51606579364597,59.18518518518518,97.29629629629629,696.1755357409564,2.904499348425941,4582.961641354313,254.60898007523957,0.23205851191365212
378,bd1db56936d7aa09f5ee87ac8146e19b71ae8b42,Simon Willison,2018-07-24 16:03:07+00:00,"'Usage: datasette', not 'Usage: cli' - refs #336",False,7,4,3,1.0,1.0,1.0,9651,3991,7647,477,4.078549848942598,58.49006299639904,59.18518518518518,97.29629629629629,696.1755357409564,2.904499348425941,4582.961641354313,254.60898007523957,0.23205851191365212
379,9b85c599079e7dc37e7be125839711c982afc526,Simon Willison,2018-07-24 16:04:06+00:00,Removed unnecessary print statements from tests,False,4,0,4,0.0,0.0,0.0,9647,3987,7643,477,4.078549848942598,58.590628348274194,59.18518518518518,97.29629629629629,696.1755357409564,2.904499348425941,4582.961641354313,254.60898007523957,0.23205851191365212
380,ba64cfb4bc8ff79086e3f61d9be3eaf35cc44c84,Simon Willison,2018-07-25 17:20:56+00:00,"Fix for Python 3.5

https://stackoverflow.com/a/42694113/6083",False,2,1,1,,,,9647,3987,7643,477,4.078549848942598,58.590628348274194,59.18518518518518,97.29629629629629,696.1755357409564,2.904499348425941,4582.961641354313,254.60898007523957,0.23205851191365212
381,3ac21c749881d0fb1c35b0f9b7a819e29f61c5c1,Simon Willison,2018-07-26 04:09:59+00:00,Unit test confirming all plugin hooks are documented,False,21,17,4,1.0,1.0,1.0,9660,3992,7652,477,4.063063063063063,58.39508626433745,59.25925925925926,97.4074074074074,696.7243296279504,2.904499348425941,4583.784832184803,254.65471289915573,0.2322414432093168
382,dbbe707841973b50a76d2703003ae2c40e7ad1fd,Simon Willison,2018-07-26 05:15:59+00:00,"publish_subcommand hook + default plugins mechanism, used for publish heroku/now (#349)

This change introduces a new plugin hook, publish_subcommand, which can be
used to implement new subcommands for the ""datasette publish"" command family.

I've used this new hook to refactor out the ""publish now"" and ""publish heroku""
implementations into separate modules. I've also added unit tests for these
two publishers, mocking the subprocess.call and subprocess.check_output
functions.

As part of this, I introduced a mechanism for loading default plugins. These
are defined in the new ""default_plugins"" list inside datasette/app.py

Closes #217 (Plugin support for datasette publish)
Closes #348 (Unit tests for ""datasette publish"")
Refs #14, #59, #102, #103, #146, #236, #347",False,582,343,239,0.32967032967032966,1.0,0.7802197802197802,9742,4014,7728,479,3.985207100591716,60.51569739252342,51.903225806451616,84.90322580645162,605.8908501440576,2.6179591167019716,4024.638136351707,223.59100757509484,0.20196361671468588
383,1fb518618c1c246c58daf5085247b430f2aea29f,Simon Willison,2018-07-26 05:43:01+00:00,"""datasette publish heroku"" improvements

* Fixed bug where --title= didn't work if -m not provided
* Now using Python 3.6.6 instead of Python 3.6.3",False,4,2,2,,,,9742,4014,7728,479,3.985207100591716,60.51569739252342,51.903225806451616,84.90322580645162,605.8908501440576,2.6179591167019716,4024.638136351707,223.59100757509484,0.20196361671468588
384,3b68314d8f59d92fe7b2150cf747a082192ef9b7,Simon Willison,2018-07-26 05:45:47+00:00,Unit tests for publish now/heroku - closes #348,False,123,123,0,1.0,1.0,0.6746987951807228,9865,4109,7833,479,3.9077809798270895,59.8301451239572,49.72727272727273,81.0,574.1532429726059,2.5350525035685187,3787.15687963787,210.39760442432615,0.191384414324202
385,e8625695a3b7938f37b64dff09c14e47d9428fe5,Simon Willison,2018-07-28 03:13:26+00:00,"xfail documentation unit tests for view classes, refs #299

More documentation unit tests. These ones check that every single **View class
imported into the datasette/app.py module are covered by our documentation.

Just one problem: they aren't documented yet. So I'm using the xfail pytest
decorator to mark these tests as allowed-to-fail. When you run the test suite
you now get a report of how many views still need to be documented, but it
doesn't fail the tests.

The output looks something like this:

    $ pytest tests/test_docs.py
    collected 31 items

    tests/test_docs.py ..........................XXXxx.                [100%]

    ============ 26 passed, 2 xfailed, 3 xpassed in 1.06 seconds ============

Once I have documented all the views I will remove the xfail so any future
views that are added without documentation will cause a test failure.

We can detect that a view is documented by looking for ReST label in the docs,
for example:

    .. _IndexView:

Some view classes can be used to power multiple URLs - the JsonDataView class
for example is used to power /-/metadata and /-/config and /-/plugins

In this case, the second part of the label can indicate the variety of page, e.g:

    .. _JsonDataView_metadata:

The test will pass as long as there is at least one label that starts with
_JsonDataView.",False,23,23,0,1.0,1.0,1.0,9888,4126,7850,479,3.8914285714285715,59.55516278194267,49.84848484848485,81.18181818181819,575.1482802051186,2.5350525035685187,3789.1469541028955,210.50816411682757,0.19171609340170623
386,788a542d3c739da5207db7d1fb91789603cdd336,Simon Willison,2018-07-28 04:21:42+00:00,"Docs for IndexView, TableView, RowView, closes #299

Also removed xfail from test_view_classes_are_documented, so any future *View
classes that are added without documentation will cause the tests to fail.",False,97,95,2,,,,9887,4125,7849,479,3.8914285714285715,59.56599065147313,49.84848484848485,81.18181818181819,575.1482802051186,2.5350525035685187,3789.1469541028955,210.50816411682757,0.19171609340170623
387,8128497b7946ab68fff703e207fc7c5b26b6e9c9,Simon Willison,2018-07-28 04:49:20+00:00,"Only run documented_views() fixture once per session

Speeds up tests, because previously it ran once per view class.",False,2,1,1,,,,9887,4125,7849,479,3.8914285714285715,59.56599065147313,49.84848484848485,81.18181818181819,575.1482802051186,2.5350525035685187,3789.1469541028955,210.50816411682757,0.19171609340170623
388,295d005ca48747faf046ed30c3c61e7563c61ed2,Simon Willison,2018-07-28 04:56:51+00:00,"Renamed variable, since docs are not written in Markdown",False,8,4,4,,,,9887,4125,7849,479,3.8914285714285715,59.56599065147313,49.84848484848485,81.18181818181819,575.1482802051186,2.5350525035685187,3789.1469541028955,210.50816411682757,0.19171609340170623
389,4ac913224061f2dc4f673efab1a5ac6bc748854f,Simon Willison,2018-08-05 00:14:56+00:00,"render_cell(value) plugin hook, closes #352

New plugin hook for customizing the way cells values are rendered in HTML.

The first full example of this hook in use is https://github.com/simonw/datasette-json-html",False,180,150,30,0.72,0.0,0.88,9954,4149,7909,481,3.877840909090909,60.530318769533174,48.8235294117647,79.32352941176471,562.0848957416415,2.5085755864275594,3722.887041434127,206.82705785745148,0.18736163191388056
390,5629aaca67437acce8af47acb06488bd9991420b,Simon Willison,2018-08-06 00:29:23+00:00,sortable_columns also now works with views,False,60,42,18,0.0,1.0,1.0,9961,4152,7917,481,3.886039886039886,60.50816523845095,49.029411764705884,79.58823529411765,564.6560974082042,2.540667889071179,3831.218876222198,212.84549312345547,0.18821869913606812
391,7d0299edd40636037a06548736681b67385b499e,Simon Willison,2018-08-06 00:44:47+00:00,"fts_table and fts_pk metadata configs, available for both tables and views",False,32,30,2,0.0,0.0,0.0,9965,4153,7921,481,3.886039886039886,60.50656986455718,49.029411764705884,79.58823529411765,564.6560974082042,2.540667889071179,3831.218876222198,212.84549312345547,0.18821869913606812
392,fe5b6ea95a973534fe8a44907c0ea2449aae7602,Simon Willison,2018-08-06 03:17:17+00:00,Hide 'view and edit SQL' if config.allow_sql turned off,False,11,10,1,1.0,1.0,1.0,9974,4157,7929,482,3.886039886039886,60.49876013732795,49.14705882352941,79.76470588235294,566.3300497520634,2.5405058324100933,3837.9608513644653,213.22004729802586,0.18877668325068786
393,e1db8194e8c1d7f361fd0c1c3fc1b91d6aa920e5,Simon Willison,2018-08-08 01:11:12+00:00,"Bump versions of pytest, pluggy and beautifulsoup4 (#358)",False,6,3,3,,,,9974,4157,7929,482,3.886039886039886,60.49876013732795,49.14705882352941,79.76470588235294,566.3300497520634,2.5405058324100933,3837.9608513644653,213.22004729802586,0.18877668325068786
394,2189be144002484c3abe5339a9c69aeca7b9889a,Simon Willison,2018-08-11 20:09:07+00:00,Refactor to use new datasatte.config(key) method,False,56,33,23,1.0,1.0,1.0,9984,4162,7936,483,3.8725212464589234,60.49231826750065,49.14705882352941,79.76470588235294,566.3300497520634,2.5405058324100933,3837.9608513644653,213.22004729802586,0.18877668325068786
395,aae49fef3b75848628d824077ec063834e3e5167,Simon Willison,2018-08-16 00:58:56+00:00,"Import pysqlite3 if available, closes #360  (#361)",False,28,18,10,,,,9992,4160,7943,483,3.8725212464589234,60.48723284556643,49.14705882352941,79.76470588235294,566.3300497520634,2.5405058324100933,3837.9608513644653,213.22004729802586,0.18877668325068786
396,0bd41d4cb0a42d7d2baf8b49675418d1482ae39b,Simon Willison,2018-08-28 07:36:22+00:00,Do not show default plugins on /-/plugins,False,8,4,4,,,,9992,4160,7943,483,3.8753541076487252,60.48043988898751,49.23529411764706,79.8529411764706,567.0854015074606,2.556752331009533,3857.0760660159685,214.2820036675538,0.18902846716915356
397,1905c0336451b150b44478285ddb6878f5238519,Simon Willison,2018-08-28 07:45:39+00:00,New ds.metadata() method,False,80,57,23,0.0,0.0,0.1111111111111111,10026,4186,7970,485,3.9237288135593222,60.29766882026597,50.3235294117647,81.73529411764706,581.8112971090363,2.5912523351345538,3999.6287906743896,222.20159948191062,0.19393709903634548
398,0a14a4846b29b4b60d153356ad926cbc461c45c7,Simon Willison,2018-08-28 08:35:21+00:00,Added plugin_config() method,False,120,114,6,1.0,1.0,0.6,10069,4204,8009,485,3.9101123595505616,60.08091923982361,50.76470588235294,82.3529411764706,586.0167071637915,2.6043029048974127,4016.9277464595884,223.1626525810883,0.19533890238793053
399,5cf0c6c91c077b8b69ea159c19f0c6fb02ab9c19,Simon Willison,2018-08-28 09:02:49+00:00,New plugin hook: extra_body_script,False,88,88,0,0.4375,1.0,0.0,10141,4219,8074,485,3.899441340782123,59.924656249740096,50.8235294117647,82.44117647058823,586.6106901349355,2.604087906617399,4018.425203266979,223.2458446259434,0.1955368967116452
400,2e836f72d9a4e61341d75ea48e88314e0d006b65,Simon Willison,2018-08-28 10:03:01+00:00,"render_cell(value, column, table, database, datasette)

The render_cell plugin hook previously was only passed value.

It is now passed (value, column, table, database, datasette).",False,152,127,25,0.0,0.7391304347826086,0.8260869565217391,10221,4230,8149,485,3.886111111111111,59.826731865572036,50.94117647058823,82.61764705882354,587.8173659857765,2.6037193381373758,4021.4655477719166,223.41475265399546,0.1959391219952589
401,fbf446965b398a0a6c3e6bce72c0b9b0112498ab,Simon Willison,2018-08-28 10:25:13+00:00,"Refactoring: renamed ""name"" variable to ""database""",False,132,66,66,,,,10221,4230,8149,485,3.886111111111111,59.826731865572036,50.94117647058823,82.61764705882354,587.8173659857765,2.6037193381373758,4021.4655477719166,223.41475265399546,0.1959391219952589
402,b7c6a9f9bd2bbd06ef64fef4a1fcc86fa0039039,Simon Willison,2018-08-28 10:56:57+00:00,"extra_css_urls(template, database, table, datasette)

The extra_css_urls and extra_js_urls hooks now take additional optional
parameters.

Also refactored them out of the Datasette class and into RenderMixin.

Plus improved plugin documentation to explicitly list parameters.",False,176,124,52,0.0,0.0,0.0,10258,4230,8187,486,3.9134078212290504,59.79086800517782,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
403,b7257a21bf3dfa7353980f343c83a616da44daa7,Simon Willison,2018-08-28 16:55:30+00:00,"Fix json.loads in Python 3.5

3.5 requires a str, not a bytes

https://travis-ci.org/simonw/datasette/jobs/421660555",False,4,3,1,1.0,1.0,0.0,10260,4230,8189,486,3.9134078212290504,59.788378505717155,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
404,b6546da53516e148e6aa34ad94f3452da30040f8,Simon Willison,2018-11-05 06:22:34+00:00,"Use Zeit cloud v1 to avoid 100MB image limit

Closes #366 - thanks @slygent",False,6,6,0,0.0,1.0,0.0,10266,4233,8195,486,3.9134078212290504,59.761821489672606,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
405,c2c03f8e7be6973ef3cbdb3ca424e55a81a956d7,Simon Willison,2018-11-05 06:40:03+00:00,Compatible with Python 3.7,False,3,2,1,,,,10267,4233,8196,486,3.9134078212290504,59.761821489672606,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
406,3de8fac1d322cbab6c8c55899e0e8511b36337d0,Simon Willison,2018-11-20 17:46:47+00:00,"New make_app_client() pattern

Because next version of pytest discourages calling fixture factories as functions",False,38,22,16,1.0,1.0,1.0,10273,4235,8200,486,3.905292479108635,59.75481886598102,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
407,54a59b9fdb40b9c86ff065a5b7047e6ef305bc22,Simon Willison,2018-12-16 20:53:00+00:00,Use python-3.6.7 runtime for Heroku deploys,False,2,1,1,,,,10273,4235,8200,486,3.905292479108635,59.75481886598102,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
408,84d7890b63f6aa43e7369fa8fc7a0a1bbf98c91f,Simon Willison,2018-12-16 21:18:55+00:00,Upgrade pytest to 4.0.2,False,2,1,1,,,,10273,4235,8200,486,3.905292479108635,59.75481886598102,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
409,eac08f0dfc61a99e8887442fc247656d419c76f8,Simon Willison,2018-12-20 15:51:08+00:00,--reload now also reloads if databases change on disk,False,7,4,3,0.0,0.0,0.0,10274,4236,8201,486,3.905292479108635,59.75240829007686,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
410,a2bfcfc1b1c60dac3526364af17c2fa2f3d41a0a,Simon Willison,2018-12-29 02:22:27+00:00,Fix some regex DeprecationWarnings (#392),False,24,12,12,,,,10274,4236,8201,486,3.905292479108635,59.75240829007686,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
411,d95b46b09bf53530b212cc17202a242daa62fd64,Simon Willison,2019-01-02 05:15:54+00:00,"datasette publish now --alias option

You can now use --alias to attempt to alias after you deploy.

Also updated now.json to use version: 1",False,20,13,7,0.2,0.0,0.2,10279,4242,8206,486,3.905292479108635,59.70586071230693,50.94117647058823,82.61764705882354,587.85563645985,2.603300585355054,4019.282958814341,223.2934977119079,0.19595187881995005
412,8b8ae55e7c8b9e1dceef53f55a330b596ca44d41,Simon Willison,2019-01-02 05:35:16+00:00,"Pass --token to 'now alias', if provided",False,5,4,1,0.0,0.0,0.0,10282,4245,8209,486,3.905292479108635,59.64616372882535,51.0,82.70588235294117,588.2302052096591,2.6024602492206,4019.4774479633866,223.30430266463262,0.1960767350698864
413,996e8822d2cb551c0ed821ff1fda24af905332d3,Simon Willison,2019-01-03 02:43:56+00:00,"Fix CSV export hidden form fields, closes #393",False,25,14,11,0.0,0.2,0.2,10287,4245,8214,486,3.9108635097493036,59.63362944806888,51.11764705882353,82.88235294117646,589.7493043161621,2.6004866157305067,4028.4339342830567,223.8018852379476,0.1965831014387208
414,8ce7866312f9b7c873541d6e3662ada3e850fa85,Simon Willison,2019-01-11 00:44:50+00:00,"compile_options output in /-/versions, closes #396",False,16,15,1,0.25,0.25,1.0,10291,4246,8218,486,3.913649025069638,59.623167723036744,51.1764705882353,82.97058823529412,590.5869418136292,2.6004177525186694,4032.2273527995594,224.01263071108664,0.19686231393787645
415,c4c970f3c90fa79a6c6527fe963baf9e07b023c8,Simon Willison,2019-01-11 00:47:15+00:00,Bump aiohttp to 3.5.3 to fix a warning,False,2,1,1,,,,10291,4246,8218,486,3.913649025069638,59.623167723036744,51.1764705882353,82.97058823529412,590.5869418136292,2.6004177525186694,4032.2273527995594,224.01263071108664,0.19686231393787645
416,c3a78eb05c0b146b2eb37b50c1668b9430b8f50a,Simon Willison,2019-01-13 22:23:44+00:00,app_client() fixture doesn't need to take **kwargs,False,4,2,2,,,,10291,4246,8218,486,3.913649025069638,59.623167723036744,51.1764705882353,82.97058823529412,590.5869418136292,2.6004177525186694,4032.2273527995594,224.01263071108664,0.19686231393787645
417,909cc8fbdfc9c05e447f40e9a73489809602c3cd,Simon Willison,2019-01-26 20:01:16+00:00,New 'datasette plugins' command to list installed plugins,False,63,61,2,1.0,1.0,1.0,10307,4256,8231,486,3.911111111111111,59.59308259833627,51.205882352941174,83.02941176470588,591.0548892568092,2.5999768545099813,4035.886153591952,224.21589742177514,0.1970182964189365
418,b5dd83981a7dbff571284d4d90a950c740245b05,Simon Willison,2019-01-28 01:40:23+00:00,Export option: _shape=array&_nl=on for newline-delimited JSON,False,69,58,11,0.0,0.7407407407407407,0.7407407407407407,10338,4270,8259,487,3.914127423822715,59.56282564913714,51.3235294117647,83.29411764705883,593.2681920682651,2.6021552636589513,4053.799823224625,225.211101290257,0.19775606402275503
419,195a5b36349d0d24a6bbb758cebb719b6de303b6,Simon Willison,2019-02-06 04:15:46+00:00,"Heroku --include-vcs-ignore (#407)

Means `datasette publish heroku` can work under Travis, unlike this failure:

https://travis-ci.org/simonw/fivethirtyeight-datasette/builds/488047550

```
2.25s$ datasette publish heroku fivethirtyeight.db -m metadata.json -n fivethirtyeight-datasette
tar: unrecognized option '--exclude-vcs-ignores'
Try 'tar --help' or 'tar --usage' for more information.
     Command failed: tar cz -C /tmp/tmpuaxm7i8f --exclude-vcs-ignores --exclude
     .git --exclude .gitmodules . >
     /tmp/f49440e0-1bf3-4d3f-9eb0-fbc2967d1fd4.tar.gz
     tar: unrecognized option '--exclude-vcs-ignores'
     Try 'tar --help' or 'tar --usage' for more information.
     
The command ""datasette publish heroku fivethirtyeight.db -m metadata.json -n fivethirtyeight-datasette"" exited with 0.
```

The fix for that issue is to call the heroku command like this:

    heroku builds:create -a app_name --include-vcs-ignore",False,4,2,2,,,,10338,4270,8259,487,3.914127423822715,59.56282564913714,51.3235294117647,83.29411764705883,593.2681920682651,2.6021552636589513,4053.799823224625,225.211101290257,0.19775606402275503
420,4462a5ab2817ac0d9ffe20dafbbf27c5c5b81466,Simon Willison,2019-02-06 04:58:29+00:00,"Show size of database file next to download link, closes #172",False,38,37,1,0.8,0.8666666666666667,0.8666666666666667,10369,4283,8286,487,3.90633608815427,59.51652471155454,51.5,83.6470588235294,596.060906920065,2.6045463981423205,4078.779077012805,226.59883761182255,0.19868696897335503
421,bf6b0f918de4aeee7c1036ac975ce2fb23237da7,Simon Willison,2019-03-15 03:54:42+00:00,about and about_url metadata options,False,39,37,2,0.3333333333333333,0.0,0.4666666666666667,10388,4287,8305,487,3.911845730027548,59.48127401403589,51.705882352941174,84.0,599.1479574445991,2.603229412804515,4098.003508876694,227.66686160426084,0.19971598581486638
422,9743e1d91b5f0a2b3c1c0bd6ffce8739341f43c4,Simon Willison,2019-03-15 03:54:42+00:00,"Support for :memory: databases

If you start Datasette with no files, it will connect to :memory: instead.

When starting it with files you can add --memory to also get a :memory: database.",False,123,90,33,0.10869565217391304,0.5869565217391305,0.8478260869565217,10444,4314,8357,488,3.904109589041096,59.40521174303633,52.11764705882353,84.67647058823529,605.1504407956473,2.6027285232077597,4136.384858786447,229.79915882146935,0.20171681359854915
423,b3e739332624c2d4f2668a105afd727af774100b,Simon Willison,2019-03-15 04:41:43+00:00,"Allow more recent versions of Click

Closes #414",False,2,1,1,,,,10444,4314,8357,488,3.904109589041096,59.40521174303633,52.11764705882353,84.67647058823529,605.1504407956473,2.6027285232077597,4136.384858786447,229.79915882146935,0.20171681359854915
424,285566790879b31d2fdd2a8c6f56825162eb71b9,Simon Willison,2019-03-15 05:00:13+00:00,Fix for test failure with Click 7.0,False,2,1,1,,,,10444,4314,8357,488,3.904109589041096,59.41513461872965,52.088235294117645,84.61764705882354,604.8542185789734,2.6027285232077597,4135.940525461436,229.7744736367465,0.20161807285965783
425,afe9aa3ae03c485c5d6652741438d09445a486c1,Simon Willison,2019-03-15 05:22:35+00:00,"show/hide link for SQL on custom query page

Closes #415",False,36,31,5,0.0,0.8,1.0,10468,4329,8378,489,3.8961748633879782,59.375492484172334,52.44117647058823,85.20588235294117,610.3042563695113,2.601839066797209,4161.014450277914,231.16746945988422,0.20343475212317047
426,6f6d0ff2b41f1cacaf42287b1b230b646bcba9ee,Simon Willison,2019-03-17 22:55:04+00:00,"URL hashing is now off by default - closes #418

Prior to this commit Datasette would calculate the content hash of every
database and redirect to a URL containing that hash, like so:

    https://v0-27.datasette.io/fixtures => https://v0-27.datasette.io/fixtures-dd88475

This assumed that all databases were opened in immutable mode and were not
expected to change.

This will be changing as a result of #419 - so this commit takes the first step
in implementing that change by changing this default behaviour. Datasette will
now only redirect hash-free URLs under two circumstances:

* The new `hash_urls` config option is set to true (it defaults to false).
* The user passes `?_hash=1` in the URL",False,219,149,70,0.3548387096774194,0.41935483870967744,0.12903225806451613,10521,4365,8422,490,3.881081081081081,59.27927000191729,52.88235294117647,86.02941176470588,617.2515809974458,2.5791427474093007,4167.843766995892,231.54687594421625,0.2057505269991486
427,47032636b55718dd711670f19b753f4ada9e8f2f,Simon Willison,2019-03-17 23:25:15+00:00,"'datasette serve -i immutable.db' option, refs #419",False,26,22,4,0.0,0.0,0.4444444444444444,10538,4372,8438,491,3.883783783783784,59.26773129611951,53.0,86.29411764705883,619.36768446044,2.5816229061394593,4190.206850260177,232.78926945889876,0.20645589482014665
428,82fec6048148b58748040a7e2caa163387e982a3,Simon Willison,2019-03-17 23:36:35+00:00,"Fix for TypeError

    File ""../datasette/app.py"", line 138, in __init__
      self.files = files + immutables
    TypeError: can only concatenate tuple (not ""list"") to tuple",False,2,1,1,,,,10538,4372,8438,491,3.883783783783784,59.267443266743115,53.05882352941177,86.29411764705883,619.5036028890715,2.576992764609163,4184.771565674461,232.48730920413678,0.20650120096302382
429,0209a0a344503157351e625f0629b686961763c9,Simon Willison,2019-03-31 18:02:22+00:00,"table_exists() now uses async SQL, refs #420",False,75,47,28,0.7894736842105263,1.0,0.3684210526315789,10557,4381,8456,491,3.876010781671159,59.251702466576546,53.0,86.20588235294117,618.7510358116072,2.577683830509207,4179.112680372693,232.1729266873719,0.2062503452705357
430,7d0f668556b6d9a6c3d70a7b8a07a542857bbb56,Simon Willison,2019-03-31 23:51:52+00:00,".resolve_db_name() and .execute() work without inspect

Refs #420",False,84,68,16,0.32608695652173914,0.0,0.45652173913043476,10609,4425,8504,491,3.888,59.13726515923537,53.14705882352941,86.52941176470588,621.371897810677,2.579171096920696,4203.431466495579,233.52397036086555,0.2071239659368923
431,29a3896fe1e09d5c35a90d55690c9f71fae81e24,Simon Willison,2019-03-31 23:55:38+00:00,".database_url(database) no longer needs inspect, refs #420",False,9,5,4,1.0,1.0,1.0,10610,4426,8505,491,3.8906666666666667,59.13181735682902,53.1764705882353,86.55882352941177,621.6564490807278,2.578805821778381,4204.806556124421,233.60036422913453,0.2072188163602426
432,468c6fd9532f08859c77ae670307fd5f4c6632f5,Simon Willison,2019-04-01 02:04:17+00:00,"DatabaseDownload no longer uses .inspect(), refs #420",False,34,29,5,0.1,0.9,0.55,10634,4442,8527,495,3.898936170212766,58.97782133535906,53.44117647058823,86.97058823529412,624.7684282361115,2.5937687753506147,4217.661836607227,234.3145464781793,0.20825614274537044
433,d8851e0011f256ce52775aa776e0e4323db50c8e,Simon Willison,2019-04-07 01:54:51+00:00,Removed rogue print(),False,1,0,1,1.0,1.0,1.0,10633,4441,8526,495,3.898936170212766,58.97879212696721,53.44117647058823,86.97058823529412,624.7684282361115,2.5937687753506147,4217.661836607227,234.3145464781793,0.20825614274537044
434,97331f3435ba1583a0f9dbcaffc25de8894cf1f8,Simon Willison,2019-04-07 01:58:51+00:00,"sortable_columns_for_table() no longer uses inspect()

Refs #420",False,42,31,11,1.0,1.0,0.7272727272727273,10653,4450,8541,495,3.8733509234828496,58.95843041973994,53.44117647058823,86.97058823529412,624.5825544269604,2.594569290574952,4212.349710980298,234.01942838779436,0.20819418480898683
435,53bf875483d98861314db3a0cdcec8f5ce22ee96,Simon Willison,2019-04-07 02:56:07+00:00,"expand_foreign_keys() no longer uses inspect, refs #420",False,115,52,63,1.0,0.2222222222222222,0.0,10643,4461,8532,496,3.8556430446194225,58.93069043976462,53.26470588235294,86.82352941176471,624.0733753215712,2.540629664226355,4216.225697039203,234.23476094662243,0.20802445844052378
436,c882e9262f64e0fc7c2fc89c611bdb768c069af7,Simon Willison,2019-04-07 03:11:08+00:00,"display_columns_and_rows() no longer uses inspect, refs #420",False,41,20,21,1.0,1.0,1.0,10642,4459,8531,496,3.8451443569553807,59.01417256389065,53.05882352941177,86.55882352941177,621.9409277178686,2.5229313083488343,4205.903539876867,233.66130777093707,0.20731364257262289
437,f23120a9641e521d669788e9938fb3cf2754d710,Simon Willison,2019-04-07 03:17:47+00:00,RowView.data() no longer uses inspect refs #420,False,6,3,3,,,,10642,4458,8531,496,3.8372703412073492,59.02477896683011,52.94117647058823,86.38235294117646,620.3094955271769,2.525052349072816,4194.224271907179,233.01245955039886,0.20676983184239228
438,db02311ebf3711309b231d007967bcf8b026a026,Simon Willison,2019-04-07 03:23:30+00:00,"foreign_key_tables no longer uses inspect, refs #420",False,10,5,5,,,,10642,4456,8532,496,3.832020997375328,59.030409045171176,52.911764705882355,86.32352941176471,619.7938631952798,2.5256001675379505,4190.195631791816,232.78864621065645,0.20659795439842657
439,36bd6558b00be027bb4b7dba0c8d200da0ca95df,Simon Willison,2019-04-07 03:46:08+00:00,"expandable_columns() no longer uses inspect, refs #420",False,17,4,13,0.0,0.0,1.0,10633,4452,8523,496,3.8215223097112863,59.04983294513287,52.76470588235294,86.08823529411765,617.6549682098083,2.528451825301664,4174.599976299951,231.92222090555288,0.2058849894032695
440,3a208a41d4dce35b97eca8b25f37055c3fda5aed,Simon Willison,2019-04-07 03:47:10+00:00,"TableView.data() no longer uses .inspect, refs #420

BUT... it does a count(*) against the whole table which may take unbounded time.

Fixing this is part of #422",False,22,12,10,0.0,0.0,0.0,10635,4452,8526,496,3.811023622047244,59.05918728276384,52.64705882352941,85.91176470588235,616.035679366229,2.530877742610513,4163.111223901421,231.28395688341226,0.20534522645540965
441,78e45ead4d771007c57b307edf8fc920101f8733,Simon Willison,2019-04-10 15:27:52+00:00,"New ?tags__arraycontains=tag lookup against JSON fields

Part one of supporting facet-by-JSON-array, refs #359",False,115,74,41,0.0,1.0,0.9411764705882353,10668,4465,8555,497,3.8015665796344646,59.03013271009045,52.88235294117647,86.26470588235294,619.2140975478301,2.528956941079132,4185.5917155109555,232.53287308394198,0.20640469918261006
442,9cd3b44277e6a8ea9273bf659379ff0414e0b8ae,Simon Willison,2019-04-10 23:13:30+00:00,Upgrade to Jinja2==2.10.1 (#426),False,2,1,1,,,,10668,4465,8555,497,3.8015665796344646,59.03013271009045,52.88235294117647,86.26470588235294,619.2140975478301,2.528956941079132,4185.5917155109555,232.53287308394198,0.20640469918261006
443,db74cf0144df3e2a017c40a3a36ff5e1a78d7e92,Simon Willison,2019-04-12 04:21:17+00:00,"?_fts_table= and ?_fts_pk= arguments, closes #428",False,64,60,4,0.6666666666666666,0.0,0.7619047619047619,10717,4480,8597,499,3.8025974025974025,58.997031345342265,53.1764705882353,86.79411764705883,624.023677440564,2.529336433300665,4221.447676180832,234.52487089893515,0.208007892480188
444,e11cb4c66442abca2a6b6159521a6cf4da8739c1,Simon Willison,2019-04-12 05:00:47+00:00,"Persist show/hide state better, closes #425",False,15,13,2,0.0,1.0,1.0,10725,4482,8604,500,3.8025974025974025,58.994994769099165,53.23529411764706,86.88235294117646,624.8737137479706,2.5292599473320987,4224.870841503431,234.71504675019065,0.2082912379159902
445,bc6a9b45646610f362b4287bc4110440991aa4d6,Simon Willison,2019-04-13 01:37:22+00:00,"?_where= parameter on table views, closes #429

From pull request #430",False,94,92,2,0.7346938775510204,0.7346938775510204,0.7551020408163265,10784,4511,8653,501,3.7943444730077123,58.91232696546441,53.76470588235294,87.73529411764706,632.9161343184329,2.5290550745073186,4268.572277227806,237.1429042904337,0.21097204477281095
446,274ef43bb7b129ddc2e68805b4f4ff3776fb9503,Simon Willison,2019-04-13 18:48:00+00:00,Moved expand_foreign_keys() from TableView to Datasette,False,84,42,42,,,,10784,4511,8653,501,3.796915167095116,58.91466197302423,53.76470588235294,87.73529411764706,632.8017901042358,2.530620829896603,4268.4826962198385,237.13792756776883,0.21093393003474525
447,13ee3c222f8ee967a2f716cca11bee4ea51fea46,Simon Willison,2019-04-13 19:16:05+00:00,Moved BaseView.absolute_url() to Datasette,False,18,9,9,,,,10784,4511,8653,501,3.7994858611825193,58.91539929360202,53.76470588235294,87.73529411764706,632.7968094868472,2.5310030876710083,4271.703044165442,237.31683578696905,0.21093226982894905
448,d1075b8259b06e6002aaecc9a1167a4db9b2c2f4,Simon Willison,2019-04-13 19:20:10+00:00,Cleaned up pylint warnings,False,16,13,3,1.0,1.0,0.0,10794,4513,8656,507,3.7897435897435896,58.94843452977657,53.76470588235294,87.73529411764706,632.7968094868472,2.5310030876710083,4271.703044165442,237.31683578696905,0.21093226982894905
449,d4bfb8461c68ba2912f6d01fe159ce186a9040c6,Simon Willison,2019-04-13 19:33:23+00:00,Removed accidental extra default plugins module,False,1,0,1,,,,10793,4513,8655,507,3.7897435897435896,58.94843452977657,53.76470588235294,87.73529411764706,632.7968094868472,2.5310030876710083,4271.703044165442,237.31683578696905,0.21093226982894905
450,6da567dda953c7ac0e5500f17d8e220467a3499e,Simon Willison,2019-04-15 21:51:20+00:00,"Extract and refactor filters into filters.py

This will help in implementing __in as a filter, refs #433",False,422,222,200,0.0,0.0,0.5555555555555556,10815,4532,8673,507,3.7786259541984735,59.137828118052234,51.083333333333336,83.0,594.806765440891,2.509971228057821,3997.5582557919324,222.08656976621853,0.19826892181363032
451,2c19a27d15a913e5f3dd443f04067169a6f24634,Simon Willison,2019-04-15 22:41:11+00:00,"Documentation for filters, plus new documentation unit test

https://simonwillison.net/2018/Jul/28/documentation-unit-tests/",False,82,79,3,1.0,1.0,1.0,10833,4541,8686,508,3.769620253164557,59.04067987891873,51.25,83.22222222222223,596.1360090122469,2.5238601169467096,4002.553651577311,222.36409175429515,0.19871200300408226
452,1c6649b19b09ea018d91a86db9c019a940fe36fc,Simon Willison,2019-04-15 22:43:22+00:00,"New colname__in=x,y,z filter, closes #433",False,64,62,2,1.0,1.0,0.5,10884,4559,8730,509,3.7475,59.12531446606671,51.30555555555556,83.30555555555556,596.6207356361247,2.5232581217626713,4004.259442872399,222.45885793735556,0.19887357854537488
453,583b22aa28e26c318de0189312350ab2688c90b1,Simon Willison,2019-04-15 22:54:54+00:00,New ?column__date=yyyy-mm-dd filter,False,12,12,0,,,,10893,4559,8739,510,3.7475,59.18671020751779,51.30555555555556,83.30555555555556,596.6207356361247,2.5232581217626713,4004.259442872399,222.45885793735556,0.19887357854537488
454,9c77e6e355ec718d76178a7607721d10a66b6aef,Simon Willison,2019-04-15 23:44:17+00:00,"Support multiple filters of the same type

Closes #288",False,106,63,43,0.8888888888888888,0.8888888888888888,0.8888888888888888,10913,4562,8757,511,3.745635910224439,59.242532232900494,51.361111111111114,83.38888888888889,597.425531819355,2.5232071007037296,4007.9021606466945,222.66123114703862,0.19914184393978496
455,2b11948d7c5f4548325c941d92eaf428852a19d8,Simon Willison,2019-04-20 17:50:45+00:00,"New ConnectedDatabase.mtime_ns property

I plan to use this for some clever table count caching tricks",False,4,4,0,1.0,1.0,1.0,10917,4565,8760,511,3.7388059701492535,59.23629102679914,51.361111111111114,83.38888888888889,597.425531819355,2.5232071007037296,4007.9021606466945,222.66123114703862,0.19914184393978496
456,7d01ca34a10b5f8a993859cfd05790eb2870b94e,Simon Willison,2019-04-21 05:34:34+00:00,"Added ?_trace=1 option to trace SQL

Currently just dumps all SQL statements out on the console.",False,73,69,4,0.5555555555555556,0.9111111111111111,0.7777777777777778,10980,4616,8811,512,3.728395061728395,59.3604594948185,50.351351351351354,81.62162162162163,583.4439321554777,2.499545708435305,3907.3564885073984,217.07536047263324,0.1944813107184925
457,58a862cee4a065d463da0a08b87134efb6b6e18d,Simon Willison,2019-04-21 17:41:16+00:00,"?_trace=1 now adds SQL trace info to JSON/HTML response

Also added documentation for it. Refs #435",False,28,23,5,0.0,0.0,1.0,10993,4626,8824,512,3.728395061728395,59.3443371507484,50.7027027027027,82.16216216216216,588.2034950084117,2.513840706931416,3976.7514946779834,220.9306385932213,0.19606783166947053
458,e4e73a537add40b92a02e55af004b0d26a3ccdce,Simon Willison,2019-04-21 17:46:56+00:00,"Test for ?_trace=1, refs #435",False,11,11,0,1.0,1.0,1.0,11004,4635,8833,512,3.7216748768472905,59.318548578406215,50.810810810810814,82.32432432432432,589.7719330887954,2.5137435129027743,3983.850320900121,221.3250178277845,0.19659064436293178
459,11b352b4d52fd02a422776edebb14f12e4994d3b,Simon Willison,2019-04-21 18:20:20+00:00,"Fix for Python 3.5, refs #435",False,2,1,1,,,,11004,4635,8833,512,3.7216748768472905,59.318548578406215,50.810810810810814,82.32432432432432,589.7719330887954,2.5137435129027743,3983.850320900121,221.3250178277845,0.19659064436293178
460,bac4e01f40ae7bd19d1eab1fb9349452c18de8f5,Simon Willison,2019-04-21 19:02:24+00:00,"Ensure sqlite_timelimit correctly clears handler

If an error occurred inside the block the progress handler (used to
enforce a time limit) was not being correctly cleared, resulting in
timeout errors potentially occurring during subsequent SQL queries.

The fix is described here: https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager",False,6,4,2,1.0,1.0,1.0,11006,4637,8835,512,3.7216748768472905,59.31695384920192,50.810810810810814,82.32432432432432,589.7719330887954,2.5137435129027743,3983.850320900121,221.3250178277845,0.19659064436293178
461,cf406c075433882b656e340870adf7757976fa4c,Russ Garrett,2019-05-01 23:01:56+00:00,"New plugin hook: register_output_renderer hook (#441)

Thanks @russss!

* Add register_output_renderer hook

This changeset refactors out the JSON renderer and then adds a hook and
dispatcher system to allow custom output renderers to be registered.

The CSV output renderer is untouched because supporting streaming
renderers through this system would be significantly more complex, and
probably not worthwhile.

We can't simply allow hooks to be called at request time because we need
a list of supported file extensions when the request is being routed in
order to resolve ambiguous database/table names. So, renderers need to
be registered at startup.

I've tried to make this API independent of Sanic's request/response
objects so that this can remain stable during the switch to ASGI. I'm
using dictionaries to keep it simple and to make adding additional
options in the future easy.

Fixes #440",False,418,269,149,0.78125,0.78125,0.15625,11076,4682,8875,518,3.6982968369829683,59.23480184058776,50.13157894736842,80.94736842105263,576.5858257922521,2.5347740738254934,3864.8092946409697,214.71162748005392,0.19219527526408403
462,669fa21a71c9920923df0f64907c095c0e7d889f,Simon Willison,2019-05-01 23:27:14+00:00,Include request duration in traces,False,15,10,5,0.25,0.25,0.75,11081,4685,8880,518,3.6982968369829683,59.23112787023003,50.21052631578947,81.02631578947368,577.3585063823323,2.5495489411083976,3903.7189468290776,216.8732748238376,0.19245283546077738
463,e7151ccccf4a0d10e1fcf3832e18c5199c16dea0,Simon Willison,2019-05-02 00:39:39+00:00,"Index page no longer uses inspect data - refs #420

Also introduced a mechanism whereby table counts are calculated against a time limit
but immutable databases have their table counts calculated on server startup.",False,156,133,23,0.1827956989247312,0.5483870967741935,0.7311827956989247,11191,4735,8979,524,3.7180722891566265,59.13290379518041,51.026315789473685,82.39473684210526,588.1724152240043,2.581284030738619,3981.996356804392,221.22201982246622,0.19605747174133473
464,50d2d1aac985f440b36e6847e3ddacb4a6bf4d4b,Simon Willison,2019-05-02 00:54:48+00:00,Fixed bug where metadata.json hidden tables were ignored,False,27,18,9,0.0,0.0,1.0,11200,4738,8984,527,3.720481927710843,58.96876569202919,51.0,82.39473684210526,588.8139940311897,2.5692275246326974,3993.5894008000455,221.86607782222478,0.19627133134372987
465,033cf0bcbbcadd0256d0c43fb7b9d3053727b4fe,Simon Willison,2019-05-02 01:13:26+00:00,"DatabaseView no longer uses .inspect(), closes #420",False,82,62,20,0.16666666666666666,0.16666666666666666,0.16666666666666666,11242,4752,9021,527,3.71875,58.87541001307363,51.13157894736842,82.55263157894737,589.9501665699903,2.581998792751759,4001.114924724678,222.28416248470435,0.19665005552333006
466,f553a670216960043ec7e62ff35d42db78903ff0,Simon Willison,2019-05-02 05:09:03+00:00,"Don't load setuptools plugins during test runs

Uses pattern from https://docs.pytest.org/en/latest/example/simple.html#detect-if-running-from-within-a-pytest-run

Closes #438",False,33,16,17,1.0,1.0,1.0,11241,4754,9021,525,3.71875,58.74939863286872,51.18421052631579,82.60526315789474,590.0027981489376,2.595156687488601,4001.1412405141514,222.28562447300848,0.19666759938297917
467,ad9de774f75ba41f2a627a9d2cecd61050bac901,Simon Willison,2019-05-02 05:10:23+00:00,"Added missing file, refs #438",False,10,10,0,1.0,1.0,1.0,11251,4760,9027,525,3.7057416267942584,59.80710636023106,49.87179487179487,80.48717948717949,574.8745212733238,2.5286142083222267,3898.547875372763,216.58599307626466,0.19162484042444125
468,efc93b8ab5a21e3802f75f08d5e41409f5684b5d,Simon Willison,2019-05-02 05:29:47+00:00,"Entirely removed table_rows_count table property

We were not displaying this anywhere, and it is now expensive to calculate.

Refs #419, #420",False,10,0,10,0.875,0.75,0.75,11243,4755,9019,525,3.700956937799043,59.82342148120372,49.794871794871796,80.28205128205128,573.0617327924881,2.5269416710486925,3883.432785089164,215.74626583828694,0.19102057759749597
469,ea66c45df96479ef66a89caa71fff1a97a862646,Simon Willison,2019-05-03 00:11:26+00:00,"Extract facet code out into a new plugin hook, closes #427 (#445)

Datasette previously only supported one type of faceting: exact column value counting.

With this change, faceting logic is extracted out into one or more separate classes which can implement other patterns of faceting - this is discussed in #427, but potential upcoming facet types include facet-by-date, facet-by-JSON-array, facet-by-many-2-many and more.

A new plugin hook, register_facet_classes, can be used by plugins to add in additional facet classes.

Each class must implement two methods: suggest(), which scans columns in the table to decide if they might be worth suggesting for faceting, and facet_results(), which executes the facet operation and returns results ready to be displayed in the UI.",False,732,600,132,0.19931271477663232,0.7628865979381443,1.0,11646,4895,9364,548,3.6150341685649203,59.75222026654213,47.476190476190474,75.97619047619048,536.6734639282573,2.49224354343873,3503.114775634445,194.61748753524702,0.17889115464275243
470,53d2f00b732488e0204332da181fc256aa00f41c,Simon Willison,2019-05-03 00:21:27+00:00,"Implemented ArrayFacet, closes #359",False,189,185,4,0.0,0.41358024691358025,1.0,11827,4969,9533,550,3.630630630630631,59.409327390973964,47.785714285714285,76.69047619047619,541.0155216618016,2.5081165593117456,3530.165641562014,196.1203134201119,0.18033850722060046
471,bf229c9bd88179c8ec16bd65fd4fb28ab4241c2e,Russ Garrett,2019-05-03 13:12:19+00:00,"Pass view_name to extra_body_script hook (#443)

At the moment it's not easy to tell whether the hook is being called
in (for example) the row or table view, as in both cases the
`database` and `table` parameters are provided.

This passes the `view_name` added in #441 to the `extra_body_script`
hook.",False,10,7,3,0.0,1.0,0.0,11828,4969,9534,550,3.630630630630631,59.409024085941596,47.785714285714285,76.69047619047619,541.0155216618016,2.5081165593117456,3530.165641562014,196.1203134201119,0.18033850722060046
472,75a21fc2a136ccfc9da7bbf521cf288e63c9707f,Romain Primet,2019-05-03 13:59:01+00:00,"datasette publish cloudrun (#434) - thanks, @rprimet

New publish subcommand that publishes using the
new Google Cloud Run platform.

    datasette publish cloudrun database.db",False,165,152,13,0.3394495412844037,0.963302752293578,0.42201834862385323,11967,5032,9661,551,3.6035634743875278,60.16568152956306,45.90909090909091,73.54545454545455,517.4951425327953,2.4289817688617052,3366.3976393837947,187.0220910768776,0.17249838084426503
473,bade9daeb234e35e216adfe5f6d99f489892b2f8,Simon Willison,2019-05-03 16:16:58+00:00,"Docs for 'datasette publish cloudrun', refs #434",False,91,69,22,,,,11969,5032,9663,551,3.6035634743875278,60.163154767467496,45.90909090909091,73.54545454545455,517.4951425327953,2.4289817688617052,3366.3976393837947,187.0220910768776,0.17249838084426503
474,d555baf508de71a5e3dc9a9aed2c13f6f202956d,Russ Garrett,2019-05-03 16:44:48+00:00,"Suppress rendering of binary data - thanks @russss (#442)

Binary columns (including spatialite geographies) get shown as ugly
binary strings in the HTML by default. Nobody wants to see that mess.

Show the size of the column in bytes instead. If you want to decode
the binary data, you can use a plugin to do it.",False,2,2,0,0.0,0.0,0.0,11971,5034,9665,551,3.6057906458797326,60.15854048695542,45.90909090909091,73.54545454545455,517.4951425327953,2.4289817688617052,3366.3976393837947,187.0220910768776,0.17249838084426503
475,01b3de5b66742f0f661183e9e2ef66be3600e831,Simon Willison,2019-05-03 16:45:06+00:00,"Unit test for binary data display, refs #442",False,43,41,2,0.5185185185185185,0.8148148148148148,0.8148148148148148,12010,5047,9701,551,3.6044444444444443,60.11950615052658,46.02272727272727,73.75,519.3661013429414,2.429607545401617,3378.581198555368,187.69895547529822,0.17312203378098037
476,93c65d29ba372fa2262a641c0fecb7a071d998d6,Simon Willison,2019-05-03 20:42:59+00:00,Fixed 500 error on /-/metadata page,False,13,13,0,1.0,1.0,1.0,12023,5054,9711,551,3.598669623059867,60.10763307155689,46.11363636363637,73.88636363636364,520.6870467514326,2.4294985374333717,3383.9001482302947,187.99445267946086,0.1735623489171441
477,35d6ee2790e41e96f243c1ff58be0c9c0519a8ce,Simon Willison,2019-05-04 02:15:14+00:00,"Apply black to everything, enforce via unit tests (#449)

I've run the black code formatting tool against everything:

    black tests datasette setup.py

I also added a new unit test, in tests/test_black.py, which will fail if the code does not
conform to black's exacting standards.

This unit test only runs on Python 3.6 or higher, because black itself doesn't run on 3.5.",False,5460,2758,2702,0.5333333333333333,0.0,0.0,12079,5074,9753,554,3.5938189845474615,59.79737312165189,45.44444444444444,72.64444444444445,510.12802030817863,2.4355096810459633,3309.7736260899246,183.8763125605514,0.1700426734360595
478,831515b834b1bf465a5c64e69ce505d22f75b35b,Simon Willison,2019-05-05 12:12:03+00:00,"Respect --cors for error pages, closes #453",False,23,21,2,0.5714285714285714,0.5714285714285714,0.42857142857142855,12098,5082,9770,555,3.5881057268722465,59.790200421026796,45.53333333333333,72.77777777777777,511.4247771732541,2.435443861802062,3314.989724227219,184.1660957904011,0.17047492572441797
479,9617e92aa819ec7d7f09b9e44656ebba90c67f67,Simon Willison,2019-05-05 17:58:35+00:00,"Removed pointless return variable

handle_request() always returns None anyway.",False,5,2,3,0.0,0.0,1.0,12097,5081,9769,555,3.5881057268722465,59.790755981762736,45.53333333333333,72.77777777777777,511.4247771732541,2.435443861802062,3314.989724227219,184.1660957904011,0.17047492572441797
480,ec2db345e9465ee4ce3880dc62dcd453e66bcbca,Simon Willison,2019-05-05 18:01:14+00:00,Fixed crash on /:memory: page,False,7,7,0,1.0,1.0,1.0,12104,5086,9774,555,3.5846153846153848,59.78110106647955,45.577777777777776,72.84444444444445,512.0715182501323,2.43539170694181,3317.593824256307,184.3107680142393,0.1706905060833774
481,9fdb47ca952b93b7b60adddb965ea6642b1ff523,Simon Willison,2019-05-09 16:44:21+00:00,"New encode/decode_path_component functions

ASGI cannot differentiate between / and %2F in a URL, so we need an
alternative scheme for encoding the names of tables that contain special
characters such as /

For background, see
    https://github.com/django/asgiref/issues/51#issuecomment-450603464

Some examples:

    ""table/and/slashes"" => ""tableU+002FandU+002Fslashes""
    ""~table"" => ""U+007Etable""
    ""+bobcats!"" => ""U+002Bbobcats!""
    ""U+007Etable"" => ""UU+002B007Etable""",False,37,37,0,1.0,1.0,1.0,12141,5099,9803,555,3.567685589519651,59.74617431027759,45.666666666666664,72.97777777777777,513.0450235696824,2.4351540361159043,3319.071940376312,184.39288557646182,0.17101500785656074
482,2db977d8f30e0eb8b7cda1481a4a8852b414915d,Simon Willison,2019-05-09 16:44:21+00:00,"tests/fixtures.py can now write out plugins too

This command:

    python tests/fixtures.py \
        fixtures.db \
        metadata.json \
        fixtures-plugins/

Will now create the fixtures.db and metadata.json files, AND create
a folder called fixtures-plugins/ containing two test plugins.

You can then run it like this:

    datasette fixtures.db \
        -m metadata.json --plugins-dir=fixtures-plugins/",False,30,27,3,,,,12165,5115,9826,556,3.567685589519651,59.70438702562462,45.8,73.17777777777778,514.2384434230407,2.4808330484615837,3330.155596057511,185.0086442254174,0.17141281447434686
483,b80b03ac9a9b8fc676ae17570b32f5439545198e,Simon Willison,2019-05-09 16:45:01+00:00,"datasette publish cloudrun --service=x, closes #457",False,12,9,3,0.0,1.0,0.8333333333333334,12171,5116,9832,556,3.567685589519651,59.70438702562462,45.8,73.17777777777778,514.2384434230407,2.4808330484615837,3330.155596057511,185.0086442254174,0.17141281447434686
484,f825e2012109247fa246e2b938f8174069e574f1,Simon Willison,2019-05-09 16:48:13+00:00,Run black and update docs for #457,False,9,4,5,1.0,0.0,0.0,12169,5116,9830,556,3.567685589519651,59.70438702562462,45.8,73.17777777777778,514.2384434230407,2.4808330484615837,3330.155596057511,185.0086442254174,0.17141281447434686
485,9f8d9fe262866ff3463f8e61214dcc6897bd5a9c,Veit Heller,2019-05-10 01:54:50+00:00,setup: add tests to package exclusion (#458),False,2,1,1,,,,12169,5116,9830,556,3.567685589519651,59.70438702562462,45.8,73.17777777777778,514.2384434230407,2.4808330484615837,3330.155596057511,185.0086442254174,0.17141281447434686
486,de005b9b7d3db72375e6b8b048d1616a98e6347a,Simon Willison,2019-05-10 05:28:16+00:00,Fixed 500 error on homepage,False,4,3,1,0.0,0.0,0.0,12171,5116,9832,556,3.572052401746725,59.67902693241819,45.86666666666667,73.24444444444444,514.5860758371177,2.4921205264157282,3331.3780668148734,185.07655926749308,0.17152869194570589
487,a0d444837f6ce3fdaf6b0664605f74dd4a7f8215,Simon Willison,2019-05-11 19:06:22+00:00,"Finished implementation of ?_trace=1 debug tool

I redesigned the JSON output and added a handy ""traceback"" key showing
three relevant lines of the current traceback for each logged query.

Closes #435",False,63,43,20,0.0,1.0,1.0,12194,5132,9854,556,3.574235807860262,59.57711680034309,46.111111111111114,73.55555555555556,517.2487022078585,2.5143128051738115,3358.3229826286424,186.57349903492465,0.17241623406928613
488,09ef305c687399384fe38487c075e8669682deb4,Simon Willison,2019-05-11 20:20:36+00:00,"Fixed ""datasette publish now ... --alias=x""

The --alias argument can now be passed more than once.

Also updated our Travis configuration to use this.

Fixes #459",False,85,47,38,0.0,1.0,1.0,12208,5133,9864,560,3.574235807860262,59.88657039709334,46.022222222222226,73.42222222222222,516.620968286996,2.5149477258087325,3357.6589456400757,186.53660809111537,0.17220698942899865
489,05cabaebd99b4aa388096de0a03fb52d08f6c117,Simon Willison,2019-05-11 20:35:34+00:00,"Pass --token to now alias, refs #459",False,44,37,7,0.0,0.9032258064516129,0.9032258064516129,12238,5136,9895,560,3.574235807860262,59.86757773731519,46.022222222222226,73.42222222222222,516.620968286996,2.5149477258087325,3357.6589456400757,186.53660809111537,0.17220698942899865
490,ce09e5d2d392634eced44c3c8d603d7c628e2822,Simon Willison,2019-05-11 20:58:22+00:00,Fixed tests relating to #459,False,8,3,5,1.0,0.0,0.0,12236,5136,9893,560,3.574235807860262,59.86757773731519,46.022222222222226,73.42222222222222,516.620968286996,2.5149477258087325,3357.6589456400757,186.53660809111537,0.17220698942899865
491,c0d1b4c32297453adaa4c159edee9be0a9617f2b,Simon Willison,2019-05-11 21:36:57+00:00,"""datasette inspect foo.db"" now just calculates table counts

Refs #462

* inspect command now just outputs table counts
* test_inspect.py is now only tests for that CLI command
* Updated some relevant documentation
* Removed docs for /-/inspect since that is about to change",False,188,58,130,1.0,0.0,0.0,12196,5138,9860,560,3.5807860262008733,59.94512095536598,46.044444444444444,73.37777777777778,516.4906368864094,2.5246699480309545,3360.013288874568,186.66740493747605,0.17216354562880318
492,a187c81e0caf92ed52a380f262b6b5eabb399897,Simon Willison,2019-05-11 21:45:59+00:00,Black + fix broken test,False,19,13,6,1.0,1.0,1.0,12203,5141,9865,560,3.5751633986928106,59.84714374792563,46.044444444444444,73.37777777777778,516.4906368864094,2.5246699480309545,3360.013288874568,186.66740493747605,0.17216354562880318
493,c692cd291111050483a32bea1ee08e994a0b781b,Simon Willison,2019-05-11 22:03:52+00:00,Fix test ordering,False,1,1,0,1.0,1.0,1.0,12204,5142,9866,560,3.5751633986928106,59.82006433283268,46.044444444444444,73.37777777777778,516.4906368864094,2.5246699480309545,3360.013288874568,186.66740493747605,0.17216354562880318
494,da0b3ce2b76227f1cd0cfdd3df361712c17ddcd0,Simon Willison,2019-05-11 22:55:30+00:00,"New run_sanity_checks mechanism, for SpatiLite

Moved VirtualSpatialIndex check into a new mechanism that should allow
us to add further sanity checks in the future.

To test this I've had to commit a binary sample SpatiaLite database to
the repository. I included a build script for creating that database.

Closes #466",False,94,68,26,0.76,1.0,0.96,12247,5168,9895,566,3.5627705627705626,60.43730410977327,45.30434782608695,72.04347826086956,506.5354410036361,2.513264079595499,3291.5321911532565,182.86289950851432,0.168845147001212
495,24bf79d2f01f373eafcb41eaa1279a13711eff25,Simon Willison,2019-05-11 23:22:55+00:00,"Run sanity checks, not .inspect(), on startup

Also fixes tests that did NOT like a call to run_until_complete in the Datasette() constructor.",False,9,5,4,1.0,1.0,1.0,12248,5168,9895,566,3.5627705627705626,60.42181062927545,45.30434782608695,72.04347826086956,506.5354410036361,2.513264079595499,3291.5321911532565,182.86289950851432,0.168845147001212
496,e04511410f57e88c806455b9182a853bf07122a2,Simon Willison,2019-05-14 15:46:57+00:00,"Don't show hidden tables on index page, closes #455

Refs #460. Also bulked out HTML index page unit tests.",False,74,68,6,0.0,0.6410256410256411,0.6410256410256411,12310,5196,9949,569,3.5680345572354213,60.343737779254525,45.65217391304348,72.5,510.51408858184635,2.5354985378523405,3310.1505137908384,183.89725076615773,0.17017136286061543
497,5d6b2c30f15c36bcf49906acda7f15ec6232c984,Simon Willison,2019-05-16 00:28:07+00:00,"Include views on homepage, fix table counts

If we have less than 5 tables we now also show one or more views in the
summary on the homepage.

Also corrected the logic for the row counts - we now count hidden and
visible tables separately.

Closes #373, Refs #460",False,66,42,24,0.0,0.1,0.1,12328,5205,9961,570,3.5809935205183585,60.380234149913726,45.84782608695652,72.73913043478261,511.8765196580087,2.592378478563803,3321.526360585306,184.52924225473927,0.17062550655266953
498,79303163b249829182f2e8d8c2d45e4526aa174f,Simon Willison,2019-05-16 00:40:10+00:00,"Row count fix + sort index page databases alphabetically

Sorting alphabetically should fix a test failure in Python 3.5

Refs #460",False,15,9,6,0.0,0.0,0.0,12331,5208,9962,570,3.5809935205183585,60.36913112489153,45.84782608695652,72.73913043478261,511.8765196580087,2.592378478563803,3321.526360585306,184.52924225473927,0.17062550655266953
499,689cf9c139f57d6a3fd61e0c62fe66c793f234ae,Simon Willison,2019-05-16 03:02:33+00:00,"Index page only shows row counts for smaller databases

The index page now only shows row counts for immutable databases OR for
databases with less than 30 tables provided it could get a count for
each of those tables in less than 10ms.

Closes #467, Refs #460",False,25,19,6,0.0,0.14285714285714285,0.14285714285714285,12344,5214,9970,574,3.5939524838012957,60.456093189245124,46.02173913043478,72.97826086956522,513.3353008595494,2.61751434812902,3334.3935319358293,185.24408510754608,0.1711117669531831
500,faf33515b2e6ef8b891e7c9693c66aba2a77dc54,Simon Willison,2019-05-16 03:23:33+00:00,"Sometimes sort tables by number of relationships, closes #460",False,40,36,4,0.68,0.68,0.68,12376,5226,9996,575,3.5935483870967744,60.413934181814945,46.28260869565217,73.34782608695652,516.1632590657767,2.6245680378793925,3352.2032542878405,186.23351412710232,0.1720544196885922
501,b7fe722f0541c8c026e93dc59cfcff6c6201ddfd,Simon Willison,2019-05-16 03:25:51+00:00,Removed rogue print(),False,1,0,1,1.0,1.0,0.0,12375,5225,9995,575,3.5935483870967744,60.41553524083361,46.28260869565217,73.34782608695652,516.1632590657767,2.6245680378793925,3352.2032542878405,186.23351412710232,0.1720544196885922
502,2ad9d15cd6901654e6801e2faa29e6fc08bae5fa,Simon Willison,2019-05-16 03:55:28+00:00,"Table counts now handles SQL Logic Error too

I tried running Datasette against 22 database files at once and ran into
a weird error where the table counts broke with an SQL Logic Error
exception. Easy fix: catch that exception too and treat it the same as a
regular Interrupted error.",False,4,3,1,,,,12377,5225,9995,577,3.5935483870967744,60.4223440092956,46.28260869565217,73.34782608695652,516.1632590657767,2.6245680378793925,3352.2032542878405,186.23351412710232,0.1720544196885922
503,666c37415a898949fae0437099d62a35b1e9c430,Simon Willison,2019-05-16 04:32:23+00:00,"publish heroku now uses Python 3.6.8

Also refactored temporary_heroku_directory out of utils.py",False,192,97,95,,,,12379,5229,9999,576,3.5935483870967744,60.12885511272007,46.34782608695652,73.34782608695652,515.3147193963706,2.6590538437569413,3340.0920513320975,185.56066951844997,0.17177157313212352
504,7c79eb974b3bd4fff2bf23c00d0c17958b5b7567,Simon Willison,2019-05-16 10:20:08+00:00,It's 2019 now,False,2,1,1,,,,12379,5229,9999,576,3.5935483870967744,60.12885511272007,46.34782608695652,73.34782608695652,515.3147193963706,2.6590538437569413,3340.0920513320975,185.56066951844997,0.17177157313212352
505,909e66dfdb9b43eed718004eba903497bc67b25a,Simon Willison,2019-05-16 14:15:24+00:00,"Removed .inspect() and /-/inspect.json

Refs #462

/-/inspect.json may return in some shape in #465",False,46,1,45,0.875,0.875,0.05,12335,5206,9960,576,3.5939524838012957,60.16272533934501,46.130434782608695,73.02173913043478,512.2872216405533,2.6466173571045437,3285.9777070458363,182.55431705810204,0.17076240721351774
506,21b57cdf9a4ede0f9444f15a3bd182be3b06f2c0,Simon Willison,2019-05-16 14:30:32+00:00,"serve --inspect-file=X now populates cached table counts

Closes #462",False,20,18,2,0.0,0.8461538461538461,0.46153846153846156,12351,5217,9973,577,3.5969827586206895,60.07623792403556,46.23913043478261,73.21739130434783,513.5973415929467,2.648403510032922,3292.2112298857896,182.9006238825439,0.17119911386431555
507,0dad111d24856ee6012850dac19929a48dc0a59f,Simon Willison,2019-05-16 14:49:34+00:00,"New introspection endpoint: /-/databases - closes #470

Refs #419 and #465",False,57,57,0,0.8787878787878788,0.8787878787878788,1.0,12392,5238,10008,577,3.582441113490364,60.06000279787202,46.58695652173913,73.80434782608695,519.2590871714189,2.6605983695409674,3370.9341440644343,187.27411911469082,0.1730863623904729
508,cccea85be6aaaeadb31f3b588ec7f732628815f5,Simon Willison,2019-05-16 14:56:13+00:00,"/-/databases sorts alphabetically

Should fix test failure in Python 3.5",False,2,1,1,,,,12392,5238,10008,577,3.582441113490364,60.06000279787202,46.58695652173913,73.80434782608695,519.2590871714189,2.6605983695409674,3370.9341440644343,187.27411911469082,0.1730863623904729
509,db9dbfb816e1e9e4a0845884035eeaeb3110668e,Simon Willison,2019-05-16 15:10:25+00:00,"?_hash=1 no longer respected for mutable databases

Closes #471, refs #419",False,25,21,4,0.7142857142857143,0.7142857142857143,0.2857142857142857,12409,5242,10023,578,3.5790598290598292,60.05866915351634,46.69565217391305,73.97826086956522,520.7983537958269,2.6598267116372933,3379.1884280086133,187.73269044492298,0.17359945126527562
510,7d8573d6724a13d5003e48d75682323ee1e55692,Simon Willison,2019-05-19 18:06:51+00:00,"Rename ""datasette publish now"" to ""datasette publish nowv1""

Also added an alias so ""datasette publish now"" continues to work.

Closes #472",False,48,32,16,1.0,1.0,0.5,12425,5254,10034,578,3.5690021231422504,59.99714736402275,46.80434782608695,74.1086956521739,521.5417063789108,2.6706962768546845,3382.209805147991,187.90054473044398,0.1738472354596369
511,503fee891b81dfe10f4ecd7b6c3a1dca0eb0432b,Simon Willison,2019-05-19 20:05:38+00:00,"Removed 'datasette skeleton', closes #476",False,120,0,120,1.0,0.0,1.0,12354,5237,9966,578,3.5659574468085107,60.05892654788605,46.73913043478261,74.04347826086956,521.1346062176304,2.6598267116372933,3379.524680430417,187.75137113502316,0.17371153540587678
512,f4eefdf19330bcd2e6867875a93a948c96912213,Simon Willison,2019-05-19 20:41:09+00:00,Do not allow downloads of mutable databases - closes #474,False,60,35,25,0.7272727272727273,0.0,0.7272727272727273,12364,5245,9975,577,3.5796178343949046,59.97320761059964,47.08695652173913,74.47826086956522,524.3143059061259,2.681134213670927,3390.828518935709,188.37936216309498,0.17477143530204198
513,48759d3b35de9fa1a89622587e38b286e0484997,Simon Willison,2019-05-19 21:57:47+00:00,New setup.py description,False,2,1,1,,,,12364,5245,9975,577,3.5796178343949046,59.97320761059964,47.08695652173913,74.47826086956522,524.3143059061259,2.681134213670927,3390.828518935709,188.37936216309498,0.17477143530204198
514,e513a80afba30bca9eeebd71c5e6aa6d8a811f33,Simon Willison,2019-05-19 22:53:34+00:00,"Use -i with datasette publish, closes #469",False,7,5,2,0.0,0.0,0.0,12367,5246,9978,577,3.583864118895966,59.965698278042076,47.08695652173913,74.47826086956522,524.3143059061259,2.681134213670927,3390.828518935709,188.37936216309498,0.17477143530204198
515,de4503a136617697648473bc37780c6799eb4d98,Simon Willison,2019-05-21 05:36:56+00:00,Fix ?col__date= for columns with spaces,False,4,3,1,,,,12369,5246,9980,577,3.583864118895966,59.96492742549331,47.08695652173913,74.47826086956522,524.3143059061259,2.681134213670927,3390.828518935709,188.37936216309498,0.17477143530204198
516,2d14f21f85d3a1fe0ff914e01fcacd089704f7aa,Simon Willison,2019-05-21 06:06:19+00:00,Updated tests for date(...) lookup,False,2,1,1,,,,12369,5246,9980,577,3.583864118895966,59.96492742549331,47.08695652173913,74.47826086956522,524.3143059061259,2.681134213670927,3390.828518935709,188.37936216309498,0.17477143530204198
517,967230c90e7467d4adb5df5a5732ece0247cf536,Simon Willison,2019-05-21 06:09:22+00:00,"Facet by date, closes #481",False,271,231,40,0.0,0.3953488372093023,1.0,12553,5302,10156,578,3.6,59.77256902566018,47.28260869565217,75.0,527.6054949272881,2.6934684720736404,3415.289261783436,189.73829232130203,0.17586849830909598
518,172da009d890aa029cff7138b4dcfd4f60948525,Simon Willison,2019-05-23 05:45:12+00:00,"Added ?_through= table argument, closes #355

Also added much more interesting many-to-many fixtures - roadside attractions!",False,403,305,98,0.0,0.7094017094017094,0.7094017094017094,12734,5323,10328,580,3.615546218487395,59.73969245344318,47.47826086956522,75.34782608695652,530.8401559084391,2.6931336999895548,3436.478391737333,190.91546620762963,0.1769467186361463
519,d923d847545e829bf946bb9170bebfc7c3f9d993,Simon Willison,2019-05-25 16:06:32+00:00,"Facet by many-to-many, closes #365",False,266,262,4,0.0,0.2463768115942029,1.0,12979,5414,10539,603,3.6632016632016633,59.55299230784539,48.21739130434783,76.67391304347827,540.5635240156988,2.700678015813241,3506.053051870472,194.78072510391516,0.1801878413385663
520,9bd39672dead0da8570a9e68b70f9ca7a2b4e63e,Simon Willison,2019-05-25 16:14:57+00:00,"Better label detection, refs #485

This needs unit tests.",False,12,10,2,1.0,0.0,0.0,12987,5417,10546,604,3.6715176715176714,59.54008146229977,48.32608695652174,76.8695652173913,542.3063573596226,2.700890588796632,3521.6383192301805,195.64657329056558,0.1807687857865409
521,182a3017c24e3fa3af60e4ac0c91c7e48f8736fd,Simon Willison,2019-05-25 16:22:02+00:00,Sort keys to past tests in Python 3.5,False,5,3,2,0.0,0.0,1.0,12988,5417,10547,604,3.6715176715176714,59.539819100158404,48.32608695652174,76.8695652173913,542.3063573596226,2.700890588796632,3521.6383192301805,195.64657329056558,0.1807687857865409
522,026c84db30bd0a75ecde146a80a5d142078dc299,Simon Willison,2019-05-27 04:56:43+00:00,"Refactor Datasette methods to ConnectedDatabase

Refs #487",False,150,78,72,0.0,0.0,1.0,12994,5424,10553,604,3.6715176715176714,59.53537918768568,48.32608695652174,76.8695652173913,542.3063573596226,2.700890588796632,3521.6383192301805,195.64657329056558,0.1807687857865409
523,6569287d9001fb7e37f99b4bc5eddb78d047fa6f,Simon Willison,2019-05-27 05:07:43+00:00,"Refactored ConnectedDatabase to datasette/database.py

Closes #487",False,451,228,223,1.0,1.0,1.0,12999,5427,10556,605,3.6715176715176714,59.43152193351686,47.46808510638298,75.23404255319149,526.5419738397152,2.741747253846786,3383.97678510899,187.99871028383282,0.17551399127990513
524,20f98c3e20902c62db610e43155c476508ead4a4,Simon Willison,2019-05-27 18:27:42+00:00,"Databse.primary_keys(table) / fts_table(table) refactor, closes #488

Also cleaned up some unused imports spotted by the linter.",False,67,24,43,1.0,1.0,1.0,12980,5429,10537,603,3.660455486542443,59.41970893178544,47.46808510638298,75.23404255319149,526.5419738397152,2.741747253846786,3383.97678510899,187.99871028383282,0.17551399127990513
525,edb36629e7356f70f42b9d37fea5dfe9cc3c364a,Simon Willison,2019-05-27 18:41:44+00:00,"Database.get_outbound_foreign_keys() refactor

Following this, the only module that ever makes calls to the low-level
execute_against_connection_in_thread() method is datasette/database.py",False,29,13,16,1.0,1.0,1.0,12977,5434,10534,603,3.6549586776859506,59.409443828448815,47.46808510638298,75.23404255319149,526.5419738397152,2.741747253846786,3383.97678510899,187.99871028383282,0.17551399127990513
526,bd4dbc8519c24c2799dfa5e69bb3dc37a3f3092e,Simon Willison,2019-05-28 00:16:36+00:00,"Rename InterruptedError => QueryInterrupted, closes #490",False,40,20,20,,,,12977,5434,10534,603,3.6549586776859506,59.409443828448815,47.46808510638298,75.23404255319149,526.5419738397152,2.741747253846786,3383.97678510899,187.99871028383282,0.17551399127990513
527,839e55bf0a5cc2ef4d47074b7d804f7f2d5accb3,Simon Willison,2019-05-28 01:42:30+00:00,"Start of unit tests for Database class, refs #485",False,85,85,0,0.07462686567164178,1.0,0.9253731343283582,13062,5456,10613,603,3.640657084188912,59.39767686329905,46.666666666666664,73.91666666666667,516.3648306350817,2.6950441860583108,3313.8735093777327,184.10408385431853,0.17212161021169395
528,de92c0513409e72af78e6796c47c8954fd47576e,Simon Willison,2019-05-28 01:49:57+00:00,Fixed duplicate function name,False,2,1,1,,,,13062,5456,10613,603,3.640657084188912,59.39767686329905,46.666666666666664,73.91666666666667,516.3648306350817,2.6950441860583108,3313.8735093777327,184.10408385431853,0.17212161021169395
529,f069950a143b97b384ec39a86db28e6f2830947d,Simon Willison,2019-05-28 02:03:36+00:00,Removed obsolete __init__ method,False,3,0,3,0.0,0.0,0.0,13059,5454,10611,603,3.646090534979424,59.404350639100926,46.666666666666664,73.91666666666667,516.3648306350817,2.6950441860583108,3313.8735093777327,184.10408385431853,0.17212161021169395
530,9c58d048ec4af8a35b680a5654c2a18985704f8b,Simon Willison,2019-05-28 02:23:18+00:00,"Fix pagination when sorted by expanded foreign key

Closes #489",False,4,4,0,0.0,0.0,0.0,13063,5456,10615,604,3.654320987654321,59.39584162599368,46.729166666666664,74.04166666666667,517.4427363160555,2.6948455896244217,3323.9820061869377,184.66566701038542,0.17248091210535188
531,2a4b892d6c0f6609ea48df0dc393397af2b7b1c1,Simon Willison,2019-05-28 02:28:47+00:00,Tidy up with Black,False,6,5,1,,,,13067,5456,10619,604,3.654320987654321,59.39584162599368,46.729166666666664,74.04166666666667,517.4427363160555,2.6948455896244217,3323.9820061869377,184.66566701038542,0.17248091210535188
532,5e8fbf7f6fbc0b63d0479da3806dd9ccd6aaa945,Simon Willison,2019-06-03 02:06:26+00:00,"Upgrade pytest to 4.6.1, pluggy to 0.12.0 (#497)",False,4,2,2,,,,13067,5456,10619,604,3.654320987654321,59.39584162599368,46.729166666666664,74.04166666666667,517.4427363160555,2.6948455896244217,3323.9820061869377,184.66566701038542,0.17248091210535188
533,d4df640d187d01a0ee81c238082a690bbefd0800,Simon Willison,2019-06-15 19:41:34+00:00,"Refactored view class hierarchy, refs #272

See https://github.com/simonw/datasette/issues/272#issuecomment-502393107",False,22,11,11,,,,13067,5456,10619,604,3.654320987654321,59.39584162599368,46.729166666666664,74.04166666666667,517.4427363160555,2.6948455896244217,3323.9820061869377,184.66566701038542,0.17248091210535188
534,35429f90894321eda7f2db31b9ea7976f31f73ac,Simon Willison,2019-06-19 00:23:27+00:00,"Revert ""New encode/decode_path_component functions""

Refs #272

This reverts commit 9fdb47ca952b93b7b60adddb965ea6642b1ff523.

Now that ASGI supports raw_path we don't need our own encoding scheme!",False,37,0,37,0.0,0.0,0.0,13030,5443,10590,604,3.670807453416149,59.42948314989496,46.645833333333336,73.91666666666667,516.5300750789773,2.6950684060237093,3322.5962723244334,184.58868179580182,0.17217669169299252
535,ba8db9679f3bd2454c9e76e7e6c352126848b57a,Simon Willison,2019-06-24 03:13:09+00:00,"Port Datasette from Sanic to ASGI + Uvicorn (#518)

Datasette now uses ASGI internally, and no longer depends on Sanic.

It now uses Uvicorn as the underlying HTTP server.

This was thirteen months in the making... for full details see the issue:

https://github.com/simonw/datasette/issues/272

And for a full sequence of commits plus commentary, see the pull request:

https://github.com/simonw/datasette/pull/518",False,975,769,206,0.5640394088669951,0.6773399014778325,0.2438423645320197,13595,5771,11054,619,3.521897810218978,58.5140642933227,47.83673469387755,75.20408163265306,523.1593258506889,2.806966723578267,3306.540860740065,183.6967144855592,0.1743864419502297
536,6341f8cbc7833022012804dea120b838ec1f6558,Simon Willison,2019-06-24 16:28:42+00:00,"Better coverage of sqlite-utils in FTS docs, closes #525",False,36,26,10,,,,13599,5771,11058,619,3.521897810218978,58.510213708637586,47.83673469387755,75.20408163265306,523.1593258506889,2.806966723578267,3306.540860740065,183.6967144855592,0.1743864419502297
537,9e97b725f11be3f4dca077fe5569078a62ec2761,Simon Willison,2019-06-25 12:08:04+00:00,pip install -e .[docs] for docs dependencies,False,19,7,12,,,,13596,5771,11055,619,3.521897810218978,58.513072238663334,47.83673469387755,75.20408163265306,523.1593258506889,2.806966723578267,3306.540860740065,183.6967144855592,0.1743864419502297
538,754836eef043676e84626c4fd3cb993eed0d2976,Simon Willison,2019-07-03 03:23:05+00:00,"New experimental Row() for templates, refs #521",False,43,36,7,1.0,1.0,1.0,13625,5792,11078,619,3.5108303249097474,58.46356750343345,47.95918367346939,75.42857142857143,525.1330425658075,2.8056031236745205,3322.77873605474,184.5988186697078,0.17504434752193587
539,c461357b4483f1cc44efb3f12cf91cc1fb45ab1d,Simon Willison,2019-07-03 03:23:05+00:00,"Default to raw value, use Row.display(key) for display, refs #521",False,6,3,3,,,,13625,5792,11078,619,3.5108303249097474,58.46356750343345,47.95918367346939,75.42857142857143,525.1330425658075,2.8056031236745205,3322.77873605474,184.5988186697078,0.17504434752193587
540,e7120d91f6ab7917b57b0e966259082d513c36ee,Simon Willison,2019-07-03 03:23:05+00:00,"Rename _rows_and_columns.html to _table.html, refs #521",False,40,20,20,,,,13625,5792,11078,619,3.5108303249097474,58.46356750343345,47.95918367346939,75.42857142857143,525.1330425658075,2.8056031236745205,3322.77873605474,184.5988186697078,0.17504434752193587
541,13e4f9a676da91e271a243f18f3a4ebe4f84557a,Simon Willison,2019-07-03 03:23:05+00:00,"Unit test for _table custom template, refs #521",False,18,18,0,0.8461538461538461,0.8461538461538461,0.8461538461538461,13640,5797,11091,619,3.5081081081081082,58.450235828190024,48.10204081632653,75.61224489795919,526.988964612533,2.816463889617514,3377.2451038883246,187.62472799379586,0.17566298820417772
542,4d2fdafe39159c9a8aa83f7e9bfe768bbbbb56a3,Simon Willison,2019-07-03 04:06:25+00:00,"Added asgi_wrapper plugin hook, closes #520",False,79,78,1,0.625,0.625,1.0,13676,5806,11120,619,3.5008976660682225,58.42653005961578,48.142857142857146,75.6734693877551,527.4137016540274,2.816353455833611,3378.314726723473,187.68415148463743,0.1758045672180092
543,f0d32da0a9af87bcb15e34e35424f0c0053be83a,Simon Willison,2019-07-03 04:32:55+00:00,"Switch to ~= dependencies, closes #532 (#536)

* Switch to ~= dependencies, closes #532
* Bump click and click-default-group
* imp. is deprecated, use types.ModuleType instead - thanks https://stackoverflow.com/a/32175781
* Upgrade to pytest 5",False,30,15,15,,,,13676,5806,11120,619,3.5008976660682225,58.42653005961578,48.142857142857146,75.6734693877551,527.4137016540274,2.816353455833611,3378.314726723473,187.68415148463743,0.1758045672180092
544,a2d45931935f6bb73605a94afedf9e78308c95d6,Simon Willison,2019-07-04 05:36:44+00:00,"Secret plugin configuration options (#539)

Closes #538",False,69,66,3,0.0,0.0,0.5,13706,5826,11142,621,3.5026833631484795,58.37078286984203,48.30612244897959,75.91836734693878,529.3481722821512,2.8154702549648163,3388.0268694699444,188.2237149705525,0.1764493907607171
545,25ff0a8ba6b2e3247a66048ad173ba5ed8a38b80,Simon Willison,2019-07-04 05:47:45+00:00,"Fix for accidentally leaking secrets in /-/metadata, closes #538",False,17,14,3,0.75,0.75,0.75,13717,5834,11150,624,3.5026833631484795,58.3658018665405,48.38775510204081,76.04081632653062,530.2230714057248,2.815306728015575,3390.227991992799,188.34599955515554,0.1767410238019083
546,107d47567dedd472eebec7f35bc34f5b58285ba8,Simon Willison,2019-07-04 05:56:13+00:00,Black,False,4,3,1,0.0,0.0,0.0,13719,5834,11152,624,3.5026833631484795,58.36542083325433,48.38775510204081,76.04081632653062,530.2230714057248,2.815306728015575,3390.227991992799,188.34599955515554,0.1767410238019083
547,16fdabda978fa659bed0e8670a385dab3c2cd197,Simon Willison,2019-07-04 14:03:02+00:00,Better robustness in face of missing raw_path,False,5,4,1,1.0,1.0,0.0,13722,5837,11155,624,3.506261180679785,58.35912543102944,48.38775510204081,76.04081632653062,530.2230714057248,2.815306728015575,3390.227991992799,188.34599955515554,0.1767410238019083
548,fcfcae21e67cc15090942b1d2a47b5f016279337,Simon Willison,2019-07-06 00:05:56+00:00,"extra_template_vars plugin hook (#542)

* extra_template_vars plugin hook

Closes #541

* Workaround for cwd bug

Based on https://github.com/pytest-dev/pytest/issues/1235#issuecomment-175295691",False,205,186,19,0.0,0.0,0.5263157894736842,13819,5870,11234,625,3.5,58.11931511814648,48.57142857142857,76.28571428571429,532.0529604251735,2.825589302583864,3400.7587952011518,188.9310441778418,0.17735098680839126
549,c5542abba564a0b320a1201a8cc85b48c743005d,Simon Willison,2019-07-07 23:21:11+00:00,"Removed ManyToManyFacet for the moment, closes #550",False,249,2,247,1.0,0.7524271844660194,0.0,13574,5776,11023,602,3.4578096947935366,58.29896532446361,47.87755102040816,75.04081632653062,522.9249005693788,2.8185068836473417,3335.4438081373887,185.3024337854105,0.17430830018979296
550,973f8f139df6ad425354711052cfc2256de2e522,Simon Willison,2019-07-08 02:06:31+00:00,"--plugin-secret option for datasette publish

Closes #543

Also added new --show-files option to publish now and publish cloudrun - handy for debugging.",False,467,381,86,0.0,0.4322033898305085,0.288135593220339,13840,5878,11269,602,3.447415329768271,57.781947927224024,48.183673469387756,75.46938775510205,525.290672145654,2.828186149859963,3341.8553938346863,185.65863299081596,0.17509689071521797
551,9ca860e54fe480d0a365c0c1d8d085926d12be1e,Abdus,2019-07-11 16:07:44+00:00,"Add support for running datasette as a module (#556)

python -m datasette

Thanks, @abdusco",False,4,4,0,,,,13844,5881,11272,602,3.447415329768271,58.31794383571897,47.28,74.02,514.8799564527841,2.781622426862764,3275.0658348330144,181.9481019351675,0.17162665215092804
552,74ecf8a7cc45cabf369e510c7214f5ed85c8c6d8,Abdus,2019-07-11 16:13:19+00:00,"Fix static mounts using relative paths and prevent traversal exploits (#554)

Thanks, @abdusco! Closes #555",False,11,9,2,0.0,1.0,0.2857142857142857,13851,5888,11279,602,3.447415329768271,58.30858080868061,47.28,74.08,515.3803474529572,2.7821938554341927,3279.948221306132,182.21934562811848,0.1717934491509857
553,cc27857c722c172b3c9bd93c92f02e19f2a55d6c,Simon Willison,2019-07-11 16:14:24+00:00,Removed unused variable,False,1,0,1,1.0,0.0,1.0,13850,5887,11278,602,3.447415329768271,58.30971529030893,47.28,74.08,515.3803474529572,2.7821938554341927,3279.948221306132,182.21934562811848,0.1717934491509857
554,d224ee2c98ac39c2c6e21a0ac0c62e5c3e1ccd11,Simon Willison,2019-07-13 22:34:57+00:00,"Bump to uvicorn 0.8.4 (#559)

https://github.com/encode/uvicorn/commits/0.8.4

Query strings will now be included in log files: https://github.com/encode/uvicorn/pull/384",False,2,1,1,,,,13850,5887,11278,602,3.447415329768271,58.30971529030893,47.28,74.08,515.3803474529572,2.7821938554341927,3279.948221306132,182.21934562811848,0.1717934491509857
555,90d4f497f9b3f6a5882937c91fddb496ac3e7368,Simon Willison,2019-07-14 02:49:24+00:00,"Fix plus test for unicode characters in custom query name, closes #558",False,41,25,16,0.6666666666666666,0.6666666666666666,0.6666666666666666,13859,5899,11285,602,3.4466192170818504,58.29032227955243,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
556,f04deebec4f3842f7bd610cd5859de529f77d50e,Simon Willison,2019-07-26 10:22:57+00:00,Refactored connection logic to database.connect(),False,27,13,14,1.0,0.0,0.0,13858,5899,11283,602,3.4458259325044405,58.276640253542,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
557,27cb29365c9f5f6f1492968d1268497193ed75a2,Min ho Kim,2019-07-26 10:25:44+00:00,"Fix numerous typos (#561)

Thanks, @minho42!",False,20,10,10,,,,13859,5899,11285,602,3.4466192170818504,58.29032227955243,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
558,2dc5c8dc259a0606162673d394ba8cc1c6f54428,Simon Willison,2019-09-03 00:32:27+00:00,"detect_fts now works with alternative table escaping (#571)

Fixes #570. See also https://github.com/simonw/sqlite-utils/pull/57",False,10,7,3,0.3333333333333333,1.0,1.0,13862,5900,11287,602,3.4458259325044405,58.27390959490481,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
559,a314b761866d250c16f1ff6dd682010cf4181eb4,Simon Willison,2019-10-02 15:35:25+00:00,Added /-/threads debugging page,False,38,38,0,0.6666666666666666,0.6666666666666666,1.0,13875,5905,11299,602,3.4414893617021276,58.2638803366861,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
560,fffd69ec031b83f46680f192ba57a27f0d1f0b8a,Simon Willison,2019-10-06 17:23:58+00:00,Allow EXPLAIN WITH... - closes #583,False,6,6,0,,,,13881,5905,11305,602,3.4414893617021276,58.262249634652605,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
561,908fc3999e06f3ccd3bb8ad0539490bbc7809748,Tobias Kunze,2019-10-14 03:52:33+00:00,"Sort databases on homepage by argument order - #591

Closes #585 - thanks, @rixx!",False,8,3,5,1.0,1.0,1.0,13879,5903,11304,602,3.4414893617021276,58.27061031515107,47.4,74.26,516.8265043913633,2.795000993439521,3292.77658231508,182.9320323508378,0.17227550146378778
562,12cec411cae73ba7211429da12cd32c551fe17b1,Tobias Kunze,2019-10-14 03:53:21+00:00,"Display metadata footer on custom SQL queries (#589)

Closes #408 - thanks, @rixx!",False,22,18,4,0.7777777777777778,0.7777777777777778,0.7777777777777778,13893,5910,11313,605,3.4371681415929203,58.26760565676669,47.5,74.44,518.559661985814,2.795166172010949,3301.944673051104,183.44137072506138,0.17285322066193803
563,3e864b1625f3142e6ff084f9b41247f2f9f60f80,Simon Willison,2019-10-17 21:51:45+00:00,"Use --platform=managed for publish cloudrun, closes #587",False,4,2,2,,,,13893,5910,11313,605,3.4371681415929203,58.26760565676669,47.5,74.44,518.559661985814,2.795166172010949,3301.944673051104,183.44137072506138,0.17285322066193803
564,b6ad1fdc7068cb8248787843e7438d1f19fa2e3a,Simon Willison,2019-10-18 05:23:01+00:00,"Fixed bug returning non-ascii characters in CSV, closes #584",False,11,10,1,1.0,1.0,1.0,13902,5915,11320,605,3.432862190812721,58.21479636845811,47.62,74.62,519.7752915083676,2.795166172010949,3303.7681173349342,183.54267318527417,0.1732584305027892
565,b647b5efc29300f715ba656e41b0591f342938e1,Simon Willison,2019-10-18 22:51:07+00:00,"Fix for /foo v.s. /foo-bar issue, closes #597

Pull request #599",False,41,33,8,0.9,0.9,0.9,13927,5926,11342,604,3.4278169014084505,58.19489719449567,47.74,74.86,521.8698863167809,2.7969770281116273,3317.7498965033265,184.31943869462927,0.17395662877226034
566,f4c0830529a9513a83437a9e1550bbe27ebc5c64,chris48s,2019-10-21 02:03:08+00:00,"Always pop as_format off args dict (#603)

Closes #563. Thanks, @chris48s",False,11,11,0,0.75,0.75,0.75,13938,5933,11350,605,3.4235500878734624,58.19336476569538,47.82,74.98,523.062115432598,2.796910893423113,3323.7434900042526,184.65241611134738,0.17435403847753267
567,5dd4d2b2d3abcfd507a6df47e7c2fbad3c552fd8,Simon Willison,2019-10-30 18:49:01+00:00,Update to latest black (#609),False,20,12,8,0.75,0.75,0.0,13942,5933,11354,605,3.4235500878734624,58.19251436201578,47.82,74.98,523.062115432598,2.796910893423113,3323.7434900042526,184.65241611134738,0.17435403847753267
568,e2c390500e6782aa476a7edc05c46cf907875a6e,Simon Willison,2019-10-30 18:49:26+00:00,"Persist _where= in hidden fields, closes #604",False,9,9,0,0.0,0.625,1.0,13951,5939,11362,606,3.4270650263620386,58.183139614015516,47.9,75.1,524.2507040666748,2.796817143423113,3329.1262951752633,184.9514608430702,0.17475023468889161
569,3ca290e0db03bb4747e24203c445873f74512107,Simon Willison,2019-10-30 19:00:21+00:00,Fixed dumb error,False,2,1,1,,,,13951,5939,11362,606,3.4270650263620386,58.183139614015516,47.9,75.1,524.2507040666748,2.796817143423113,3329.1262951752633,184.9514608430702,0.17475023468889161
570,937828f946238c28e77ba50e0b2e649c874560f7,Simon Willison,2019-11-01 05:39:59+00:00,"Use distinfo.project_name for plugin name if available, closes #606",False,1,1,0,0.0,0.0,1.0,13952,5940,11363,606,3.4270650263620386,58.182492384216104,47.9,75.1,524.2507040666748,2.796817143423113,3329.1262951752633,184.9514608430702,0.17475023468889161
571,50287e7c6bb0987536e5515f05945721c4515e9a,Simon Willison,2019-11-01 19:37:46+00:00,Only suggest array facet for arrays of strings - closes #562,False,138,92,46,0.06976744186046512,0.7441860465116279,1.0,13998,5951,11407,607,3.4298245614035086,58.15437951373679,47.94,75.14,524.5865109197474,2.8102612923592836,3339.7015105573205,185.53897280874008,0.1748621703065825
572,ba5414f16b49781261d0f41a16f2210d5fa3976f,Simon Willison,2019-11-01 19:38:15+00:00,Only inspect first 100 records for #562,False,2,1,1,,,,13998,5951,11407,607,3.4298245614035086,58.15437951373679,47.94,75.14,524.5865109197474,2.8102612923592836,3339.7015105573205,185.53897280874008,0.1748621703065825
573,7152e76eda9049574643261e7a471958cc16d0b9,Simon Willison,2019-11-01 21:45:59+00:00,"Don't suggest array facet if column is only [], closes #610",False,43,32,11,0.5882352941176471,0.5882352941176471,1.0,14019,5957,11426,607,3.4308231173380035,58.11642507179898,48.02,75.26,525.4066651887449,2.8083362923592836,3342.270660685766,185.6817033714315,0.17513555506291503
574,ffae2f0ecde1ca92e78d097665df820d3b7861e6,Simon Willison,2019-11-01 21:57:49+00:00,"Better documentation of --host, closes #574",False,43,29,14,,,,14026,5957,11433,607,3.4308231173380035,58.114463030181184,48.02,75.26,525.4066651887449,2.8083362923592836,3342.270660685766,185.6817033714315,0.17513555506291503
575,ed57e4f99018c1d520858f55f6eee4eb1cc2af3d,Simon Willison,2019-11-01 22:15:10+00:00,"Plugin static assets support both hyphens and underscores in names

Closes #611",False,15,12,3,0.0,0.0,1.0,14035,5957,11441,608,3.4308231173380035,58.11697578921158,48.02,75.26,525.4066651887449,2.8083362923592836,3342.270660685766,185.6817033714315,0.17513555506291503
576,14da70525b35e1a44cd45c19101385467057f041,Simon Willison,2019-11-02 22:29:40+00:00,"Don't show 'None' as label for nullable foreign key, closes #406",False,30,25,5,0.0,1.0,1.0,14055,5961,11459,608,3.43006993006993,58.11221901836997,48.1,75.44,526.9920779018607,2.809492132365002,3357.5465197812973,186.53036221007216,0.17566402596728692
577,2bf7ce5f517d772a16d7855a35a8a75d4456aad7,Simon Willison,2019-11-02 23:12:46+00:00,"Fix CSV export for nullable foreign keys, closes #612",False,27,23,4,0.5555555555555556,0.5555555555555556,1.0,14074,5971,11475,608,3.425828970331588,58.04894704931419,48.28,75.74,529.2000885543994,2.8100150081819955,3366.23723904729,187.01317994707173,0.17640002951813316
578,9db22cdf1809fb78a7b183cd2f617cd5e26efc68,Simon Willison,2019-11-04 04:11:55+00:00,"pk__notin= filter, closes #614",False,21,21,0,1.0,1.0,0.0,14092,5981,11489,609,3.4184027777777777,58.04764606480219,48.28,75.8,529.4821149374878,2.817383429234627,3368.4885022807157,187.13825012670648,0.17649403831249597
579,52fa79c6075f0830ff635b81d957c64d877a05aa,Simon Willison,2019-11-04 23:03:48+00:00,"Use select colnames, not select * for table view - refs #615",False,11,8,3,0.3333333333333333,0.3333333333333333,0.3333333333333333,14097,5983,11492,609,3.421875,58.043742326699146,48.28,75.8,529.4821149374878,2.817383429234627,3368.4885022807157,187.13825012670648,0.17649403831249597
580,931bfc66613aa3e22f8314df5c0d0758baf31f38,Tobias Kunze,2019-11-04 23:16:30+00:00,"Handle spaces in DB names (#590)

Closes #503 - thanks, @rixx",False,34,26,8,0.75,0.75,0.75,14115,5988,11508,609,3.417677642980936,58.04298937698667,48.36,75.92,530.6772028962478,2.8173195749568105,3374.496051537525,187.47200286319588,0.17689240096541595
581,c30f07c58e410ee296b28aeabe4dc461dd40b435,Simon Willison,2019-11-06 05:12:55+00:00,"Removed _group_count=col feature, closes #504",False,21,0,21,1.0,1.0,1.0,14103,5984,11498,608,3.4072790294627384,58.05270783226492,48.32,75.86,530.1262999716794,2.818089288002385,3370.847530969508,187.26930727608382,0.17670876665722648
582,f9c146b893856a48afa810ebcce1714f30d0d3a2,Simon Willison,2019-11-07 00:55:44+00:00,Removed unused special_args_lists variable,False,2,0,2,1.0,1.0,1.0,14101,5982,11496,608,3.4072790294627384,58.0539332948558,48.32,75.86,530.1262999716794,2.818089288002385,3370.847530969508,187.26930727608382,0.17670876665722648
583,83fc5165ac724f69cd57d8f15cd3038e7b30f878,Simon Willison,2019-11-08 02:48:39+00:00,"Improved UI for publish cloudrun, closes #608",False,94,90,4,0.0,0.8026315789473685,0.21052631578947367,14187,6014,11572,609,3.400690846286701,57.2703149871597,48.44,76.02,530.8201411429186,2.828089288002385,3371.521372140747,187.30674289670824,0.17694004704763952
584,28c4a6db5b5e512db630d7ba6127196185de67c7,Simon Willison,2019-11-10 01:29:36+00:00,"CREATE INDEX statements on table page, closes #618",False,47,46,1,0.0,1.0,0.0,14232,6024,11614,610,3.3982758620689655,57.2478632534617,48.54,76.2,532.1852630548608,2.8292575614467323,3378.192828608391,187.6773793671329,0.17739508768495363
585,1c063fae9dba70f70244db010d55a18846640f07,Simon Willison,2019-11-11 03:45:34+00:00,"Test against Python 3.8 in Travis (#623)

* Test against Python 3.8 in Travis
* Avoid current_task warnings in Python 3.8",False,10,9,1,,,,14239,6028,11618,611,3.3982758620689655,57.24585549003293,48.6,76.26,532.6424792831805,2.8395173017064725,3385.704311224486,188.0946839569159,0.17754749309439352
586,42ee3e16a9ba7cc513b8da944cc1609a5407cf42,Simon Willison,2019-11-11 04:19:01+00:00,"Bump pint to 0.9 (#624)

This fixes 2 deprecation warnings in Python 3.8 - refs #623 #622",False,2,1,1,,,,14239,6028,11618,611,3.3982758620689655,57.24585549003293,48.6,76.26,532.6424792831805,2.8395173017064725,3385.704311224486,188.0946839569159,0.17754749309439352
587,5bc2570121aea8141ff88790e214765472882b08,Simon Willison,2019-11-12 04:45:12+00:00,"Include uvicorn version in /-/versions, refs #622",False,2,2,0,0.0,0.0,1.0,14241,6029,11620,611,3.3982758620689655,57.24501103771357,48.6,76.26,532.6424792831805,2.8395173017064725,3385.704311224486,188.0946839569159,0.17754749309439352
588,cf7776d36fbacefa874cbd6e5fcdc9fff7661203,Simon Willison,2019-11-12 05:09:11+00:00,"Support Python 3.8, stop supporting Python 3.5 (#627)

* Upgrade to uvicorn 0.10.4
* Drop support for Python 3.5
* Bump all dependencies to latest releases
* Update docs to reflect we no longer support 3.5
* Removed code that skipped black unit test on 3.5

Closes #622",False,39,18,21,0.0,0.0,0.0,14236,6027,11617,610,3.3982758620689655,56.98139928993115,48.6,76.26,532.6424792831805,2.8395173017064725,3385.704311224486,188.0946839569159,0.17754749309439352
589,7f89928062b1a1fdb2625a946f7cd5161e597401,Simon Willison,2019-11-12 05:33:51+00:00,"Removed code that conditionally installs black

Since we no longer support Python 3.5 we don't need this any more.",False,9,2,7,,,,14231,6024,11614,609,3.3982758620689655,57.54894140037867,48.48,76.14,532.332283783094,2.8195173017064725,3385.394115724399,188.07745087357776,0.1774440945943647
590,d977fbadf70a96bf2eea1407d01f99d98e092dec,Simon Willison,2019-11-12 06:03:09+00:00,"datasette publish uses python:3.8 base Docker image, closes #629",False,6,3,3,,,,14231,6024,11614,609,3.3982758620689655,57.54894140037867,48.48,76.14,532.332283783094,2.8195173017064725,3385.394115724399,188.07745087357776,0.1774440945943647
591,f52451023025579ae9a13de4a7f00d69200184cd,Simon Willison,2019-11-13 16:42:47+00:00,"Fix ""publish heroku"" + upgrade to use Python 3.8.0

Closes #633. Closes #632.",False,16,12,4,0.0,0.7142857142857143,0.0,14239,6025,11622,610,3.3982758620689655,57.56819442749565,48.48,76.14,532.332283783094,2.8195173017064725,3385.394115724399,188.07745087357776,0.1774440945943647
592,8c642f04e0608bf537fdd1f76d64c2367fb04d57,Simon Willison,2019-11-14 23:14:22+00:00,"Render templates using Jinja async mode

Closes #628",False,58,43,15,0.8823529411764706,0.8823529411764706,1.0,14265,6033,11646,610,3.395869191049914,57.526086096886935,48.6,76.32,533.6763577240297,2.8193354835246542,3389.4463208776356,188.30257338209097,0.1778921192413432
593,a9909c29ccac771c23c2ef22b89d10697b5256b9,Simon Willison,2019-11-15 22:52:03+00:00,"Move .execute() from Datasette to Database

Refs #569 - I split this change out from #579",False,227,121,106,0.0,1.0,0.0,14280,6039,11659,610,3.393470790378007,57.44760899448658,48.6,76.32,532.7018007133271,2.8243042045719124,3343.3638110985403,185.74243394991896,0.17756726690444236
594,440a70428c624f6e27b630026acdba2032acc9a7,Simon Willison,2019-11-19 23:01:10+00:00,"Include rowid in filter select, closes #636",False,30,25,5,1.0,1.0,0.0,14300,6041,11678,610,3.3859348198970842,57.43970869573799,48.66,76.38,533.436157832317,2.8365886231005835,3393.853805379644,188.5474336322025,0.17781205261077238
595,fd137da7f83c117b18e189707a1039e319dd5c91,Simon Willison,2019-11-22 00:56:55+00:00,"Suggest column facet only if at least one count > 1

Fixes #638",False,100,65,35,0.0,0.9285714285714286,1.0,14330,6041,11708,611,3.391080617495712,57.43595189384191,48.7,76.46,534.0130105083836,2.8369270846390453,3398.5815635091835,188.81008686162136,0.17800433683612785
596,d3e1c3017ee2f606a731208d59fe48805cdc3259,Simon Willison,2019-11-23 06:07:01+00:00,"Display 0 results, closes #637",False,79,53,26,1.0,1.0,1.0,14344,6047,11720,611,3.386986301369863,57.43519044156094,48.78,76.58,535.2073501361739,2.8368302688042775,3404.590595338516,189.1439219632509,0.17840245004539132
597,df2879ee2a88f94ae590067e019237afc2189e00,Simon Willison,2019-11-26 02:31:42+00:00,"Better documentation for --static, closes #641

https://datasette.readthedocs.io/en/stable/custom_templates.html#serving-static-files",False,63,54,9,,,,14344,6047,11720,611,3.386986301369863,57.43519044156094,48.78,76.58,535.2073501361739,2.8368302688042775,3404.590595338516,189.1439219632509,0.17840245004539132
598,d6b6c9171f3fd945c4e5e4144923ac831c43c208,Simon Willison,2019-12-05 06:47:17+00:00,Include asyncio task information in /-/threads debug page,False,45,41,4,0.8333333333333334,1.0,0.8333333333333334,14375,6064,11741,615,3.3839590443686007,57.437724317646534,48.88,76.7,536.4488561211413,2.8473091804359267,3460.8385955675517,192.26881086486404,0.17881628537371377
599,16665c9ee63df40bc262661ce6ed728a946375db,Simon Willison,2019-12-22 15:31:40+00:00,Better handling of corrupted database files,False,4,2,2,,,,14375,6064,11741,615,3.3839590443686007,57.437724317646534,48.88,76.7,536.4488561211413,2.8473091804359267,3460.8385955675517,192.26881086486404,0.17881628537371377
600,9c3f0b73de059ec2b953f952fc1eadecb8f396c5,Simon Willison,2019-12-22 15:33:04+00:00,Bump to uvicorn 0.11,False,2,1,1,,,,14375,6064,11741,615,3.3839590443686007,57.437724317646534,48.88,76.7,536.4488561211413,2.8473091804359267,3460.8385955675517,192.26881086486404,0.17881628537371377
601,85c19c4037ddc757794c63a04faad07a6ea57ae6,Simon Willison,2019-12-22 15:34:20+00:00,Apply black,False,5,4,1,0.0,1.0,1.0,14378,6064,11744,615,3.3839590443686007,57.437115021584816,48.88,76.7,536.4488561211413,2.8473091804359267,3460.8385955675517,192.26881086486404,0.17881628537371377
602,ceef5ce684214a9b55d242043206cb10b13c878a,Simon Willison,2019-12-22 15:42:30+00:00,Documentation for --port=0,False,10,8,2,,,,14383,6064,11749,615,3.3839590443686007,57.435750455433066,48.88,76.7,536.4488561211413,2.8473091804359267,3460.8385955675517,192.26881086486404,0.17881628537371377
603,d54318fc7f2565e6121920ce1ea9cb8b700e629a,Simon Willison,2019-12-22 16:04:45+00:00,"Added template_debug setting, closes #654",False,84,61,23,1.0,1.0,1.0,14402,6077,11764,615,3.38265306122449,57.42603839663709,49.02,76.92,538.5323514029565,2.846818051545842,3471.600965112834,192.86672028404638,0.17951078380098542
604,3c861f363df02a59a67c59036278338e4760d2ed,Simon Willison,2019-12-29 18:48:30+00:00,"_search= queries now correctly escaped, fixes #651

Queries with reserved words or characters according to the SQLite
FTS5 query language could cause errors.

Queries are now escaped like so:

    dog cat => ""dog"" ""cat""",False,49,47,2,1.0,0.3333333333333333,1.0,14447,6092,11800,619,3.3807106598984773,58.23324959344403,48.27450980392157,75.74509803921569,530.7654082872856,2.8018708836388906,3444.7857805935514,191.37698781075298,0.17692180276242853
605,34d77d780f68b778fd9d6ebbaf69f250436f055f,Katie McLaughlin,2020-01-21 23:28:11+00:00,"gcloud run is now GA, s/beta// (#660)

Thanks, @glasnt",False,10,5,5,,,,14447,6092,11800,619,3.3807106598984773,58.23324959344403,48.27450980392157,75.74509803921569,530.7654082872856,2.8018708836388906,3444.7857805935514,191.37698781075298,0.17692180276242853
606,67fc9c5720ed1fcd62b116481f70d4e80b403a22,Simon Willison,2020-01-29 22:46:43+00:00,"--port argument for datasette package, plus tests - closes #661

From pull request #663",False,73,71,2,0.8064516129032258,0.8709677419354839,0.8064516129032258,14511,6129,11854,619,3.3663865546218488,58.11896669787303,47.57692307692308,74.57692307692308,521.5925050031227,2.767219520491989,3379.5740239958063,187.7541124442116,0.17386416833437426
607,70b915fb4bc214f9d064179f87671f8a378aa127,Simon Willison,2020-02-04 20:26:17+00:00,"Datasette.render_template() method, closes #577

Pull request #664.",False,190,107,83,0.0,0.8571428571428571,0.0,14535,6143,11878,619,3.365771812080537,58.095086864363715,47.63461538461539,74.65384615384616,522.3091222464996,2.7672847610067413,3384.4981437103806,188.02767465057684,0.17410304074883318
608,33a12c8ae526afb40a7819c9ca411c9d3c41219b,Jay Graves,2020-02-05 02:13:24+00:00,"Allow leading comments in SQL input field (#653)

Thanks, @jaywgraves!",False,5,5,0,1.0,0.0,1.0,14540,6144,11883,619,3.3691275167785233,58.08761019841115,47.65384615384615,74.6923076923077,522.6295500645813,2.767049814413527,3387.3264518752094,188.18480288195622,0.17420985002152709
609,298a899e792ebd0cd82a5f01b613c31f19082e51,Simon Willison,2020-02-13 06:05:46+00:00,Reformatted with black,False,28,17,11,0.3333333333333333,0.6666666666666666,0.3333333333333333,14546,6144,11889,619,3.3691275167785233,58.08620634322627,47.65384615384615,74.6923076923077,522.6295500645813,2.767049814413527,3387.3264518752094,188.18480288195622,0.17420985002152709
610,0091dfe3e5a3db94af8881038d3f1b8312bb857d,Simon Willison,2020-02-13 06:36:42+00:00,"More reliable tie-break ordering for facet results

I was seeing a weird bug where the order of results running tests
on my laptop was inconsistent, causing pytest failures even though
the order of tests in Travis CI was fine.

I think the fix is to explicitly state how facet ordering ties on
the count should be resolved.",False,6,3,3,,,,14546,6144,11889,619,3.3691275167785233,58.08620634322627,47.65384615384615,74.6923076923077,522.6295500645813,2.767049814413527,3387.3264518752094,188.18480288195622,0.17420985002152709
611,b38a792ef0fb9c9e4057afd196bb9439edd9c0e9,Simon Willison,2020-02-13 23:01:14+00:00,"Apply Black, update copyright to be 2017-2020",False,339,200,139,0.0,0.1875,0.4791666666666667,14607,6144,11947,619,3.3691275167785233,58.080485604734115,47.65384615384615,74.6923076923077,522.6295500645813,2.767049814413527,3387.3264518752094,188.18480288195622,0.17420985002152709
612,cf5f4386ef6fea9179bbaaec2e187917934759d7,Simon Willison,2020-02-13 23:02:10+00:00,"Run black against everything, not just tests and datasette dirs",False,4,1,3,0.0,0.0,0.0,14605,6144,11945,619,3.3691275167785233,58.17816363231479,47.57692307692308,74.57692307692308,522.2351018569591,2.753588275951988,3386.789105925072,188.15495032917082,0.174078367285653
613,3ffb8f3b98252531d11897fd431711e9b8045ace,Simon Willison,2020-02-14 01:27:57+00:00,".add_database() and .remove_database() methods, refs #671

Also made a start on the Datasette class documentation, refs #576",False,66,60,6,1.0,1.0,0.5,14611,6148,11949,619,3.3612040133779266,58.17055245454107,47.57692307692308,74.57692307692308,522.2351018569591,2.753588275951988,3386.789105925072,188.15495032917082,0.174078367285653
614,f1442a8151f66ceef6517b6d3d045e2ec1d0f0ec,Simon Willison,2020-02-14 02:20:05+00:00,Replaced self.ds.execute with db.execute in more places,False,15,5,10,1.0,0.8,1.0,14606,6148,11944,619,3.3612040133779266,58.17165024307223,47.57692307692308,74.57692307692308,522.2351018569591,2.753588275951988,3386.789105925072,188.15495032917082,0.174078367285653
615,d3f2fade88984dc6157b2ff69c24aa5a070f9716,Simon Willison,2020-02-15 17:56:48+00:00,"Refactored run_sanity_checks to check_connection(conn), refs #674",False,81,60,21,1.0,1.0,1.0,14645,6169,11972,619,3.3466003316749586,58.14579152337905,47.63461538461539,74.63461538461539,522.7053721686771,2.763724700239028,3394.319480796405,188.57330448868925,0.17423512405622568
616,6303ea50483e432bbef193d1c54c2bf54e53f157,Simon Willison,2020-02-22 01:32:40+00:00,"prepare_connection() now takes datasette and database args, refs #678",False,24,16,8,0.0,1.0,0.0,14647,6169,11974,619,3.3466003316749586,58.14527154320055,47.63461538461539,74.63461538461539,522.7053721686771,2.763724700239028,3394.319480796405,188.57330448868925,0.17423512405622568
617,7c6a9c35299f251f9abfb03fd8e85143e4361709,Simon Willison,2020-02-22 02:27:07+00:00,"Better tests for prepare_connection() plugin hook, refs #678",False,18,16,2,1.0,1.0,1.0,14661,6172,11986,619,3.3427152317880795,58.13071179217676,47.67307692307692,74.6923076923077,523.1411462695218,2.763673281069962,3395.632894008385,188.64627188935478,0.17438038208984058
618,411056c4c43e74f2b3d0e3bc1175e7998516b1b3,Simon Willison,2020-02-24 19:44:59+00:00,"Only --reload on changes to immutable databases, closes #494",False,3,2,1,0.0,0.0,0.0,14662,6173,11987,619,3.3443708609271523,58.126745633538164,47.67307692307692,74.6923076923077,523.1411462695218,2.763673281069962,3395.632894008385,188.64627188935478,0.17438038208984058
619,a093c5f79fa034a97d2ad8b606745dd3b80365af,Simon Willison,2020-02-25 04:45:07+00:00,".execute_write() and .execute_write_fn() methods on Database (#683)

Closes #682.",False,377,282,95,0.7613636363636364,1.0,0.6818181818181818,14784,6261,12084,621,3.3192182410423454,57.78961844465528,47.98076923076923,75.17307692307692,526.2796217984347,2.7733089655824936,3417.0912258887574,189.8384014382643,0.17542654059947824
620,6cb65555f46456eb31b62e855e21b1d8c809b1a2,Simon Willison,2020-02-25 05:56:03+00:00,?_searchmode=raw option (#686),False,34,30,4,0.0,0.0,0.0,14804,6262,12104,623,3.3257328990228014,57.78209430042131,48.01923076923077,75.23076923076923,526.8078540782979,2.7725259586001907,3420.5731786183783,190.0318432565766,0.17560261802609925
621,3041c6b6412bbe317f8b9afd6529a15954f2c47e,Kevin Keogh,2020-02-25 20:19:29+00:00,"Use inspect-file, if possible, for total row count (#666)

For large tables, counting the number of rows in the table can take a
significant amount of time. Instead, where an inspect-file is provided
for an immutable database, look up the row-count for a plain count(*).

Thanks, @kevindkeogh",False,26,25,1,0.35294117647058826,0.35294117647058826,0.35294117647058826,14828,6275,12123,623,3.3344155844155843,57.756924986922556,48.21153846153846,75.57692307692308,529.9282627351321,2.771378613275341,3446.1546963318415,191.45303868510229,0.17664275424504405
622,7f5a330377fd7db1f6d1efa5686d183bcaf89217,Simon Willison,2020-02-29 01:08:29+00:00,"Don't count rows on homepage for DBs > 100MB (#688)

Closes #649.",False,8,4,4,,,,14828,6275,12123,623,3.3344155844155843,57.74931895387591,48.26923076923077,75.6923076923077,530.6581175433398,2.7734923400657916,3451.7956085251553,191.76642269584195,0.17688603918111329
623,dc80e779a2e708b2685fc641df99e6aae9ad6f97,Simon Willison,2020-03-02 23:34:04+00:00,"Handle scope path if it is a string

I ran into this while running a unit test with httpx.AsyncClient",False,6,5,1,1.0,1.0,1.0,14832,6279,12127,623,3.336038961038961,57.7424424493455,48.26923076923077,75.6923076923077,530.6581175433398,2.7734923400657916,3451.7956085251553,191.76642269584195,0.17688603918111329
624,b796519da27dc6c30d490321bb449091974d3d38,Simon Willison,2020-03-03 01:59:29+00:00,Print exceptions if they occur in the write thread,False,1,1,0,1.0,1.0,1.0,14833,6280,12128,623,3.336038961038961,57.741300882378695,48.26923076923077,75.6923076923077,530.6581175433398,2.7734923400657916,3451.7956085251553,191.76642269584195,0.17688603918111329
625,ddd11b3ddd886d16867c134d73105895c5726cc7,Simon Willison,2020-03-05 23:34:36+00:00,"--memory option for publish cloudrun, refs #694",False,55,53,2,0.10526315789473684,0.9736842105263158,0.13157894736842105,14884,6304,12175,623,3.331715210355987,57.54700967952856,48.38461538461539,75.86538461538461,531.4695622830005,2.784023475596927,3452.7629850821695,191.82016583789832,0.17715652076100022
626,af9cd4ca64652fae262e6f7b5d201f6e0adc989b,Simon Willison,2020-03-05 23:44:15+00:00,"Fixes for new --memory option, refs #694",False,3,2,1,,,,14884,6304,12175,623,3.3333333333333335,57.501954195830564,48.44230769230769,75.92307692307692,531.707838427723,2.7936388602123117,3453.2320304576615,191.84622391431452,0.17723594614257435
627,e1b5339fdfe47474a0d33a400acedefecff6e67e,Simon Willison,2020-03-08 23:11:18+00:00,"Do not look for templates_path in default plugins

Closes #697",False,94,53,41,0.75,0.75,1.0,14896,6313,12183,625,3.334410339256866,57.119096978657765,48.61538461538461,76.15384615384616,533.2139315027335,2.813938866410787,3465.2169281777356,192.51205156542972,0.17773797716757794
628,a000c80d5036822c8324c1cd037fe7d20e5246b5,Simon Willison,2020-03-17 02:47:37+00:00,"await Request(scope, receive).post_vars() method, closes #700

Needed for #698",False,41,37,4,1.0,1.0,0.8888888888888888,14929,6334,12210,625,3.3285024154589373,57.07200306695758,48.75,76.32692307692308,534.5171409184703,2.823668094870666,3474.512579818644,193.02847665659132,0.17817238030615684
629,2c0e1e09bc833c5939c20b937a2ce8ef997c5f5a,Simon Willison,2020-03-21 23:57:37+00:00,"Show sort arrow on primary key by default

Closes #677. Refs #702.",False,32,27,5,0.5384615384615384,0.5384615384615384,1.0,14951,6347,12223,627,3.327974276527331,57.06807837471505,48.98076923076923,76.75,538.4168728295627,2.8232100408772514,3503.61766031464,194.64542557303554,0.17947229094318765
630,e1a817411a20e3120943ee407503e53a7445c0db,Simon Willison,2020-03-22 01:47:51+00:00,Bump to click 7.1.1 to fix flaky tests,False,8,4,4,,,,14951,6347,12223,627,3.327974276527331,57.06807837471505,48.98076923076923,76.75,538.4168728295627,2.8232100408772514,3503.61766031464,194.64542557303554,0.17947229094318765
631,236aa065b2ecfbe5a77870689bae432b89a48b23,Simon Willison,2020-03-22 02:28:35+00:00,"""sort"" and ""sort_desc"" metadata properties, closes #702",False,87,85,2,0.0,1.0,1.0,15001,6365,12269,627,3.3333333333333335,57.06147075803908,49.36538461538461,77.32692307692308,544.1215942258252,2.8215474969658936,3534.035241568626,196.335291198257,0.18137386474194178
632,a498d0fe6590f9bdbc4faf9e0dd5faeb3b06002c,Simon Willison,2020-03-22 02:40:29+00:00,"Fix bug with over-riding default sort, closes #702",False,30,24,6,0.0,0.0,0.8,15019,6380,12284,629,3.33974358974359,57.059692762466824,49.36538461538461,77.57692307692308,546.2159875422719,2.825461661856884,3559.3322611694407,197.74068117607996,0.182071995847424
633,5f4aeb1f198e2e866a1eed6a7194842d77313ea8,Simon Willison,2020-03-24 22:45:24+00:00,"Removed documentation for Zeit Now v1, refs #710",False,67,2,65,,,,15017,6380,12282,629,3.33974358974359,57.06187248945292,49.36538461538461,77.57692307692308,546.2159875422719,2.825461661856884,3559.3322611694407,197.74068117607996,0.182071995847424
634,7656fd64d8b6a32ebc34d89c1b8711cc5ea240f7,Simon Willison,2020-03-25 00:18:43+00:00,"base_url configuration setting, closes #394

* base_url configuration setting
* base_url works for static assets as well",False,132,104,28,0.18181818181818182,0.20454545454545456,0.7045454545454546,15080,6411,12338,632,3.3444976076555024,57.0391661380474,49.69230769230769,78.13461538461539,551.5053911956738,2.836589676903595,3648.151159574237,202.67506442079093,0.18383513039855798
635,6aa516d82dea9885cb4db8d56ec2ccfd4cd9b840,Simon Willison,2020-03-26 02:31:22+00:00,"Run base_url tests against /fixtures/facetable too, refs #712",False,1,1,0,,,,15081,6411,12339,632,3.3444976076555024,57.0391661380474,49.69230769230769,78.13461538461539,551.5053911956738,2.836589676903595,3648.151159574237,202.67506442079093,0.18383513039855798
636,2aaad72789c427875426673c1a43e67c86fc970e,Simon Willison,2020-03-27 01:12:43+00:00,"Refactor template setup into Datasette constructor

Closes #707",False,71,36,35,,,0.0,15082,6411,12339,633,3.3444976076555024,57.04224223921843,49.73076923076923,78.13461538461539,551.5918334407796,2.834690237449283,3645.5958340993116,202.53310189440617,0.18386394448025994
637,6717c719dd36dc2adc0f9da38a8c8e08129e96b4,Simon Willison,2020-04-02 19:30:53+00:00,--metadata accepts YAML as well as JSON - closes #713,False,174,149,25,0.1702127659574468,0.9361702127659575,0.851063829787234,15146,6435,12393,636,3.3380952380952382,57.11341899386861,49.76923076923077,78.1923076923077,551.9366160526127,2.834530976420456,3646.29097410428,202.57172078357112,0.18397887201753765
638,b07312c2b3bc7e4a9298c1f291f420bd92b6f842,Simon Willison,2020-04-03 00:54:27+00:00,"dedent SQL for neighborhood_search fixture

Makes this page a little prettier:
https://latest.datasette.io/fixtures/neighborhood_search",False,7,5,2,,,,15149,6436,12396,636,3.3380952380952382,57.11232524551099,49.76923076923077,78.1923076923077,551.9366160526127,2.834530976420456,3646.29097410428,202.57172078357112,0.18397887201753765
639,07e208cc6d9e901b87552c1be2854c220b3f9b6d,Simon Willison,2020-04-03 01:12:13+00:00,"Refactored .custom_sql() method to new QueryView class

Refs #698",False,224,119,105,,,,15163,6441,12407,636,3.3518225039619653,57.14729879923035,49.76923076923077,78.13461538461539,550.6356736635807,2.848492661955407,3630.2371024564254,201.67983902535704,0.18354522455452701
640,e0e7a0facfc935a835cd73c720bc46661462f0b1,Simon Willison,2020-04-04 23:04:33+00:00,"Removed Zeit Now v1 support, closes #710",False,322,11,311,0.832,0.38,0.396,14857,6298,12129,632,3.3848631239935587,57.35728407529956,51.18,80.48,569.4971084032477,2.9204323684336235,3770.7619727487527,209.4867762638196,0.1898323694677493
641,09253817dea3c131553494f9b2eb9c03f94ae761,Simon Willison,2020-04-05 18:28:20+00:00,"Fix for missing view_name bug, closes #716",False,71,67,4,0.1,1.0,0.85,14920,6319,12189,632,3.378812199036918,57.27358746041305,51.38,80.9,572.6111157069947,2.9234592705626876,3784.7616810064396,210.2645378336911,0.1908703719023316
642,e89b0ef2f9ae89eb3bde83b694f21452ea4858da,Simon Willison,2020-04-05 18:49:15+00:00,"Expose extra_template_vars in _contex=1, refs #693",False,25,14,11,1.0,0.0,1.0,14923,6323,12187,634,3.375,57.277422230626364,51.42,80.96,573.2650833745308,2.9238609796994357,3788.7767290291645,210.48759605717584,0.19108836112484365
643,d55fe8cdfc2ce7bc6960bf2507766c1fcd1d31a7,Simon Willison,2020-04-05 19:38:33+00:00,"Fixed bug with Templates considered comment, closes #689",False,41,33,8,0.0,1.0,0.0,14948,6326,12210,634,3.3728,57.27734772912004,51.5,81.08,574.4489581157093,2.923443506659729,3795.0538477544756,210.83632487524864,0.19148298603856978
644,d349d57cdf3d577afb62bdf784af342a4d5be660,Simon Willison,2020-04-10 18:34:09+00:00,"Smarter merging of metadata and extra_metadata, closes #724",False,27,21,6,0.0,0.9090909090909091,0.0,14963,6327,12224,635,3.3728,57.276663685264786,51.54,81.14,574.9741732855019,2.922980757384624,3799.516797856047,211.08426654755817,0.191658057761834
645,15e232180427e988174fdf88440c84b91d2d98d1,Simon Willison,2020-04-15 21:07:28+00:00,"Extra body CSS class for canned queries, closes #727",False,11,10,1,,,,14968,6327,12229,635,3.3728,57.276663685264786,51.54,81.14,574.9741732855019,2.922980757384624,3799.516797856047,211.08426654755817,0.191658057761834
646,304e7b1d9fd904ae1c35600bc03662eb90eeeae0,Simon Willison,2020-04-26 18:46:43+00:00,"Mechanism for creating custom pages using templates

Closes #648",False,211,208,3,0.32727272727272727,0.5818181818181818,0.6454545454545455,15112,6413,12349,637,3.3617693522906795,56.9096125555065,51.64705882352941,81.37254901960785,574.572726454125,2.886920827969401,3746.8682151174203,208.1593452843012,0.191524242151375
647,1b7b66c465e44025ec73421bd69752e42f108321,Simon Willison,2020-04-26 19:01:46+00:00,"Make request available when rendering custom pages, closes #738",False,12,11,1,0.6666666666666666,0.8333333333333334,0.8333333333333334,15122,6418,12357,637,3.358044164037855,56.879811174839595,51.745098039215684,81.54901960784314,575.8109299408188,2.8870171021582913,3748.3406961307446,208.24114978504144,0.1919369766469396
648,25014ca25eb70b4c1217558ebd14db2845973bfb,Simon Willison,2020-04-27 16:30:24+00:00,"Configuration directory mode, closes #731",False,285,251,34,0.308411214953271,0.7289719626168224,0.7289719626168224,15286,6509,12489,640,3.377535101404056,56.52757006907946,52.30769230769231,83.34615384615384,588.01487949337,2.895579859947873,3840.758425501456,213.3754680834142,0.19600495983112337
649,89c4ddd4828623888e91a1d2cb396cba12d4e7b4,Simon Willison,2020-04-27 18:29:04+00:00,"403 for static directory listing, closes #740",False,9,9,0,0.5714285714285714,1.0,0.5714285714285714,15295,6516,12496,640,3.3738317757009346,56.501400451991316,52.38461538461539,83.46153846153847,588.847587160518,2.8951785221552315,3842.444748345837,213.46915268587983,0.196282529053506
650,e37f4077c0f1cd09d4102213d4e2a512af471b8d,Simon Willison,2020-04-27 22:02:28+00:00,"Remove 'Serve!' line from serve CLI output

It wasn't adding anything, and it was confusing when run in
conjunction with the new config directory mode from #731",False,4,0,4,1.0,1.0,1.0,15291,6515,12493,640,3.3738317757009346,56.50333656921718,52.38461538461539,83.46153846153847,588.847587160518,2.8951785221552315,3842.444748345837,213.46915268587983,0.196282529053506
651,1d91ab71d4359741b03bbd4347f4360eb8ca817d,Simon Willison,2020-04-30 18:47:41+00:00,"Directory configuration mode supports metadata.yaml, closes #747",False,25,23,2,0.5294117647058824,0.5294117647058824,0.5294117647058824,15312,6530,12512,640,3.374805598755832,56.449182437045344,52.5,83.63461538461539,590.1184002048122,2.894684016660726,3845.016796518689,213.61204425103827,0.19670613340160412
652,b3aa5f4313a5bc41c9e83f3a4778d4b0794ea4a8,Simon Willison,2020-05-02 19:04:54+00:00,"Added 'not like' table filter, refs #750",False,8,8,0,,,,15317,6530,12517,641,3.374805598755832,56.47371543469559,52.5,83.63461538461539,590.1184002048122,2.894684016660726,3845.016796518689,213.61204425103827,0.19670613340160412
653,cef23e88617dcd7edae22fca813d345dfaf09c4f,Simon Willison,2020-05-03 03:05:25+00:00,"Started pattern portfolio at /-/patterns, refs #151",False,335,333,2,0.5555555555555556,0.6666666666666666,0.8888888888888888,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
654,985e59493e44d6fcebf7a30f693f4edecee3e90d,dependabot-preview[bot],2020-05-04 16:17:48+00:00,"Update aiofiles requirement from ~=0.4.0 to >=0.4,<0.6 (#725)

Refs #754

Updates the requirements on [aiofiles](https://github.com/Tinche/aiofiles) to permit the latest version.
- [Release notes](https://github.com/Tinche/aiofiles/releases)
- [Commits](https://github.com/Tinche/aiofiles/compare/v0.4.0...v0.5.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
655,e232f77055880b38cc0b738607cd50cde9188eaf,dependabot-preview[bot],2020-05-04 16:45:49+00:00,"Update mergedeep requirement from ~=1.1.1 to >=1.1.1,<1.4.0 (#728)

Updates the requirements on [mergedeep](https://github.com/clarketm/mergedeep) to permit the latest version.
- [Release notes](https://github.com/clarketm/mergedeep/releases)
- [Commits](https://github.com/clarketm/mergedeep/compare/v1.1.1...v1.3.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
656,109c5a430d53fe38b1300e0daa20f5cef047a08e,dependabot-preview[bot],2020-05-04 16:48:03+00:00,"Update janus requirement from ~=0.4.0 to >=0.4,<0.6 (#734)

Updates the requirements on [janus](https://github.com/aio-libs/janus) to permit the latest version.
- [Release notes](https://github.com/aio-libs/janus/releases)
- [Changelog](https://github.com/aio-libs/janus/blob/master/CHANGES.rst)
- [Commits](https://github.com/aio-libs/janus/compare/v0.4.0...v0.5.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
657,aa064de3f400899dbf61f2d33a035fba4017596c,dependabot-preview[bot],2020-05-04 17:13:15+00:00,"Update jinja2 requirement from ~=2.10.3 to >=2.10.3,<2.12.0 (#722)

Updates the requirements on [jinja2](https://github.com/pallets/jinja) to permit the latest version.
- [Release notes](https://github.com/pallets/jinja/releases)
- [Changelog](https://github.com/pallets/jinja/blob/master/CHANGES.rst)
- [Commits](https://github.com/pallets/jinja/compare/2.10.3...2.11.1)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
658,c91fb9e3d4f0632d4ef25a21165739ab88a9d491,dependabot-preview[bot],2020-05-04 17:13:41+00:00,"Update pytest requirement from ~=5.2.2 to >=5.2.2,<5.5.0 (#721)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...5.4.1)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48473572718828,52.53846153846154,83.6923076923077,590.5891944204175,2.894236789469313,3847.6164998846207,213.75647221581227,0.19686306480680582
659,dbd2d70b3819a7041bb36a527033d77c85683c05,Colin Dellow,2020-05-04 17:14:25+00:00,"asgi: check raw_path is not None (#719)

The ASGI spec
(https://asgi.readthedocs.io/en/latest/specs/www.html#http) seems to
imply that `None` is a valid value, so we need to check the value
itself, not just whether the key is present.

In particular, the [mangum](https://github.com/erm/mangum) adapter
passes `None` for this key.",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48496200607504,52.51923076923077,83.6923076923077,590.5501298443799,2.884096929329452,3842.1387432309757,213.45215240172092,0.19685004328146
660,707fe039947b3e48f2b6dcfe8e577d76b617f2a5,dependabot-preview[bot],2020-05-04 17:14:46+00:00,"Update beautifulsoup4 requirement from ~=4.8.1 to >=4.8.1,<4.10.0 (#720)

Updates the requirements on [beautifulsoup4](http://www.crummy.com/software/BeautifulSoup/bs4/) to permit the latest version.

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48496200607504,52.51923076923077,83.6923076923077,590.5501298443799,2.884096929329452,3842.1387432309757,213.45215240172092,0.19685004328146
661,b314e088c59425122fb2b2abde8741010d9d274a,dependabot-preview[bot],2020-05-04 17:40:48+00:00,"Update pytest-asyncio requirement from ~=0.10.0 to >=0.10,<0.13 (#753)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.10.0...v0.12.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,15333,6539,12528,642,3.3668730650154797,56.48496200607504,52.51923076923077,83.6923076923077,590.5501298443799,2.884096929329452,3842.1387432309757,213.45215240172092,0.19685004328146
662,450d2e2896e07a8ce27f1cf143febe280c97301b,Simon Willison,2020-05-04 17:42:10+00:00,Fixed pytest warning about TestClient class,False,10,5,5,,,,15333,6539,12528,642,3.3668730650154797,56.48496200607504,52.51923076923077,83.6923076923077,590.5501298443799,2.884096929329452,3842.1387432309757,213.45215240172092,0.19685004328146
663,9424687e9e94401438896116898a071702b09d40,Simon Willison,2020-05-04 17:42:10+00:00,"Consistently return charset utf-8, closes #752",False,28,19,9,1.0,1.0,0.5,15343,6543,12536,642,3.3632148377125195,56.483869245749204,52.59615384615385,83.8076923076923,591.7235277031276,2.88399650551487,3848.631485523869,213.81286030688165,0.1972411759010426
664,cc872b1f50f1d2c0bc2d930c86a6644f154459dc,Simon Willison,2020-05-04 18:42:01+00:00,"Fixed rogue output in tests, closes #755",False,2,1,1,,,,15343,6543,12536,642,3.3632148377125195,56.483869245749204,52.59615384615385,83.8076923076923,591.7235277031276,2.88399650551487,3848.631485523869,213.81286030688165,0.1972411759010426
665,0784f2ef9d3ff6dd9df05f54cb51de29a6d11764,Simon Willison,2020-05-06 17:18:31+00:00,"Allow specific pragma functions, closes #761",False,26,24,2,,,,15365,6544,12558,642,3.3632148377125195,56.47863976842999,52.59615384615385,83.8076923076923,591.7235277031276,2.88399650551487,3848.631485523869,213.81286030688165,0.1972411759010426
666,69e3a855dd7e5a77409d70b18c45ae3c1a145a75,Simon Willison,2020-05-08 14:16:39+00:00,"Rename execute_against_connection_in_thread() to execute_fn(), refs #685",False,34,11,23,1.0,0.3333333333333333,0.16666666666666666,15353,6544,12546,642,3.3632148377125195,56.48295440428522,52.59615384615385,83.8076923076923,591.7235277031276,2.88399650551487,3848.631485523869,213.81286030688165,0.1972411759010426
667,4433306c1855ad69840cc76cbd41086137572be2,Simon Willison,2020-05-08 16:05:46+00:00,"Improvements + docs for db.execute() and Results class

* Including new results.first() and results.single_value() methods. Closes #685",False,170,141,29,1.0,1.0,0.7241379310344828,15404,6584,12587,642,3.350689127105666,56.33681393973651,52.84615384615385,84.17307692307692,594.1731256434923,2.892871049613014,3859.788604379045,214.43270024328032,0.19805770854783084
668,2694ddcf14b88955e93a6cfb6c725500bb93e219,Simon Willison,2020-05-08 17:29:17+00:00,"Test for .execute_fn(), refs #685",False,14,12,2,1.0,1.0,1.0,15414,6590,12593,642,3.3470948012232418,56.31527219273467,52.88461538461539,84.23076923076923,594.5100643735824,2.892871049613014,3860.125543109135,214.45141906161868,0.19817002145786083
669,fc24edc153d76bcec917bb23d532981d9862e696,Simon Willison,2020-05-11 18:28:53+00:00,"Added project_urls, closes #764",False,8,8,0,,,,15422,6590,12601,642,3.3470948012232418,56.31527219273467,52.88461538461539,84.23076923076923,594.5100643735824,2.892871049613014,3860.125543109135,214.45141906161868,0.19817002145786083
670,504196341c49840270bd75ea1a1871ef386ba7ea,Simon Willison,2020-05-15 05:51:39+00:00,"Visually distinguish float/int columns, closes #729",False,152,85,67,0.23076923076923078,0.23076923076923078,0.23076923076923078,15435,6590,12614,642,3.350152905198777,56.31053045839829,52.88461538461539,84.28846153846153,594.9375292352827,2.894596887877314,3868.6419584307023,214.92455324615017,0.19831250974509423
671,5ea8c6d1cd8ded832718fb1a652b5880c4bf5ebb,Simon Willison,2020-05-15 05:55:20+00:00,"type-pk instead of type-link CSS class, closes #729",False,38,19,19,,,,15435,6590,12614,642,3.350152905198777,56.31053045839829,52.88461538461539,84.28846153846153,594.9375292352827,2.894596887877314,3868.6419584307023,214.92455324615017,0.19831250974509423
672,cee671a58f417f827d1735b1abaa40716534ea67,Simon Willison,2020-05-21 17:53:51+00:00,"Use dirs_exist_ok=True, refs #744 (#768)",False,4,2,2,,,,15435,6590,12614,642,3.350152905198777,56.31053045839829,52.88461538461539,84.28846153846153,594.9375292352827,2.894596887877314,3868.6419584307023,214.92455324615017,0.19831250974509423
673,2d099ad9c657d2cab59de91cdb8bfed2da236ef6,Simon Willison,2020-05-27 18:17:43+00:00,"Backport of Python 3.8 shutil.copytree, refs #744 (#769)",False,106,104,2,0.0,0.23255813953488372,0.0,15537,6640,12703,643,3.3673780487804876,56.41093380517159,52.264150943396224,83.16981132075472,585.750938162394,2.9046718792111657,3802.6383550558166,211.2576863919898,0.195250312720798
674,41a0cd7b6afe0397efbbf27ad822679fc574811a,Simon Willison,2020-05-27 19:25:52+00:00,"call_with_supported_arguments() util, refs #581",False,22,22,0,1.0,1.0,1.0,15559,6656,12719,643,3.36322188449848,56.37990800455531,52.35849056603774,83.33962264150944,587.048224885438,2.9047118755003183,3808.8762088255794,211.60423382364334,0.19568274162847937
675,da87e963bff24e47878a5bc2025c8bfc63d4bc93,Simon Willison,2020-05-27 20:16:02+00:00,"Test that plugin hooks are unit tested (xfail)

This currently fails using xfail. Closes 771.",False,16,15,1,1.0,1.0,1.0,15573,6666,12730,643,3.3657056145675264,56.34855314312868,52.39622641509434,83.39622641509433,587.4982509596146,2.904580829674395,3810.4661648991932,211.6925647166219,0.19583275031987157
676,ad88c9b3f3d7886612dae6afed65d43940632b06,Simon Willison,2020-05-27 21:52:03+00:00,"Mechanism for adding a default URL fragment to a canned query

Closes #767",False,62,56,6,1.0,1.0,1.0,15589,6672,12744,643,3.3621212121212123,56.34849466676506,52.471698113207545,83.50943396226415,588.6510401601892,2.904484321756986,3816.844792357452,212.04693290874744,0.19621701338672976
677,50652f474b94e83d49ee15f219820cdbfc450f11,Simon Willison,2020-05-27 22:29:42+00:00,"Stop using .raw_args, deprecate and undocument it - refs #706",False,16,7,9,,,,15590,6673,12744,644,3.3651515151515152,56.35283388450392,52.471698113207545,83.50943396226415,588.6510401601892,2.904484321756986,3816.844792357452,212.04693290874744,0.19621701338672976
678,446e5de65d1b9c6c877e38b0ef13bc9285c465a1,Simon Willison,2020-05-28 00:57:25+00:00,"Refactored test plugins into tests/plugins, closes #775",False,391,197,194,0.8676470588235294,0.8455882352941176,0.6029411764705882,15593,6754,12737,646,3.3427719821162443,57.240211782546005,50.25,79.73214285714286,560.1951105547455,2.8203155188057187,3621.053886297562,201.16966034986467,0.18673170351824855
679,52c4387c7d37c867104e3728cc1f4c4d1e100642,Simon Willison,2020-05-28 02:21:41+00:00,"Redesigned register_output_renderer plugin hook, closes #581",False,222,202,20,0.11016949152542373,0.8728813559322034,0.652542372881356,15738,6796,12862,651,3.3240058910162005,57.37085215591405,49.8421052631579,79.01754385964912,555.6371385709078,2.7776233496510896,3578.766595197262,198.82036639984793,0.185212379523636
680,57f48b8416f5e13df138d63db5bfffd0bb99a9b4,Simon Willison,2020-05-28 02:43:30+00:00,"Made register_output_renderer callback optionally awaitable, closes #776",False,23,17,6,0.0,0.6,0.2,15743,6799,12867,651,3.325478645066274,57.35642212157849,49.8421052631579,79.01754385964912,555.6371385709078,2.7776233496510896,3578.766595197262,198.82036639984793,0.185212379523636
681,cbeea23d00b36f72386e68b67d76fdb8a151a486,Simon Willison,2020-05-28 03:13:32+00:00,"Test for prepare_jinja2_environment, refs #773",False,15,15,0,1.0,1.0,1.0,15758,6810,12878,651,3.3186490455212923,57.32383272585794,49.87719298245614,79.0701754385965,556.0706696967694,2.777543862908342,3580.2961717482995,198.9053428749056,0.18535688989892316
682,defead17a4c9d68670ba2d9aeec9c2a70b5b059e,Simon Willison,2020-05-28 03:30:32+00:00,"Test for publish_subcommand hook, refs #773",False,10,10,0,1.0,1.0,1.0,15768,6813,12881,656,3.3152492668621703,57.34328549490377,49.91228070175438,79.12280701754386,556.5055568110938,2.777467347632614,3581.8303480091936,198.9905748893997,0.18550185227036464
683,6d95cb4f9146a5c4584a147bdf243c778a0f23f5,Simon Willison,2020-05-28 04:09:16+00:00,"Unit test for register_facet_classes plugin, closes #773

I was a bit lazy with this one. I didn't hook up a test for the facet_results mechanism.
The custom facet hook isn't a great design so I will probably rethink it at some point
in the future anyway.",False,75,75,0,0.0967741935483871,1.0,1.0,15843,6833,12948,656,3.304221251819505,57.242996191759104,49.94736842105263,79.17543859649123,556.941776122147,2.777393640256913,3583.369043411636,199.0760579673132,0.18564725870738236
684,510c1989d43cd9b7c9f116ad161b7380220ac5d5,Simon Willison,2020-05-28 04:11:53+00:00,"Removed xfail, refs #773",False,1,0,1,,,,15842,6832,12947,656,3.304221251819505,57.244164089171896,49.94736842105263,79.17543859649123,556.941776122147,2.777393640256913,3583.369043411636,199.0760579673132,0.18564725870738236
685,75cd432e5a96c5fe2577f839c3a059fd6bf41124,Simon Willison,2020-05-28 05:00:04+00:00,"Ability to set custom table/view page size in metadata, closes #751",False,30,27,3,,,,15843,6832,12948,656,3.307132459970888,57.24151097574928,49.96491228070175,79.19298245614036,557.1222380118053,2.7770727334660092,3584.3411768248975,199.13006537916107,0.1857074126706018
686,5ab411c733233435d613d04c610a5a41fd0b7735,Simon Willison,2020-05-28 05:57:05+00:00,"can_render mechanism for register_output_renderer, closes #770",False,126,108,18,0.1111111111111111,0.5972222222222222,0.5416666666666666,15923,6855,13020,659,3.3105950653120466,57.27754089190822,50.29824561403509,79.59649122807018,560.6925518899563,2.8135931144488198,3656.709830530878,203.15054614060443,0.18689751729665216
687,7bb30c1f11f7246baf7bb6a229f6b93572c4cbe3,Simon Willison,2020-05-28 17:10:06+00:00,"request.url now respects force_https_urls, closes #781",False,14,14,0,1.0,0.0,0.3,15937,6861,13030,662,3.316400580551524,57.31264988082767,50.45614035087719,79.82456140350877,562.8638043772726,2.8124642301926825,3669.2756218460345,203.8486456581131,0.1876212681257576
688,84616a2364df56f966f579eecc0716b9877f0d70,Simon Willison,2020-05-29 22:51:30+00:00,"request.args.getlist() returns [] if missing, refs #774

Also added some unit tests for request.args",False,18,14,4,1.0,1.0,1.0,15947,6869,13038,662,3.3130434782608695,57.75897863646664,50.578947368421055,80.03508771929825,564.8379380387858,2.8028867944034097,3676.631586330208,204.25731035167829,0.1882793126795953
689,f272cbc65fbf56368413320e21c87dc842e0a083,Simon Willison,2020-05-29 22:57:46+00:00,"Use request.args.getlist instead of request.args[...], refs #774",False,12,6,6,,,,15947,6869,13038,662,3.3130434782608695,57.75897863646664,50.578947368421055,80.03508771929825,564.8379380387858,2.8028867944034097,3676.631586330208,204.25731035167829,0.1882793126795953
690,81be31322a968d23cf57cee62b58df55433385e3,Simon Willison,2020-05-29 23:22:22+00:00,"New implementation for RequestParams

- no longer subclasses dict
- request.args[key] now returns first item, not all items
- removed request.raw_args entirely

Closes #774",False,65,49,16,0.28,1.0,1.0,15976,6890,13062,662,3.2964028776978416,57.68461379706608,50.8421052631579,80.50877192982456,568.4673600858432,2.813663796855142,3697.358144953817,205.40878583076767,0.18948912002861446
691,31fb006a9b05067a8eb2f774ad3a3b15b4565924,Simon Willison,2020-05-30 14:29:59+00:00,"Added datasette.get_database() method

Refs #576",False,43,42,1,1.0,1.0,1.0,16007,6909,13079,663,3.284692417739628,58.42788602011246,50.08620689655172,79.27586206896552,559.388351117065,2.773479465130633,3636.596095903306,202.03311643907264,0.1864627837056884
692,ca56c226a9f1b02e871d7d7b392619a805b7f1ed,Simon Willison,2020-05-30 14:33:02+00:00,"Renamed test_database.py to test_internals_database.py

Also added a db fixture to remove some boilerplate.",False,45,17,28,0.2,0.0,0.2,15996,6900,13070,663,3.2814285714285716,58.447602695989545,50.08620689655172,79.27586206896552,559.388351117065,2.773479465130633,3636.596095903306,202.03311643907264,0.18646278370568836
693,012c76901af65442e90eac4b36db43455e3c922f,Simon Willison,2020-05-30 14:38:46+00:00,"_ prefix for many private methods of Datasette, refs #576",False,30,15,15,,,,15996,6900,13070,663,3.2814285714285716,58.447602695989545,50.08620689655172,79.27586206896552,559.388351117065,2.773479465130633,3636.596095903306,202.03311643907264,0.18646278370568836
694,de1cde65a67cf9acb227b4df67230b47fdfc9a0e,Simon Willison,2020-05-30 17:45:11+00:00,Moved request tests to test_internals_request.py,False,82,42,40,,,,15998,6902,13072,663,3.2814285714285716,58.39391587879011,49.271186440677965,77.9322033898305,547.9994885696531,2.7462530983394595,3560.5345020488753,197.80747233604868,0.18266649618988437
695,4d798ca0e3df246bd47f0600cc7b5118ba33ac16,Simon Willison,2020-05-30 18:17:20+00:00,Added test for db.mtime_ns,False,16,14,2,1.0,0.0,1.0,16010,6910,13080,663,3.2777777777777777,58.36152462783833,49.355932203389834,78.0677966101695,548.9517883214482,2.745274806535766,3564.467429207423,198.02596828930132,0.1829839294404828
696,124acf34a678f0af438dc31a2dceebf28612f249,Simon Willison,2020-05-30 18:39:46+00:00,"Removed db.get_outbound_foreign_keys method

It duplicated the functionality of db.foreign_keys_for_table.",False,11,2,9,0.3333333333333333,0.3333333333333333,0.3333333333333333,16003,6907,13074,663,3.2810271041369474,58.36713684355465,49.355932203389834,78.0677966101695,548.9517883214482,2.745274806535766,3564.467429207423,198.02596828930132,0.1829839294404828
697,57cf5139c552cb7feab9947daa949ca434cc0a66,Simon Willison,2020-06-01 01:16:42+00:00,"Default actor_from_request hook supporting ds_actor signed cookie

Refs #784, refs #699",False,18,18,0,1.0,1.0,1.0,16266,7084,13287,670,3.2548476454293627,57.40274796800497,48.75409836065574,76.98360655737704,538.991133236429,2.7626016282454184,3478.6084039203974,193.2560224400221,0.1796637110788097
698,9f3d4aba31baf1e2de1910a40bc9663ef53b94e9,Simon Willison,2020-06-01 01:16:42+00:00,"--root option and /-/auth-token view, refs #784",False,97,89,8,0.3898305084745763,0.7457627118644068,0.7627118644067796,16248,7070,13271,670,3.2538141470180304,57.25739781412717,49.46666666666667,78.16666666666667,547.7158225402974,2.7919783220495087,3536.3267144023316,196.462595244574,0.1825719408467658
699,fa27e44fe09f57dcb87157be97f15b6add7f14ad,Simon Willison,2020-06-01 01:16:42+00:00,"datasette.sign() and datasette.unsign() methods, refs #785",False,61,61,0,0.6875,0.75,0.0625,16168,7013,13202,669,3.255586592178771,57.86581867421482,49.983050847457626,79.05084745762711,555.4472077725457,2.789993362947112,3593.480557688278,199.6378087604599,0.18514906925751523
700,060a56735c1d3bde0a4c7674e82b5f45bef34dee,Simon Willison,2020-06-01 01:16:42+00:00,"actor_from_request and permission_allowed hookspecs, refs #699",False,47,47,0,1.0,1.0,0.5,16013,6913,13078,663,3.274537695590327,58.36713684355465,49.355932203389834,78.0677966101695,548.9517883214482,2.745274806535766,3564.467429207423,198.02596828930132,0.1829839294404828
701,9315bacf6f63e20781d21d170e55a55b2c54fcdd,Simon Willison,2020-06-01 01:16:42+00:00,"Implemented datasette.permission_allowed(), refs #699",False,79,75,4,0.4857142857142857,1.0,0.2571428571428571,16120,6981,13161,669,3.2658227848101267,58.17387853979134,49.71186440677966,78.62711864406779,552.8861458877166,2.7586487842863425,3582.1044357626342,199.00580198681303,0.18429538196257225
702,461c82838d65dd9f61c5be725343a82c61b5c3f3,Simon Willison,2020-06-01 01:16:42+00:00,"Implemented actor_from_request with tests, refs #699

Also added datasette argument to permission_allowed hook",False,82,80,2,0.4166666666666667,0.7222222222222222,0.7222222222222222,16068,6953,13116,669,3.266949152542373,58.28515607174024,49.49152542372882,78.27118644067797,550.6674287396295,2.7449448730880555,3573.1040076083227,198.50577820046243,0.18355580957987658
703,1fc6ceefb9eddd29844e7bfe3e06a83df6ce3dc4,Simon Willison,2020-06-01 01:16:42+00:00,"Added /-/actor.json - refs #699

Also added JSON highlighting to introspection documentation.",False,66,57,9,0.5333333333333333,0.7333333333333333,0.7333333333333333,16138,6994,13176,669,3.260869565217391,58.15830338135918,49.76271186440678,78.72881355932203,553.7168118662076,2.759196237533835,3587.2913474109187,199.29396374505106,0.18457227062206924
704,dfdbdf378aba9afb66666f66b78df2f2069d2595,Simon Willison,2020-06-01 05:00:36+00:00,"Added /-/permissions debug tool, closes #788

Also started the authentication.rst docs page, refs #786.

Part of authentication work, refs #699.",False,155,152,3,0.2830188679245283,0.2830188679245283,0.6226415094339622,16341,7122,13352,672,3.250343878954608,57.548896412381765,48.20967741935484,76.08064516129032,531.8511054874203,2.732798418018102,3428.063032658961,190.44794625883122,0.17728370182914013
705,b4cd8797b8592a8bf060a76eb7227f3f1ba61d32,Simon Willison,2020-06-02 21:11:32+00:00,permission_checks is now _permission_checks,False,6,3,3,,,,16341,7122,13352,672,3.250343878954608,57.548896412381765,48.20967741935484,76.08064516129032,531.8511054874203,2.732798418018102,3428.063032658961,190.44794625883122,0.17728370182914013
706,1d0bea157ac7074f23229af247565a78fa71c03f,Simon Willison,2020-06-02 21:11:41+00:00,New request.cookies property,False,19,12,7,0.0,0.0,0.0,16343,7126,13353,672,3.2472527472527473,57.636015512151765,48.16129032258065,76.03225806451613,531.6776395599661,2.7247339018890697,3427.851220864554,190.4361789369197,0.17722587985332205
707,4fa7cf68536628344356d3ef8c92c25c249067a0,Simon Willison,2020-06-02 21:12:18+00:00,"Flash messages mechanism, closes #790",False,224,217,7,0.9529411764705882,0.9647058823529412,0.5764705882352941,16477,7213,13459,681,3.2267206477732793,58.654426305466174,46.96875,74.109375,517.5377419535912,2.674355868566961,3334.583200070878,185.25462222615988,0.17251258065119715
708,5278c04682929f0b155102827f9150c7b2112215,Simon Willison,2020-06-02 21:29:12+00:00,"More consistent use of response.text/response.json in tests, closes #792",False,39,14,25,0.18181818181818182,0.0,0.0,16466,7210,13448,681,3.2267206477732793,58.658401076403464,46.96875,74.109375,517.5377419535912,2.674355868566961,3334.583200070878,185.25462222615988,0.17251258065119715
709,a7137dfe069e5fceca56f78631baebd4a6a19967,Simon Willison,2020-06-02 21:49:28+00:00,"/-/plugins now shows details of hooks, closes #794

Also added /-/plugins?all=1 parameter to see default plugins.",False,76,64,12,0.0,0.9387755102040817,1.0,16515,7210,13497,681,3.2267206477732793,58.65392791232161,46.96875,74.109375,517.5377419535912,2.674355868566961,3334.583200070878,185.25462222615988,0.17251258065119715
710,9690ce606823bbfceb0c50d59e03adf7bb1a8475,Simon Willison,2020-06-03 00:05:33+00:00,More efficient modifiation of scope,False,8,6,2,0.0,0.0,0.0,16519,7212,13501,681,3.2267206477732793,58.65295816013239,46.96875,74.109375,517.5377419535912,2.674355868566961,3334.583200070878,185.25462222615988,0.17251258065119715
711,0934844c0b6d124163d0185fb6a41ba5a71433da,Simon Willison,2020-06-03 13:48:39+00:00,request.post_vars() no longer discards empty values,False,10,7,3,1.0,1.0,1.0,16523,7212,13505,681,3.2267206477732793,58.65295816013239,46.96875,74.109375,517.5377419535912,2.674355868566961,3334.583200070878,185.25462222615988,0.17251258065119715
712,aa82d0370463580f2cb10d9617f1bcbe45cc994a,Simon Willison,2020-06-03 15:16:50+00:00,"Basic writable canned queries

Refs #698. First working version of this feature.

* request.post_vars() no longer discards empty values",False,275,256,19,0.3248407643312102,0.6878980891719745,0.5477707006369427,16702,7277,13665,685,3.1526104417670684,58.5660617545275,46.8,73.75384615384615,513.8741073786368,2.6472436014448677,3296.91663878306,183.1620354879478,0.17129136912621232
713,9cb44be42f012a68c8c3904a37008200cc7bb1f4,Simon Willison,2020-06-03 21:04:40+00:00,"Docs and tests for ""params"", closes #797",False,77,61,16,1.0,1.0,1.0,16707,7280,13668,685,3.1497326203208558,58.54184441344089,46.84615384615385,73.8,514.1677828508853,2.6549359091371754,3298.092576123485,183.22736534019361,0.17138926095029508
714,0da7f49b24e429e81317e370cb01de941f1b873e,Simon Willison,2020-06-05 17:52:50+00:00,"Rename RequestParameters to MultiParams, refs #799",False,52,36,16,0.0,0.0,1.0,16725,7293,13683,686,3.15086782376502,58.521862861635064,46.96923076923077,73.98461538461538,515.6758010675173,2.654089688365353,3306.8520710527955,183.71400394737753,0.17189193368917244
715,d96ac1d52cacf34bae09705eb8f9a0e3f81c426b,Simon Willison,2020-06-05 18:01:06+00:00,"Allow tuples as well as lists in MultiParams, refs #799",False,28,19,9,1.0,1.0,1.0,16735,7297,13694,685,3.1548731642189587,58.504638739334936,47.0,74.03076923076924,516.0853961817423,2.6537825154321855,3310.544431591554,183.91913508841967,0.17202846539391412
716,84a9c4ff75460f91c049bd30bba3cee1fd89d9e2,Simon Willison,2020-06-05 19:05:57+00:00,"CSRF protection (#798)

Closes #793.

* Rename RequestParameters to MultiParams, refs #799
* Allow tuples as well as lists in MultiParams, refs #799
* Use csrftokens when running tests, refs #799
* Use new csrftoken() function, refs https://github.com/simonw/asgi-csrf/issues/7
* Check for Vary: Cookie hedaer, refs https://github.com/simonw/asgi-csrf/issues/8",False,86,67,19,0.0,0.7368421052631579,0.2894736842105263,16781,7312,13737,687,3.16,58.48120622517295,47.15384615384615,74.26153846153846,517.772277288824,2.6621862855750864,3325.8753433443717,184.7708524080206,0.17259075909627464
717,033a1bb22c70a955d9fd1d3b4675a0e2e5c8b8cd,Simon Willison,2020-06-05 19:06:43+00:00,Removed rogue print() from test,False,1,0,1,0.0,0.0,0.0,16780,7311,13736,687,3.16,58.483139400588534,47.15384615384615,74.26153846153846,517.772277288824,2.6621862855750864,3325.8753433443717,184.7708524080206,0.17259075909627464
718,f786033a5f0098371cb1df1ce83959b27c588115,Simon Willison,2020-06-05 23:46:37+00:00,"Fixed 'datasette plugins' command, with tests - closes #802",False,153,92,61,1.0,0.0,0.0,16811,7320,13761,690,3.1611185086551266,58.50832282649051,47.276923076923076,74.46153846153847,519.4753138040521,2.661811860073154,3336.432710810137,185.3573728227853,0.17315843793468402
719,75c143a84cee2fad878c6318755582522b9afff3,Simon Willison,2020-06-05 23:55:08+00:00,"Fixed /-/plugins?all=1, refs #802",False,25,14,11,,0.0,0.0,16814,7331,13763,691,3.1611185086551266,58.514199154733625,47.2,74.35384615384615,518.4475115165934,2.6624341755749117,3330.4264905893106,185.02369392162828,0.1728158371721978
720,9c563d6aed072f14d3d25f58e84659f9caa1a243,Simon Willison,2020-06-06 00:15:52+00:00,"Bump asgi-csrf to 0.5.1 for a bug fix

Refs https://github.com/simonw/asgi-csrf/issues/10",False,2,1,1,,,,16814,7331,13763,691,3.1611185086551266,58.514199154733625,47.2,74.35384615384615,518.4475115165934,2.6624341755749117,3330.4264905893106,185.02369392162828,0.1728158371721978
721,14f6b4d200f24940a795ddc0825319ab2891bde2,Simon Willison,2020-06-06 18:39:11+00:00,"actor_matches_allow utility function, refs #800",False,64,62,2,0.10526315789473684,0.10526315789473684,0.8947368421052632,16860,7352,13805,694,3.1660026560424965,58.49195857530155,47.36923076923077,74.63076923076923,520.8199559104353,2.6619566803226666,3351.4508337787547,186.19171298770848,0.1736066519701451
722,3f83d4632a643266f46ccd955d951be7aacbab99,Simon Willison,2020-06-06 19:05:22+00:00,"Respect query permissions on database page, refs #800",False,50,47,3,0.11428571428571428,0.6857142857142857,0.7142857142857143,16904,7362,13844,696,3.1710875331564985,58.47516885095348,47.49230769230769,74.84615384615384,522.2298267494051,2.662645713719877,3358.6055898456293,186.58919943586824,0.17407660891646842
723,070838bfa19b177f59ef3bd8f0139266adecda90,Simon Willison,2020-06-06 19:26:19+00:00,Better test for Vary header,False,8,6,2,1.0,1.0,1.0,16908,7364,13846,696,3.168211920529801,58.470385465291024,47.53846153846154,74.8923076923077,522.4958307358053,2.6707813516668355,3358.893027693882,186.60516820521562,0.17416527691193517
724,966eec7f75d2e1b809b001bb7e82f35d477f77ea,Simon Willison,2020-06-06 19:27:00+00:00,"Check permissions on canned query page, refs #800",False,18,17,1,0.5454545454545454,0.5454545454545454,0.5454545454545454,16924,7374,13857,697,3.1706349206349205,58.42514849271055,47.6,75.1076923076923,523.7434455497464,2.674215695101179,3362.3219829249524,186.7956657180529,0.1745811485165822
725,3359d54a4eb9c9725c27a85437661b5180c4099a,Simon Willison,2020-06-06 19:33:08+00:00,Use cookies when accessing csrftoken_from,False,2,1,1,,,,16924,7374,13857,697,3.1706349206349205,58.42514849271055,47.6,75.1076923076923,523.7434455497464,2.674215695101179,3362.3219829249524,186.7956657180529,0.1745811485165822
726,86dec9e8fffd6c4efec928ae9b5713748dec7e74,Simon Willison,2020-06-07 05:30:36+00:00,"Added permission check to every view, closes #808",False,222,220,2,0.3786407766990291,0.8446601941747572,0.5145631067961165,17054,7415,13974,698,3.161842105263158,58.15181905817912,47.93846153846154,75.56923076923077,526.7049652894427,2.6871329755782316,3376.8744706066886,187.60413725592713,0.17556832176314763
727,4340845754e90fe778a7da8668b4fd9bf6ccc2c6,Simon Willison,2020-06-07 20:03:08+00:00,"Nested permission checks for all views, refs #811",False,145,97,48,0.0,0.0,1.0,17090,7439,14008,699,3.161629434954008,58.134209461022465,47.96923076923077,75.61538461538461,527.1754130774204,2.6870942322702573,3379.4775318816355,187.748751771202,0.17572513769247353
728,a1e801453aaeb540d2aea8cccb90b425af737c44,Simon Willison,2020-06-07 20:20:59+00:00,"Renamed execute-query permission to execute-sql, refs #811",False,19,6,13,1.0,1.0,1.0,17083,7435,14002,698,3.159001314060447,58.13422724204836,47.95384615384615,75.58461538461539,526.969151951342,2.6871563923324175,3378.6409768504786,187.70227649169325,0.17565638398378075
729,abc733912447f284b38ddc389d18ba0a8cef8bcf,Simon Willison,2020-06-07 21:14:10+00:00,"Nicer pattern for make_app_client() in tests, closes #395",False,98,56,42,1.0,1.0,1.0,17097,7443,14016,698,3.1300919842312744,58.138936643181104,47.95384615384615,75.58461538461539,526.969151951342,2.6871563923324175,3378.6409768504786,187.70227649169325,0.17565638398378075
730,ece0ba6f4bc152af6f605fc5f536ffa46af95274,Simon Willison,2020-06-07 21:23:16+00:00,"Test + default impl for view-query permission, refs #811",False,43,40,3,0.4074074074074074,0.4074074074074074,0.0,17134,7468,14050,699,3.131233595800525,58.26343816839337,47.40909090909091,74.6969696969697,519.9868537346829,2.674025429123029,3329.8915656633117,184.99397587018404,0.17332895124489434
731,8571ce388a23dd98adbdc1b7eff6c6eef5a9d1af,Simon Willison,2020-06-07 21:30:39+00:00,"Implemented view-instance permission, refs #811",False,24,24,0,0.7777777777777778,0.7777777777777778,0.0,17158,7482,14072,699,3.1323722149410225,58.05484871327813,47.484848484848484,74.87878787878788,520.7526958901587,2.690092695190295,3332.8951895171404,185.16084386206336,0.1735842319633863
732,cd92e4fe2a47039a8c780e4e7183a0d2e7446884,Simon Willison,2020-06-07 21:33:56+00:00,"Fixed test name, this executes view-query, not execute-sql - refs #811",False,2,1,1,,,,17158,7482,14072,699,3.1323722149410225,58.05484871327813,47.484848484848484,74.87878787878788,520.7526958901587,2.690092695190295,3332.8951895171404,185.16084386206336,0.1735842319633863
733,613fa551a1be31645deb0ece4b46638c181827e0,Simon Willison,2020-06-08 03:14:27+00:00,"Removed view-row permission, for the moment - refs #811

https://github.com/simonw/datasette/issues/811#issuecomment-640338347",False,17,0,17,1.0,0.75,0.75,17154,7481,14068,699,3.1323722149410225,58.056044236345464,47.45454545454545,74.83333333333333,520.3283379050347,2.6906365303693907,3330.1005986034356,185.00558881130195,0.17344277930167828
734,9b42e1a4f5902fb7d6ad0111189900e2656ffda3,Simon Willison,2020-06-08 03:50:37+00:00,"view-database permission

Also now using  to indicate private resources - resources that
would not be available to the anonymous user. Refs #811",False,85,69,16,0.9318181818181818,0.5454545454545454,0.20454545454545456,17207,7509,14116,700,3.1333333333333333,57.80978757632077,47.666666666666664,75.3030303030303,522.7208668959502,2.7194396308636684,3339.3804809330395,185.52113782961334,0.17424028896531676
735,b26292a4582ea7fe16c59d0ac99f3bd8c3d4b1d0,Simon Willison,2020-06-08 03:56:49+00:00,"Test that view-query is respected by query list, refs #811",False,22,21,1,0.0,1.0,1.0,17227,7518,14134,700,3.1305483028720626,57.75968437310712,47.71212121212121,75.43939393939394,523.4128240629851,2.7214064140804513,3341.3031405137012,185.6279522507612,0.1744709413543284
736,9397d718345c4b35d2a5c55bfcbd1468876b5ab9,Simon Willison,2020-06-08 04:47:22+00:00,"Implemented view-table, refs #811",False,149,108,41,0.0,0.5932203389830508,0.3050847457627119,17294,7548,14197,700,3.1328125,57.58548032319727,47.95454545454545,75.95454545454545,526.4688283963618,2.732462907284991,3353.692223058805,186.3162346143781,0.17548960946545397
737,e18f8c3f871fe1e9e00554b5c6c75409cc1a5e6d,Simon Willison,2020-06-08 13:49:55+00:00,"New check_visibility() utility function, refs #811",False,77,43,34,0.0,1.0,0.0,17303,7557,14204,699,3.1313394018205463,57.5763252068708,47.93939393939394,75.92424242424242,526.3871859258079,2.732707622771913,3355.685787886166,186.42698821589812,0.17546239530860266
738,cc218fa9be55842656d030545c308392e3736053,Simon Willison,2020-06-08 14:02:31+00:00,"Move assert_permissions_checked() calls from test_html.py to test_permissions.py, refs #811",False,103,52,51,1.0,0.0,0.0,17304,7552,14205,699,3.1313394018205463,57.55839646902618,47.93939393939394,75.92424242424242,526.2308411857613,2.73154054490029,3353.5489982379295,186.30827767988495,0.17541028039525383
739,1cf86e5eccf3f92b483bacbad860879cf39b0ad6,Simon Willison,2020-06-08 14:18:47+00:00,"Show padlock on private index page, refs #811",False,11,10,1,0.0,0.0,0.0,17313,7556,14212,701,3.1404421326397918,57.59944232765134,48.15151515151515,76.4090909090909,529.3353427504267,2.7448138753527647,3368.0063595857605,187.11146442143107,0.17644511425014228
740,3ce7f2e7dae010de97b67618c111ea5853164a69,Simon Willison,2020-06-08 14:23:10+00:00,"Show padlock on private database page, refs #811",False,15,14,1,0.0,0.0,0.0,17326,7560,14224,702,3.1495448634590377,57.5730751990099,48.34848484848485,76.89393939393939,532.6285348104631,2.7455944079514794,3379.520163707602,187.75112020597783,0.17754284493682107
741,2a8b39800f194925658bd9e1b5e4cc12619d5e9c,Simon Willison,2020-06-08 14:50:06+00:00,"Updated tests, refs #811",False,30,30,0,0.0,1.0,1.0,17356,7560,14254,702,3.1495448634590377,57.5730751990099,48.34848484848485,76.89393939393939,532.6285348104631,2.7455944079514794,3379.520163707602,187.75112020597783,0.17754284493682107
742,177059284dc953e6c76f86213aa470db2ff3eaca,Simon Willison,2020-06-08 17:05:32+00:00,"New request.actor property, refs #811",False,23,16,7,1.0,1.0,1.0,17360,7563,14257,702,3.1467532467532466,57.56877343366138,48.34848484848485,76.89393939393939,532.6285348104631,2.7455944079514794,3379.520163707602,187.75112020597783,0.17754284493682107
743,ab14b20b248dafbe7f9f9487985614939c83b517,Simon Willison,2020-06-08 17:16:24+00:00,Get tests working again,False,8,2,6,1.0,1.0,1.0,17356,7563,14253,702,3.1467532467532466,57.5698718817764,48.34848484848485,76.89393939393939,532.6285348104631,2.7455944079514794,3379.520163707602,187.75112020597783,0.17754284493682107
744,dfff34e1987976e72f58ee7b274952840b1f4b71,Simon Willison,2020-06-08 18:03:33+00:00,"Applied black, refs #811",False,4,1,3,0.0,0.0,0.0,17354,7563,14251,702,3.1467532467532466,57.5698718817764,48.34848484848485,76.89393939393939,532.6285348104631,2.7455944079514794,3379.520163707602,187.75112020597783,0.17754284493682107
745,aa420009c08921d0c9a68cf60a57959be0e8a2e5,Simon Willison,2020-06-08 18:07:11+00:00,"Show padlock on private table page, refs #811",False,12,11,1,0.0,0.0,0.0,17364,7568,14259,703,3.153246753246753,57.55386725154999,48.484848484848484,77.25757575757575,535.231853550069,2.746222645266405,3389.9932473297704,188.33295818498723,0.17841061785002305
746,9ac27f67fe346e753b562b711a2086e4c616d51d,Simon Willison,2020-06-08 18:13:32+00:00,"Show padlock on private query page, refs #811",False,13,12,1,0.0,0.0,0.0,17375,7574,14269,704,3.1597402597402597,57.5329598174296,48.621212121212125,77.62121212121212,537.8455216429609,2.7468404956125165,3399.6590044266873,188.8699446903715,0.17928184054765364
747,dcec89270a2e3b9fabed93f1d7b9be3ef86e9ed2,Simon Willison,2020-06-08 18:20:59+00:00,"View list respects view-table permission, refs #811

Also makes a small change to the /fixtures.json JSON:

    ""views"": [""view_name""]

Is now:

    ""views"": [{""name"": ""view_name"", ""private"": true}]",False,31,24,7,0.0,0.4666666666666667,0.4666666666666667,17392,7580,14285,705,3.1675324675324674,57.5289740081679,48.60606060606061,77.57575757575758,537.5176515619157,2.746705214227235,3398.4022916491645,188.80012731384247,0.17917255052063863
748,5598c5de011db95396b65b5c8c251cbe6884d6ae,Simon Willison,2020-06-08 18:34:14+00:00,"Database list on index page respects table/view permissions, refs #811",False,58,52,6,0.0,0.7073170731707317,0.7073170731707317,17438,7598,14326,705,3.172503242542153,57.45530221981699,48.666666666666664,77.74242424242425,538.7239061191442,2.748991338989216,3403.64841520193,189.09157862232945,0.17957463537304805
749,c9f1ec616e5a8c83f554baaedd38663569fb9b91,Simon Willison,2020-06-08 18:51:03+00:00,"Removed resource_type from permissions system, closes #817

Refs #811, #699",False,128,39,89,1.0,0.5517241379310345,0.896551724137931,17409,7594,14297,705,3.172503242542153,57.49859134709879,48.56060606060606,77.54545454545455,537.455707686793,2.7487556579580184,3397.297872014035,188.73877066744643,0.17915190256226438
750,799c5d53570d773203527f19530cf772dc2eeb24,Simon Willison,2020-06-08 18:59:53+00:00,"Renamed resource_identifier to resource, refs #817",False,87,40,47,1.0,0.7272727272727273,0.7272727272727273,17398,7594,14286,705,3.172503242542153,57.49986118264352,48.56060606060606,77.54545454545455,537.455707686793,2.7487556579580184,3397.297872014035,188.73877066744643,0.17915190256226438
751,040fc0546f1ad602125ecdc27d9d013d830aa808,Simon Willison,2020-06-08 19:02:56+00:00,"Updated tests, refs #817",False,20,10,10,,,,17398,7594,14286,705,3.172503242542153,57.49986118264352,48.56060606060606,77.54545454545455,537.455707686793,2.7487556579580184,3397.297872014035,188.73877066744643,0.17915190256226438
752,e0a4664fbab5556454dac7f3c798253a34db2928,Simon Willison,2020-06-08 22:09:57+00:00,"Better example plugin for permission_allowed

Also fixed it so default permission checks run after plugin permission checks, refs #818",False,46,41,5,,,,17398,7594,14286,705,3.172503242542153,57.49986118264352,48.56060606060606,77.54545454545455,537.455707686793,2.7487556579580184,3397.297872014035,188.73877066744643,0.17915190256226438
753,49d6d2f7b0f6cb02e25022e1c9403811f1fa0a7c,Simon Willison,2020-06-09 00:05:44+00:00,"allow_sql block to control execute-sql upermission in metadata.json, closes #813

Also removed the --config allow_sql:0 mechanism in favour of the new allow_sql block.",False,136,92,44,0.11764705882352941,0.058823529411764705,0.058823529411764705,17424,7600,14307,710,3.1766233766233767,57.5039567661672,48.56060606060606,77.75757575757575,538.3963400531754,2.7563176742007367,3400.7933513225603,188.93296396236448,0.17946544668439185
754,647c5ff0f3e8140f40d7f41f0874ce4e1f4df65c,Simon Willison,2020-06-09 00:35:23+00:00,"Fixed broken CSS on 404 page, closes #777",False,23,22,1,0.5,0.5,0.5,17445,7605,14326,710,3.173800259403372,57.50306195069119,48.621212121212125,77.84848484848484,539.3226751326719,2.756240968260628,3405.918925759833,189.21771809776854,0.179774225044224
755,d392dc1cfaeb8d2d7138d3d1d6aa0881f2f30589,Simon Willison,2020-06-09 02:28:25+00:00,Fixed test_table_not_exists_json test,False,20,11,9,0.0,0.0,0.0,17447,7605,14328,710,3.173800259403372,57.502864735513256,48.621212121212125,77.84848484848484,539.3226751326719,2.756240968260628,3405.918925759833,189.21771809776854,0.179774225044224
756,f5e79adf26d0daa3831e3fba022f1b749a9efdee,Simon Willison,2020-06-09 03:12:06+00:00,"register_routes() plugin hook (#819)

Fixes #215",False,133,129,4,0.9444444444444444,0.9444444444444444,0.7222222222222222,17524,7646,14385,710,3.1568123393316196,57.4401063067419,48.77272727272727,78.07575757575758,541.3115521013499,2.7557176784298516,3416.316615662469,189.79536753680384,0.18043718403378334
757,db660db4632409334e646237c3dd214764729cd4,Simon Willison,2020-06-09 03:32:10+00:00,"Docs + unit tests for Response, closes #821",False,87,86,1,1.0,1.0,0.7307692307692307,17561,7670,14413,710,3.1417624521072796,57.38834263614138,48.38805970149254,77.40298507462687,535.4602982572981,2.722050250393585,3366.4408269551923,187.02449038639958,0.17848676608576608
758,fac8e9381500fc02cec99281122ee8e0c72fabe1,Simon Willison,2020-06-09 03:40:00+00:00,"request.url_vars property, closes #822",False,32,28,4,1.0,1.0,1.0,17582,7679,14431,710,3.1388535031847136,57.33861643406107,48.492537313432834,77.58208955223881,536.6457363468058,2.722264127081026,3369.7861204541846,187.21034002523248,0.1788819121156021
759,5a6a73e3190cac103906b479d56129413e5ef190,Simon Willison,2020-06-09 04:37:35+00:00,Replace os.urandom(32).hex() with secrets.token_hex(32),False,7,4,3,,,,17583,7680,14432,710,3.1388535031847136,57.33861643406107,48.492537313432834,77.58208955223881,536.6457363468058,2.722264127081026,3369.7861204541846,187.21034002523248,0.1788819121156021
760,eb3ec279becd3b81e5fa509244711548c86f434f,Simon Willison,2020-06-09 06:33:06+00:00,"Test for anonymous: true, refs #825",False,1,1,0,,,,17584,7680,14433,710,3.1388535031847136,57.33843305571724,48.492537313432834,77.58208955223881,536.6457363468058,2.722264127081026,3369.7861204541846,187.21034002523248,0.1788819121156021
761,fec750435d405ac06cb61a5ddeda7317ef24843a,Simon Willison,2020-06-09 14:01:23+00:00,"Support anonymous: true in actor_matches_allow, refs #825",False,4,2,2,,,,17584,7680,14433,710,3.1388535031847136,57.337694037501436,48.52238805970149,77.64179104477611,537.1605670003436,2.72199507216333,3374.582780911843,187.4768211617691,0.17905352233344796
762,eefeafaa27a16af3bcb3150b4fe1ef6ee8d5c19f,Simon Willison,2020-06-09 14:09:39+00:00,Removed unused import,False,1,0,1,,,,17583,7680,14432,710,3.1388535031847136,57.33795364425441,48.52238805970149,77.64179104477611,537.1605670003436,2.72199507216333,3374.582780911843,187.4768211617691,0.17905352233344796
763,fa87d16612ff671683f35ecc5f5e36af007599e4,Simon Willison,2020-06-09 14:10:46+00:00,Clearer docs for actor_matches_allow,False,5,3,2,0.0,0.0,1.0,17584,7682,14433,710,3.1388535031847136,57.337319581310126,48.507462686567166,77.64179104477611,537.1256752929783,2.7229789276649004,3376.318335299227,187.57324084995707,0.17904189176432622
764,7633b9ab249b2dce5ee0b4fcf9542c13a1703ef0,Simon Willison,2020-06-09 17:01:03+00:00,"unauthenticated: true method plus allow block docs, closes #825",False,189,134,55,0.875,0.875,1.0,17602,7687,14449,711,3.1399491094147582,57.38391984475633,48.61194029850746,77.83582089552239,539.0857582425809,2.7239312840556456,3393.2181269912553,188.51211816618084,0.17969525274752707
765,5ef3b7b0c9b9e318af711bbd03e84af2abffdc29,Simon Willison,2020-06-09 19:25:48+00:00,"Applied Black

Refs #825",False,14,5,9,0.0,0.0,0.0,17598,7687,14445,711,3.1399491094147582,57.38511786384185,48.61194029850746,77.83582089552239,539.0857582425809,2.7239312840556456,3393.2181269912553,188.51211816618084,0.17969525274752707
766,f240970b834d595947c8d27d46d1f19b9119376d,Simon Willison,2020-06-09 19:58:12+00:00,"Fixed tests/fixtures.py, closes #804",False,110,65,45,0.0,0.0,0.0,17609,7691,14454,709,3.1499364675984753,57.36275833814305,48.6865671641791,77.8955223880597,539.6067721208138,2.709632504161115,3387.334638763276,188.18525770907084,0.17986892404027136
767,008e2f63c217aa066027a872ee706b07bd084857,Simon Willison,2020-06-09 22:19:37+00:00,"response.set_cookie(), closes #795",False,139,108,31,0.16216216216216217,1.0,0.3783783783783784,17656,7705,14491,710,3.1520912547528517,57.3065524504618,48.76119402985075,77.94029850746269,539.8074661095811,2.7165943026857775,3387.0191902873485,188.16773279374155,0.17993582203652708
768,d828abaddec0dce3ec4b4eeddc3a74384e52cf34,Simon Willison,2020-06-10 04:20:07+00:00,"Fix horizontal scrollbar on changelog, refs #828",False,8,8,0,,,,17661,7706,14494,710,3.1520912547528517,57.3065524504618,48.76119402985075,77.94029850746269,539.8074661095811,2.7165943026857775,3387.0191902873485,188.16773279374155,0.17993582203652708
769,57e812d5de9663a3c177e0344f4d1e552a74d484,Simon Willison,2020-06-10 19:39:54+00:00,"ds_author cookie can now expire, closes #829

Refs https://github.com/simonw/datasette-auth-github/issues/62#issuecomment-642152076",False,120,99,21,1.0,0.2857142857142857,0.6666666666666666,17695,7731,14524,711,3.150442477876106,57.13281204852561,48.985074626865675,78.19402985074628,541.0282251849778,2.7463093637441225,3390.36038806602,188.3533548925566,0.180342741728326
770,198545733b7a34d7b36ab6510ed30fb7687bcc7e,Simon Willison,2020-06-10 23:56:53+00:00,"Document that ""allow"": {} denies all

https://github.com/simonw/datasette/issues/831#issuecomment-642324847",False,30,26,4,,,,17698,7731,14527,714,3.150442477876106,57.14649573759433,48.985074626865675,78.19402985074628,541.0282251849778,2.7463093637441225,3390.36038806602,188.3533548925566,0.180342741728326
771,371170eee8d1659437e42c8ee267cb4b2abcffb5,Simon Willison,2020-06-11 15:44:44+00:00,publish heroku now deploys with Python 3.8.3,False,2,1,1,,,,17698,7731,14527,714,3.150442477876106,57.14649573759433,48.985074626865675,78.19402985074628,541.0282251849778,2.7463093637441225,3390.36038806602,188.3533548925566,0.180342741728326
772,98632f0a874b7b9dac6abf0abb9fdb7e2839a4d3,Simon Willison,2020-06-11 16:02:03+00:00,"--secret command for datasette publish

Closes #787",False,72,58,14,0.07407407407407407,0.6296296296296297,0.4444444444444444,17732,7737,14562,714,3.150442477876106,57.12815387961559,49.0,78.23880597014926,541.3347482148399,2.746725552033445,3391.30547519899,188.40585973327717,0.18044491607161334
773,29c5ff493ad7918b8fc44ea7920b41530e56dd5d,Simon Willison,2020-06-11 22:14:51+00:00,"view-instance permission for debug URLs, closes #833",False,38,36,2,0.9090909090909091,1.0,0.9090909090909091,17766,7750,14592,714,3.1437578814627996,57.104593129925945,49.02985074626866,78.38805970149254,542.4994546224096,2.7617553024841914,3414.716846156387,189.7064914531326,0.18083315154080326
774,f39f11133126158e28780dee91bb9c7719ef5875,Simon Willison,2020-06-11 22:47:19+00:00,"Fixed actor_matches_allow bug, closes #836",False,4,3,1,,,,17768,7750,14594,715,3.1437578814627996,57.10862562146109,49.02985074626866,78.38805970149254,542.4994546224096,2.7617553024841914,3414.716846156387,189.7064914531326,0.18083315154080326
775,fba8ff6e76253af2b03749ed8dd6e28985a7fb8f,Simon Willison,2020-06-12 00:21:48+00:00,"""$env"": ""X"" mechanism now works with nested lists, closes #837",False,60,48,12,1.0,1.0,1.0,17802,7767,14621,715,3.135678391959799,57.08517420684435,49.08955223880597,78.4776119402985,543.1819079171454,2.7617422874604127,3417.9714164387105,189.8873009132616,0.1810606359723818
776,308bcc8805236b8eb5a08d8045c84f68bd0ddf0e,Simon Willison,2020-06-12 00:25:12+00:00,Fixed test_permissions_debug,False,5,4,1,0.3333333333333333,1.0,1.0,17805,7768,14624,715,3.1381909547738696,57.07333415949066,49.1044776119403,78.50746268656717,543.3164983720732,2.761327693762237,3418.249698098496,189.90276100547192,0.18110549945735774
777,9ae0d483ead93c0832142e5dc85959ae3c8f73ea,Simon Willison,2020-06-12 00:48:20+00:00,"Get ""$file"": ""../path""  mechanism working again, closes #839",False,2,2,0,0.0,0.0,1.0,17807,7770,14626,715,3.1394472361809047,57.069975886087896,49.134328358208954,78.55223880597015,543.723706572506,2.7610546983690343,3421.9155680833956,190.10642044907743,0.18124123552416868
778,09a3479a5402df96489ed6cab6cc9fd674bf3433,Simon Willison,2020-06-13 17:55:41+00:00,"New ""startup"" plugin hook, closes #834",False,61,61,0,0.9285714285714286,0.9285714285714286,0.9285714285714286,17835,7788,14644,716,3.1325,57.05019126228022,49.134328358208954,78.55223880597015,543.723706572506,2.7610546983690343,3421.9155680833956,190.10642044907743,0.18124123552416868
779,72ae975156a09619a808cdd03fddddcf62e6f533,Simon Willison,2020-06-13 17:58:32+00:00,"Added test for async startup hook, refs #834",False,9,9,0,1.0,1.0,1.0,17844,7795,14651,716,3.1298377028714106,57.03076340085719,49.16417910447761,78.59701492537313,544.1121301349301,2.7609954795101967,3423.8703182277104,190.21501767931713,0.1813707100449767
780,d60bd6ad13ef908d7e66a677caee20536f3fb277,Simon Willison,2020-06-13 18:15:33+00:00,"Update plugin tests, refs #834",False,2,2,0,,,,17846,7795,14652,716,3.1298377028714106,57.030717757824185,49.16417910447761,78.59701492537313,544.1121301349301,2.7609954795101967,3423.8703182277104,190.21501767931713,0.1813707100449767
781,0e49842e227a0f1f69d48108c87d17fe0379e548,Simon Willison,2020-06-13 18:29:14+00:00,"datasette/actor_auth_cookie.py coverae to 100%, refs #841",False,11,11,0,1.0,1.0,1.0,17857,7806,14659,718,3.1271820448877805,57.04676483435588,49.26865671641791,78.76119402985074,545.066199783085,2.7695953373637856,3427.696163693447,190.42756464963583,0.1816887332610284
782,a4ad5a504c161bc3b1caaa40b22e46d600f7d4fc,Simon Willison,2020-06-14 00:26:18+00:00,"Workaround for 'Too many open files' in test runs, refs #846",False,5,4,1,0.0,0.0,0.0,17860,7806,14662,720,3.1271820448877805,57.059635725662545,49.26865671641791,78.76119402985074,545.066199783085,2.7695953373637856,3427.696163693447,190.42756464963583,0.1816887332610284
783,d2aef9f7ef30fa20b1450cd181cf803f44fb4e21,Simon Willison,2020-06-18 16:21:15+00:00,"Test illustrating POST against register_routes(), closes #853",False,14,14,0,1.0,1.0,1.0,17874,7817,14673,720,3.12453300124533,57.02364823091654,49.38805970149254,78.94029850746269,546.4441794476827,2.7687164873413916,3433.902850891222,190.7723806050678,0.1821480598158943
784,6151c25a5a8d566c109af296244b9267c536bd9a,Simon Willison,2020-06-18 18:37:28+00:00,"Respect existing scope[""actor""] if set, closes #854",False,23,22,1,0.9333333333333333,0.9333333333333333,0.6,17895,7833,14688,720,3.121739130434783,56.98164000328068,49.52238805970149,79.11940298507463,547.9231231390692,2.7758659800925884,3441.819384027669,191.2121880015371,0.1826410410463564
785,6c2634583627bfab750c115cb13850252821d637,Simon Willison,2020-06-18 23:35:15+00:00,"New plugin hook: canned_queries(), refs #852",False,253,203,50,0.6307692307692307,0.7692307692307693,1.0,17981,7871,14755,722,3.0886699507389164,56.95581656591042,49.64179104477612,79.34328358208955,549.8125668631271,2.7668331734354648,3449.249078740893,191.62494881893844,0.1832708556210424
786,b59b92b1b0517cf18fa748ff9d0a0bf86298dd43,Simon Willison,2020-06-18 23:52:16+00:00,"Fix for tests - order was inconsistent, refs #852",False,28,17,11,0.0,1.0,1.0,17987,7872,14761,722,3.0886699507389164,56.95343108487931,49.64179104477612,79.34328358208955,549.8125668631271,2.7668331734354648,3449.249078740893,191.62494881893844,0.1832708556210424
787,751e7b4af7e6ae73d173d38fd5b097673c2169f6,Simon Willison,2020-06-22 02:41:07+00:00,"Update tests for new plugin_hooks.rst, refs #687",False,2,1,1,,,,17987,7872,14761,722,3.0886699507389164,56.95343108487931,49.64179104477612,79.34328358208955,549.8125668631271,2.7668331734354648,3449.249078740893,191.62494881893844,0.1832708556210424
788,28bb1c51897f3956861755e345e18b8e0b1423ac,Simon Willison,2020-06-24 03:23:50+00:00,"csrftoken() now works with .render_template(), closes #863",False,20,19,1,1.0,0.9375,1.0,18005,7882,14776,722,3.087330873308733,56.94003820475614,49.71641791044776,79.4776119402985,550.9722083097031,2.767171041082934,3455.9982347110144,191.99990192838965,0.18365740276990103
789,1a5b7d318fa923edfcefd3df8f64dae2e9c49d3f,Simon Willison,2020-06-24 04:17:30+00:00,Fixed test I broke in #863,False,7,3,4,0.0,0.0,0.0,18004,7881,14775,722,3.087330873308733,56.9413007951966,49.701492537313435,79.43283582089552,550.6063034347001,2.766743278472111,3453.240808380488,191.84671157669374,0.18353543447823337
790,1bb33dab49fd25f77b9f8e7ab7ee23b3d64c123c,dependabot-preview[bot],2020-06-24 18:50:55+00:00,"Update pytest-asyncio requirement from <0.13,>=0.10 to >=0.10,<0.15 (#866)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.10.0...v0.14.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,18004,7881,14775,722,3.087330873308733,56.9413007951966,49.701492537313435,79.43283582089552,550.6063034347001,2.766743278472111,3453.240808380488,191.84671157669374,0.18353543447823337
791,4b142862f237f95a731cb8263a293eda70d13c82,Simon Willison,2020-06-27 18:30:34+00:00,"Support non-async view functions, closes #867",False,43,33,10,0.0,1.0,0.2857142857142857,18025,7887,14795,722,3.087330873308733,56.937109588851996,49.701492537313435,79.43283582089552,550.6063034347001,2.766743278472111,3453.240808380488,191.84671157669374,0.18353543447823337
792,563f5a2d3ab30ad08daee38f5ec3ed6429ac9206,Simon Willison,2020-06-28 02:58:16+00:00,"Magic parameters for canned queries

Closes #842

Includes a new plugin hook, register_magic_parameters()",False,348,329,19,0.6153846153846154,0.9423076923076923,0.7243589743589743,18244,8006,14978,727,3.0760869565217392,56.63635403067373,49.705882352941174,79.44117647058823,549.4127813335054,2.823198274434235,3439.9191811610035,191.10662117561128,0.18313759377783512
793,335f26a0f7f00134f02ae0f001946580b0edecf5,Simon Willison,2020-06-28 03:11:01+00:00,"/fixtures/magic_parameters demo, refs #842",False,2,2,0,0.0,1.0,1.0,18246,8006,14980,727,3.0760869565217392,56.63630190606202,49.705882352941174,79.44117647058823,549.4127813335054,2.823198274434235,3439.9191811610035,191.10662117561128,0.18313759377783512
794,1f55a4a2b68fa65e56a28baeb7f44122fdeca7e7,Simon Willison,2020-06-28 03:22:49+00:00,Release notes for 0.45a3,False,15,11,4,,,,18246,8006,14980,727,3.0760869565217392,56.63630190606202,49.705882352941174,79.44117647058823,549.4127813335054,2.823198274434235,3439.9191811610035,191.10662117561128,0.18313759377783512
795,0991ea75cc7b265389aa8362414a305ba532d31a,Simon Willison,2020-06-28 19:47:28+00:00,"Renamed _timestamp to _now, refs #842, closes #871",False,22,11,11,,,,18246,8006,14980,727,3.0760869565217392,56.63630190606202,49.705882352941174,79.44117647058823,549.4127813335054,2.823198274434235,3439.9191811610035,191.10662117561128,0.18313759377783512
796,a8bcafc1775c8a8655b365ae22a3d64f6361c74a,Simon Willison,2020-06-28 20:45:17+00:00,"Refactored out AsgiRouter, refs #870",False,87,28,59,0.0,0.0,0.75,18215,7991,14954,727,3.0874848116646416,56.679648139643405,49.69117647058823,79.44117647058823,549.5464002065232,2.823494232941497,3443.535617519964,191.3075343066646,0.18318213340217446
797,3bc2461c77ecba3e1a95301dd440a9bef56b1283,Simon Willison,2020-06-28 23:06:30+00:00,"Refactored AsgiView into BaseView, refs #870",False,55,25,30,0.0,0.0,1.0,18210,7988,14951,727,3.0913520097442144,56.665260638506254,49.69117647058823,79.44117647058823,549.5464002065232,2.823494232941497,3443.535617519964,191.3075343066646,0.18318213340217446
798,4dad0284327738acd88316d0e35129a78a1a1b47,Simon Willison,2020-06-28 23:47:40+00:00,"BaseView.as_asgi is now .as_view, refs #870",False,50,22,28,0.0,0.0,1.0,18204,7987,14950,722,3.0913520097442144,56.64668519912627,49.69117647058823,79.44117647058823,549.5464002065232,2.823494232941497,3443.535617519964,191.3075343066646,0.18318213340217446
799,af350ba4571b8e3f9708c40f2ddb48fea7ac1084,Simon Willison,2020-06-29 00:01:33+00:00,"Use single Request created in DatasetteRouter, refs #870",False,24,12,12,,,1.0,18204,7989,14950,722,3.0913520097442144,56.64668519912627,49.69117647058823,79.44117647058823,549.5464002065232,2.823494232941497,3443.535617519964,191.3075343066646,0.18318213340217446
800,7ac4936cec87f5a591e5d2680f0acefc3d35a705,Simon Willison,2020-06-29 00:25:35+00:00,".add_message() now works inside plugins, closes #864

Refs #870",False,49,32,17,0.0,0.16666666666666666,1.0,18219,7999,14961,722,3.0875912408759123,56.63694613129315,49.779411764705884,79.57352941176471,550.7334481762555,2.823348471395725,3449.5088342106214,191.63937967836782,0.1835778160587519
801,a8a5f813722f72703a7aae41135ccc40635cc02f,Simon Willison,2020-06-29 00:50:47+00:00,"Made show_messages available to plugins, closes #864",False,20,17,3,0.8333333333333334,0.9166666666666666,1.0,18233,8007,14972,722,3.0850546780072903,56.62595210261794,49.86764705882353,79.70588235294117,551.9266128465397,2.823212267984102,3455.5118153489766,191.97287863049866,0.18397553761551327
802,22d932fafc3fa9af5a8f5eeab908688eaeb177ea,Simon Willison,2020-06-29 04:17:58+00:00,"/-/logout page for logging out of ds_actor cookie

Refs #840",False,83,83,0,0.2702702702702703,0.918918918918919,1.0,18283,8037,15012,725,3.07487922705314,56.52865984089351,50.01470588235294,80.04411764705883,553.8874414026745,2.8384485923989256,3465.931652786046,192.55175848811362,0.18462914713422485
803,35aee82c60b2c9a0185b934db5528c8bd11830f2,Simon Willison,2020-06-29 04:27:11+00:00,"Fixed 500 error with /favicon.ico, closes #874",False,8,7,1,1.0,1.0,1.0,18289,8041,15016,725,3.0723763570566947,56.52865984089351,50.0735294117647,80.13235294117646,554.787708098447,2.838375646553921,3470.9129167056253,192.8284953725347,0.18492923603281566
804,16f592247a2a0e140ada487e9972645406dcae69,Simon Willison,2020-06-29 15:42:50+00:00,"Use explicit lifestyle=on for Uvicorn, refs #873",False,2,1,1,,,,18289,8041,15016,725,3.0723763570566947,56.52865984089351,50.0735294117647,80.13235294117646,554.787708098447,2.838375646553921,3470.9129167056253,192.8284953725347,0.18492923603281566
805,51427323e68c6fef19a72fad48dd44f933207811,Simon Willison,2020-06-29 18:31:35+00:00,"Add message when user logs out, refs #840",False,10,7,3,0.6666666666666666,1.0,1.0,18293,8043,15019,726,3.0723763570566947,56.543049237335076,50.0735294117647,80.08823529411765,554.5239125830783,2.8346663729925243,3468.1740404345364,192.67633557969643,0.18484130419435946
806,2115d7e3457b48b3cf9c81551b9fed2d0e9cd111,Simon Willison,2020-06-29 18:40:40+00:00,"Logout link in nav, refs #875",False,75,73,2,0.9,0.9,0.9,18336,8060,15056,726,3.0697115384615383,56.47784436670422,50.14705882352941,80.22058823529412,555.4295838631206,2.8461421941552154,3475.000122217405,193.05556234541132,0.18514319462104023
807,9ac6292614a332ddc5d0868abe4a72f8f48bc7ac,Simon Willison,2020-06-30 22:00:17+00:00,"_header_x now defaults to empty string

Prior to this a request to e.g. https://latest.datasette.io/fixtures/magic_parameters
which did not include a User-Agent header would trigger a 500 error.",False,3,2,1,,,,18337,8060,15057,726,3.0697115384615383,56.47744085351585,50.14705882352941,80.22058823529412,555.4295838631206,2.8461421941552154,3475.000122217405,193.05556234541132,0.18514319462104023
808,ab76eddf31bef99630cc78f462a0b67624db60ac,Simon Willison,2020-06-30 22:49:06+00:00,"Express no opinion if allow block is missing

Default permission policy was returning True by default for permission
checks - which means that if allow was not defined for a level it would
be treated as a passing check.

This is better: we now return None of the allow block is not defined,
which means 'I have no opinion on this' and allows other code to make
its own decisions.

Added while working on #832",False,8,4,4,,,,18337,8060,15057,726,3.0697115384615383,56.47744085351585,50.14705882352941,80.22058823529412,555.4295838631206,2.8461421941552154,3475.000122217405,193.05556234541132,0.18514319462104023
809,d6e03b04302a0852e7133dc030eab50177c37be7,Simon Willison,2020-06-30 23:40:50+00:00,"Cascading view permissions, closes #832

- If you have table permission but not database permission you can now view the table page
- New BaseView.check_permissions() method",False,120,108,12,0.05,0.05,0.05,18433,8095,15144,730,3.074251497005988,56.42463176281565,50.338235294117645,80.57352941176471,558.3168486056197,2.844488200320452,3487.5430287941936,193.75239048856628,0.1861056162018733
810,08b4928a75faa1f2ba1c5b9908bcf2df4975a9d4,Simon Willison,2020-07-01 01:18:19+00:00,"asgi-csrf>=0.6, refs #835",False,2,1,1,,,,18433,8095,15144,730,3.074251497005988,56.42463176281565,50.338235294117645,80.57352941176471,558.3168486056197,2.844488200320452,3487.5430287941936,193.75239048856628,0.1861056162018733
811,3ec5b1abf6afa2d22a3378092809a1a8c0249d26,Simon Willison,2020-07-01 03:08:00+00:00,"CSRF tests for canned query POST, closes #835",False,24,23,1,1.0,1.0,1.0,18455,8104,15162,730,3.069295101553166,56.39044691658794,50.4264705882353,80.70588235294117,559.250838503076,2.8440303108854876,3489.436218199612,193.85756767775618,0.18641694616769205
812,549b1c2063db48c4622ee5c7b478a1e3cbc1ac07,Simon Willison,2020-07-01 04:17:38+00:00,"New forbidden() plugin hook, closes #812",False,120,100,20,0.6296296296296297,0.6296296296296297,0.4074074074074074,18492,8128,15191,731,3.0690476190476192,56.35339548618089,50.63235294117647,81.01470588235294,561.7581811114468,2.851366727880519,3502.853316361735,194.60296202009633,0.18725272703714896
813,1bae24691f1e9f87daa32b09827c2e3a6af075c3,Simon Willison,2020-07-01 21:25:59+00:00,"Only show 'log out' if ds_cookie present, closes #884",False,13,11,2,0.8333333333333334,0.8333333333333334,0.8333333333333334,18501,8134,15198,731,3.066587395957194,56.31763541510339,50.75,81.23529411764706,563.341872628992,2.851381611191773,3510.755715796243,195.04198421090237,0.18778062420966402
814,c7e8a4aaac712519d3ffab5b0c774ea57907ddc1,Simon Willison,2020-07-01 21:36:36+00:00,"Handle missing request object, refs #884",False,2,1,1,,,,18501,8134,15198,731,3.0677764565992867,56.31763541510339,50.794117647058826,81.32352941176471,564.1378647120658,2.8514891670256897,3517.0505574556687,195.391697636426,0.18804595490402204
815,57879dc8b346a435804a9e45ffaacbf2a0228bc6,Simon Willison,2020-07-02 00:23:37+00:00,"Better titles for canned query pages, closes #887",False,13,10,3,1.0,1.0,1.0,18508,8139,15203,731,3.0653206650831355,56.317530017285854,50.86764705882353,81.41176470588235,565.0894450839312,2.8507135552402874,3521.2319271146293,195.62399595081268,0.18836314836131043
816,ea99a4431ce5bc2d65a3496da5b38e1986550a96,Amjith Ramanujam,2020-07-03 03:08:32+00:00,"Only load Python files from plugins-dir

Pull request #890. Thanks, @amjith!

* Load only python files from plugins-dir
* Add a test to verify non-python files are not loaded as plugins",False,12,9,3,0.4,0.8,0.8,18514,8145,15209,731,3.0665083135391926,56.2987071593181,50.98529411764706,81.61764705882354,566.6407130129355,2.859569801000438,3531.3894302693698,196.18830168163163,0.1888802376709785
817,ee0ef016523a765b6ef6eaa43cad9ad568f78ae4,Simon Willison,2020-07-12 19:53:29+00:00,Added new logo to the documentation,False,48,46,2,,,,18520,8148,15215,729,3.0665083135391926,56.2987071593181,50.98529411764706,81.61764705882354,566.6407130129355,2.859569801000438,3531.3894302693698,196.18830168163163,0.1888802376709785
818,1f6a134369e6a7efaae9db469f15b1dd2b7f3709,Simon Willison,2020-07-17 20:12:35+00:00,"await request.post_body() method, closes #897",False,40,37,3,0.32,1.0,1.0,18551,8164,15241,729,3.061611374407583,56.2416936513249,51.01470588235294,81.66176470588235,566.9230626761209,2.859243003614817,3531.820688830232,196.21226049056838,0.18897435422537368
819,213e6a892636408d289dd75511327c4312c438e4,Simon Willison,2020-07-22 04:52:35+00:00,"content-length for DB downloads, closes #905",False,12,10,2,0.8333333333333334,0.8333333333333334,0.8333333333333334,18559,8171,15248,730,3.061611374407583,56.240196192762625,51.088235294117645,81.75,567.8595558641084,2.867162885676553,3583.1759757956183,199.06533198864543,0.18928651862136947
820,6be5654ffab282e8cf39cc138ba2d4496ebc7407,abeyerpath,2020-07-24 20:39:53+00:00,"Exclude tests from package, properly this time

The `exclude` argument to `find_packages` needs an iterable of package
names.

Closes #456 - thanks, @abeyerpath!",False,2,1,1,,,,18559,8171,15248,730,3.061611374407583,56.240196192762625,51.088235294117645,81.75,567.8595558641084,2.867162885676553,3583.1759757956183,199.06533198864543,0.18928651862136947
821,12c0bc09cc4bf9addde20f3d46613de11f27c641,Simon Willison,2020-07-24 22:55:10+00:00,"/-/allow-debug tool, closes #908",False,125,125,0,0.21052631578947367,0.21052631578947367,0.8421052631578947,18619,8203,15300,730,3.063679245283019,56.15537304995831,51.25,82.0,569.6453869549896,2.8645910231053864,3586.9192919757447,199.27329399865243,0.18988179565166322
822,092874202c8748d6e0d4800eaf707c0145d95ffe,Simon Willison,2020-07-25 00:04:06+00:00,"Improvements to allow block logic and debug tool

true and false allow block values are now supported, closes #906

Added a bunch of demo links to the documentation, refs #908",False,59,48,11,0.0,0.0,1.0,18629,8207,15310,732,3.0660377358490565,56.15596272095614,51.26470588235294,82.08823529411765,570.3451474365389,2.8668223797198884,3599.4544082851307,199.96968934917385,0.190115049145513
823,c5c12a797f0b81cd5862dcd50354b4b571e9bf5a,dependabot-preview[bot],2020-07-29 21:26:03+00:00,"Update pytest requirement from <5.5.0,>=5.2.2 to >=5.2.2,<6.1.0 (#910)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...6.0.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,18629,8207,15310,732,3.0660377358490565,56.15596272095614,51.26470588235294,82.08823529411765,570.3451474365389,2.8668223797198884,3599.4544082851307,199.96968934917385,0.190115049145513
824,0748a65a22302640ec7520a19aaba280b5615930,Simon Willison,2020-07-29 21:34:22+00:00,"Fixed content-disposition header on DB download, closes #909",False,15,11,4,0.0,1.0,1.0,18636,8209,15317,732,3.0660377358490565,56.1556291393027,51.30882352941177,82.17647058823529,571.2149759326105,2.8669828289921604,3606.06193834689,200.33677435260495,0.1904049919775369
825,2d7fa8b9058dfbf9c7c371cdeec115d32a177dc9,fcatus,2020-07-31 18:42:38+00:00,"Use None as a default arg (#901)

Thanks, @fcatus!

* Use None as a default arg
* Black formatting fix

Co-authored-by: Simon Willison <swillison@gmail.com>",False,10,8,2,1.0,0.0,0.0,18642,8213,15323,732,3.068396226415094,56.14242849490904,51.38235294117647,82.26470588235294,571.9135657374691,2.874324875717971,3612.290662781084,200.68281459894902,0.19063785524582308
826,7f10f0f7664d474c1be82bf668829e3b736a3d2b,Simon Willison,2020-08-09 16:03:35+00:00,Fix for security issue #918,False,21,20,1,0.7692307692307693,1.0,0.23076923076923078,18661,8222,15340,732,3.067137809187279,56.11386004796339,51.411764705882355,82.3529411764706,572.482626642021,2.8753976452513164,3614.0660194168486,200.7814455231582,0.19082754221400705
827,2955e7ea51f49e4353bda0c4eeb67537cfd06996,Simon Willison,2020-08-09 16:40:17+00:00,One last update of the new tagline,False,2,1,1,,,,18661,8222,15340,732,3.067137809187279,56.11386004796339,51.411764705882355,82.3529411764706,572.482626642021,2.8753976452513164,3614.0660194168486,200.7814455231582,0.19082754221400705
828,01fe5b740171bfaea3752fc5754431dac53777e3,Simon Willison,2020-08-11 22:32:06+00:00,"datasette install / datasette uninstall commands, closes #925",False,58,58,0,1.0,1.0,1.0,18703,8252,15370,732,3.060961313012896,56.0385327958043,51.51470588235294,82.48529411764706,573.2955464347779,2.882750586427787,3617.4693618592787,200.97052010329324,0.19109851547825932
829,f7fddc9019516c4702416fe4cdb05a07ac214b61,Simon Willison,2020-08-11 22:33:16+00:00,"Fixed typo in help text, refs #925",False,2,1,1,,,,18703,8252,15370,732,3.060961313012896,56.0385327958043,51.51470588235294,82.48529411764706,573.2955464347779,2.882750586427787,3617.4693618592787,200.97052010329324,0.19109851547825932
830,6a126fa25f0c835372387de73f0842c656467fbe,Simon Willison,2020-08-11 23:05:00+00:00,"Removed aiohttp from test dependencies

It wasn't being used.",False,1,0,1,,,,18702,8252,15369,732,3.060961313012896,56.0385327958043,51.51470588235294,82.48529411764706,573.2955464347779,2.882750586427787,3617.4693618592787,200.97052010329324,0.19109851547825932
831,afdeda8216d4d3027f87583ccdbef17ad85022ef,Simon Willison,2020-08-11 23:54:52+00:00,"Use runpy in install/uninstall, refs #928",False,39,19,20,0.0,0.0,0.0,18701,8250,15370,732,3.0586166471277845,56.02467798556383,51.5735294117647,82.57352941176471,573.8475534430302,2.882588314622513,3618.5807011041315,201.03226117245177,0.19128251781434344
832,e139a7619f63d45ca2ff1ee108b933e17b5675b3,Simon Willison,2020-08-12 00:24:40+00:00,"'datasette --get' option, closes #926

Also made a start on the datasette.utils.testing module, refs #898",False,402,242,160,0.631578947368421,0.6842105263157895,0.6842105263157895,18730,8266,15396,732,3.057377049180328,55.966664371709626,50.98550724637681,81.46376811594203,564.8487831520641,2.8959911984194537,3551.249077020244,197.29161539001353,0.18828292771735472
833,45414f8412a8333d70a11bf8f0677ed9efc3c1fc,Simon Willison,2020-08-15 20:52:41+00:00,"--get now calls startup() plugin hooks, closes #934",False,80,59,21,0.0,1.0,1.0,18768,8278,15429,735,3.059718969555035,56.25849988934863,50.371428571428574,80.51428571428572,557.30898148227,2.877380009034659,3499.7091335914697,194.4282851995261,0.18576966049409
834,b86f94883b1d827f85b07009e8346b8e9c6eeefa,Simon Willison,2020-08-15 22:35:31+00:00,"Don't hang in db.execute_write_fn() if connection fails

Closes #935

Refs https://github.com/simonw/latest-datasette-with-all-plugins/issues/3",False,38,32,6,0.05263157894736842,1.0,1.0,18794,8298,15450,735,3.0596491228070177,56.2219424013705,50.44285714285714,80.6,557.9348882482803,2.884012993182244,3503.2021840540665,194.6223435585593,0.18597829608276012
835,af12f45c2b0e4782ca92c2d00481dc47ccb7a046,Simon Willison,2020-08-15 23:27:32+00:00,Documentation and tests for db.is_mutable,False,12,12,0,1.0,1.0,1.0,18800,8302,15454,735,3.057242990654206,56.19885514047415,50.51428571428571,80.72857142857143,558.716844784995,2.884704237421875,3504.5439194695396,194.69688441497445,0.1862389482616651
836,41ddc197561ac2d2a1bb988956c301a523c6ca35,Simon Willison,2020-08-15 23:57:05+00:00,Docs now live at docs.datasette.io (#937),False,110,55,55,,,,18800,8302,15454,735,3.057242990654206,56.19885514047415,50.51428571428571,80.72857142857143,558.716844784995,2.884704237421875,3504.5439194695396,194.69688441497445,0.1862389482616651
837,e3639247cd48f7446c0a05f30042588ad05eb678,Simon Willison,2020-08-16 16:50:23+00:00,"Standard arguments for extra_ plugin hooks, closes #939",False,419,258,161,0.0,0.5789473684210527,1.0,18871,8320,15523,735,3.0630841121495327,56.17748466976434,50.55714285714286,80.81428571428572,559.197231571513,2.896089844296204,3507.757037297461,194.87539096097004,0.1863990771905044
838,ac69d151c30f2024e5f06e557bdd07186fb268c9,Simon Willison,2020-08-16 17:33:44+00:00,Test that plugin hooks are documented with correct arguments,False,26,20,6,1.0,1.0,1.0,18885,8329,15532,736,3.0594405594405596,56.14028521584515,50.65714285714286,80.94285714285714,560.0176748639924,2.903232701439061,3511.4202059054137,195.0789003280785,0.18667255828799753
839,2da4144c57a54db420d3e787004390b4f9f7cff3,Simon Willison,2020-08-16 17:35:14+00:00,Applied Black,False,4,3,1,1.0,1.0,1.0,18887,8329,15534,736,3.0594405594405596,56.13739406195714,50.65714285714286,80.94285714285714,560.0176748639924,2.903232701439061,3511.4202059054137,195.0789003280785,0.18667255828799753
840,94ae840fe3b2100409789dad4d6410579adcccd1,Simon Willison,2020-08-16 17:49:33+00:00,Plugin tests now start with test_hook_,False,70,35,35,,,,18887,8329,15534,736,3.0594405594405596,56.13739406195714,50.65714285714286,80.94285714285714,560.0176748639924,2.903232701439061,3511.4202059054137,195.0789003280785,0.18667255828799753
841,3a4c8ed36aa97211e46849d32a09f2f386f342dd,Simon Willison,2020-08-16 18:09:53+00:00,"Added columns argument to various extra_ plugin hooks, closes #938",False,235,122,113,0.6,0.8,0.2,18924,8329,15571,736,3.0594405594405596,56.13322792675799,50.65714285714286,80.94285714285714,560.0176748639924,2.903232701439061,3511.4202059054137,195.0789003280785,0.18667255828799753
842,8e7e6458a6787a06a4488798bd643dd7728b8a5b,Simon Willison,2020-08-16 18:26:49+00:00,"Fix bug with ?_nl=on and binary data, closes #914",False,45,40,5,0.0,1.0,0.45454545454545453,18959,8337,15604,736,3.0582072176949944,56.1331779376031,50.714285714285715,81.02857142857142,560.8733080738281,2.903184230871016,3516.151044332753,195.3417246851529,0.18695776935794273
843,5e0b72247ecab4ce0fcec599b77a83d73a480872,Simon Willison,2020-08-18 05:09:34+00:00,"Run CI on GitHub Actions, not Travis

* Run CI on GitHub Actions, not Travis - refs #940
* Update documentation refs to Travis
* Release action now runs parallel tests, then pushes to PyPI, then Docker Hub",False,159,106,53,,,,18959,8337,15604,736,3.0582072176949944,56.1331779376031,50.714285714285715,81.02857142857142,560.8733080738281,2.903184230871016,3516.151044332753,195.3417246851529,0.18695776935794273
844,b21ed237ab940768574c834aa5a7130724bd3a2d,Simon Willison,2020-08-18 20:49:13+00:00,publish heroku now deploys with Python 3.8.5,False,2,1,1,,,,18959,8337,15604,736,3.0582072176949944,56.1331779376031,50.714285714285715,81.02857142857142,560.8733080738281,2.903184230871016,3516.151044332753,195.3417246851529,0.18695776935794273
845,69033c6ec4a76d720e5c866aaa43b175c5ec1d8b,Simon Willison,2020-08-19 17:20:41+00:00,"datasette install --upgrade option, closes #945",False,30,27,3,1.0,1.0,1.0,18975,8349,15618,736,3.0569767441860467,56.09999809436051,50.75714285714286,81.11428571428571,561.3857088671847,2.9048349538966,3517.765332590689,195.43140736614941,0.18712856962239494
846,799ecae94824640bdff21f86997f69844048d5c3,Simon Willison,2020-08-28 04:02:50+00:00,"register_output_renderer can now return Response, closes #953",False,58,42,16,0.65,0.75,0.75,19001,8369,15639,736,3.054461181923523,56.076668703748496,50.871428571428574,81.28571428571429,562.9499017555323,2.9046678695189896,3525.635090032856,195.86861611293645,0.18764996725184416
847,26b2922f177caa4e147aaee28be0cff37a457802,Simon Willison,2020-09-02 22:21:12+00:00,await_me_maybe utility function,False,54,20,34,1.0,1.0,1.0,18987,8351,15623,736,3.0324074074074074,56.072551652715056,50.871428571428574,81.28571428571429,562.9499017555323,2.9046678695189896,3525.635090032856,195.86861611293645,0.18764996725184416
848,a648bb82bac201c7658f6fdb499ff8ac17ebd2e8,Simon Willison,2020-09-02 22:24:55+00:00,"Upgrade to Black 20.8b1, closes #958",False,261,203,58,0.0,0.5288461538461539,0.3942307692307692,19132,8351,15768,736,3.0324074074074074,56.02854765026733,50.871428571428574,81.28571428571429,562.9499017555323,2.9046678695189896,3525.635090032856,195.86861611293645,0.18764996725184416
849,ca5c405d0fd2c68de96e0b9781e7ec63c76b565c,Simon Willison,2020-09-11 18:37:55+00:00,"New 'datasette --pdb' option, closes #962",False,12,12,0,0.0,0.125,0.125,19143,8356,15777,736,3.033564814814815,56.026738133040865,50.871428571428574,81.28571428571429,562.9499017555323,2.9046678695189896,3525.635090032856,195.86861611293645,0.18764996725184416
850,d02f6151dae073135a22d0123e8abdc6cbef7c50,Simon Willison,2020-09-11 21:32:54+00:00,"datasette --get status code for error pages, closes #947",False,20,20,0,0.8666666666666667,0.8666666666666667,0.8666666666666667,19161,8363,15792,736,3.032369942196532,55.93787756324058,50.97142857142857,81.41428571428571,563.7171879481594,2.9112755792695566,3528.250850866232,196.01393615923513,0.18790572931605315
851,20b1de86a1e95e3f98215f17a247cba5311007ae,Simon Willison,2020-09-11 22:04:23+00:00,Fix for test I broke in #947,False,1,1,0,1.0,1.0,1.0,19162,8364,15793,736,3.032369942196532,55.933878960982724,50.97142857142857,81.41428571428571,563.7171879481594,2.9112755792695566,3528.250850866232,196.01393615923513,0.18790572931605315
852,ea340cf320a2566d24517fb4a0c9852c5059e771,Simon Willison,2020-09-12 21:54:01+00:00,"Correctly persist selected facets in hidden fields

Closes #963",False,19,13,6,0.4444444444444444,0.4444444444444444,1.0,19172,8367,15802,737,3.032369942196532,55.93324513464453,51.01428571428571,81.5,564.4777439597243,2.911141920963086,3535.384677337257,196.41025985206983,0.18815924798657477
853,cc77fcd1338599ae9db8606156170f1e502a002d,Simon Willison,2020-09-14 02:34:43+00:00,"Optional path parameters for custom pages, closes #944",False,75,72,3,0.1891891891891892,0.2702702702702703,0.4594594594594595,19220,8397,15840,740,3.041522491349481,55.91273346545062,51.22857142857143,81.85714285714286,567.5450839208414,2.9195847644355983,3578.8699842008305,198.8261102333794,0.18918169464028045
854,699be7dea9499355d576c16e330b85b90e1aca2a,Simon Willison,2020-09-14 17:39:25+00:00,"raise_404() function for use in custom templates, closes #964",False,124,97,27,0.4117647058823529,0.6470588235294118,0.6470588235294118,19243,8410,15858,740,3.037974683544304,55.8915072667242,51.31428571428572,81.98571428571428,568.5169990911306,2.9279282036788676,3585.422063735617,199.19011465197866,0.18950566636371025
855,3817152e310e2cdb67908686bac730ab802f037d,Simon Willison,2020-09-14 18:30:31+00:00,"Rename default error template to error.html, refs #965",False,4,1,3,1.0,1.0,1.0,19241,8408,15856,740,3.036823935558113,55.8915072667242,51.25714285714286,81.9,567.7012169951532,2.9283662090697034,3580.1662479979104,198.89812488877274,0.18923373899838447
856,896fce228fec863354bd6267568c16ab13bb715a,Simon Willison,2020-09-14 20:18:15+00:00,"Canned query writes support JSON POST body, refs #880",False,36,31,5,0.4,0.0,0.4,19267,8427,15879,741,3.042528735632184,55.8426531461864,51.371428571428574,82.14285714285714,569.2785562952832,2.9347755886318354,3587.789244434913,199.32162469082846,0.18975951876509448
857,894999a14ef1b295673ef5f2063b043b2a15b769,Simon Willison,2020-09-14 20:25:09+00:00,"Improved test for JSON POST, refs #880",False,4,3,1,1.0,1.0,1.0,19269,8430,15881,741,3.042528735632184,55.83458713006781,51.4,82.18571428571428,569.5946377569379,2.9346383673625387,3588.4298287661254,199.35721270922912,0.18986487925231268
858,72ac2fd32cb80a52fc4965872eb0146c3a3f99e3,Simon Willison,2020-09-14 21:23:18+00:00,"JSON API for writable canned queries, closes #880",False,131,110,21,0.0,0.425,0.025,19321,8454,15930,742,3.0516647531572905,55.768759880267034,51.67142857142857,82.54285714285714,572.3478581611524,2.949583423573337,3606.7304065636436,200.37391147575792,0.19078261938705088
859,65ca17d729182277b8fbf81825ec90814ef24d6e,Simon Willison,2020-09-15 20:10:38+00:00,Fix for DeprecationWarning: invalid escape sequence,False,2,1,1,,,,19321,8454,15930,742,3.0516647531572905,55.768759880267034,51.67142857142857,82.54285714285714,572.3478581611524,2.949583423573337,3606.7304065636436,200.37391147575792,0.19078261938705088
860,448d13ea6b15a9c5c9165a4f6049d073f1524a5e,Simon Willison,2020-09-15 20:12:57+00:00,"Fix for MagicParameters error with no POST body, closes #967",False,42,41,1,0.06060606060606061,1.0,0.06060606060606061,19361,8475,15965,744,3.051546391752577,55.72286006430418,51.857142857142854,82.84285714285714,574.6346518994036,2.949436611881178,3614.6277671416924,200.81265373009396,0.1915448839664679
861,432a3d675fa3697bd92fcc559d66e0c403d30c16,Simon Willison,2020-09-15 21:59:17+00:00,"sqlite3.enable_callback_tracebacks(True), closes #891",False,3,3,0,,,,19364,8477,15967,744,3.051546391752577,55.720204611131706,51.857142857142854,82.84285714285714,574.6346518994036,2.949436611881178,3614.6277671416924,200.81265373009396,0.1915448839664679
862,a980199e61fe7ccf02c2123849d86172d2ae54ff,Simon Willison,2020-09-22 14:26:47+00:00,"New -o option for opening Datasette in your browser, closes #970",False,16,15,1,0.0,0.14285714285714285,0.14285714285714285,19373,8484,15976,744,3.0526918671248566,55.71168488871764,51.857142857142854,82.84285714285714,574.6346518994036,2.949436611881178,3614.6277671416924,200.81265373009396,0.1915448839664679
863,cac051bb8aab88431c596d5ca321086df273164c,Simon Willison,2020-09-22 15:39:48+00:00,"Fix for 'open' bug, closes #973",False,14,10,4,,,,19379,8484,15982,744,3.0526918671248566,55.71070231291716,51.857142857142854,82.84285714285714,574.6346518994036,2.949436611881178,3614.6277671416924,200.81265373009396,0.1915448839664679
864,1f021c37110fc9019b0ef70062c28c335e568ae2,dependabot-preview[bot],2020-09-28 22:16:34+00:00,"Update pytest requirement from <6.1.0,>=5.2.2 to >=5.2.2,<6.2.0 (#977)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...6.1.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,19379,8484,15982,744,3.0526918671248566,55.71070231291716,51.857142857142854,82.84285714285714,574.6346518994036,2.949436611881178,3614.6277671416924,200.81265373009396,0.1915448839664679
865,c11383e6284e000b2641569457efa16ac9e0d6ae,Simon Willison,2020-09-28 22:42:50+00:00,"Fix rendering glitch with columns on mobile, closes #978",False,13,12,1,1.0,1.0,1.0,19390,8487,15991,744,3.0503432494279177,55.70280939831147,51.91428571428571,82.92857142857143,575.3573564025446,2.9490823418888135,3618.822224498457,201.0456791388031,0.1917857854675149
866,5b8b8ae597cb5971b469923770e614b7fef30210,Simon Willison,2020-09-29 19:16:30+00:00,"Handle \r\n correctly in CSS escapes, refs #980",False,6,5,1,1.0,1.0,1.0,19394,8487,15995,744,3.0503432494279177,55.702258409271835,51.91428571428571,82.92857142857143,575.3573564025446,2.9490823418888135,3618.822224498457,201.0456791388031,0.1917857854675149
867,97c71c3a3b2916bffa6081995ebccc2fa137c6d5,Simon Willison,2020-09-30 21:51:10+00:00,"Fixed test for column sorting, refs #981",False,44,36,8,0.0,1.0,1.0,19422,8487,16023,744,3.0503432494279177,55.702258409271835,51.91428571428571,82.92857142857143,575.3573564025446,2.9490823418888135,3618.822224498457,201.0456791388031,0.1917857854675149
868,0f2626868bd635f44f2c04d57a5e8ced1229737e,Simon Willison,2020-09-30 23:01:37+00:00,"Much improved column menu display logic, refs #981

* Menu links now take into account existing querystring
* No longer shows facet option for primary key columns
* Conditionally displays sort/sort-desc if already sorted
* Does not show facet option if already faceted by this",False,98,82,16,0.2608695652173913,0.3333333333333333,0.8840579710144928,19454,8490,16055,744,3.051487414187643,55.697835645509144,51.94285714285714,83.0,575.972260577711,2.9492004686273727,3625.1757161262026,201.39865089590006,0.1919907535259037
869,5a184a5d211d3226e0417ee5cf8476cd887cd35e,Simon Willison,2020-10-06 00:32:10+00:00,"Display column type in column action menu, closes #993

Also added new documented db.table_column_details() introspection method.",False,131,103,28,0.07407407407407407,0.37037037037037035,0.5370370370370371,19509,8512,16104,745,3.0536529680365296,55.67824621812528,52.0,83.08571428571429,576.7776879246192,2.948230629165193,3630.485336155417,201.693629786412,0.19225922930820644
870,e02f6c1300a5b5d2fd5fd6d6ed3987ebb7c5e5b2,Simon Willison,2020-10-06 21:02:30+00:00,Tests for db.table_columns() and db.table_column_details(),False,197,196,1,1.0,1.0,0.0,19704,8522,16295,745,3.0489749430523916,55.622831256164616,52.05714285714286,83.17142857142858,577.3375432009897,2.9481516298235206,3631.3298213692,201.74054563162215,0.19244584773366327
871,b37431976cdc39ad46ae4fc60b12be6e1f993bd2,Simon Willison,2020-10-07 22:16:41+00:00,custom pages tests templates now in repo,False,48,15,33,1.0,0.0,0.0,19676,8509,16267,745,3.0489749430523916,55.668834094228124,51.885714285714286,82.74285714285715,574.4284299388305,2.9455525514825065,3625.10112325983,201.3945068477683,0.19147614331294355
872,507042581794a48b71b5a4b5e0f1ddcde6783c00,Simon Willison,2020-10-07 22:51:11+00:00,"Fix handling of nested custom page wildcard paths, closes #996",False,15,11,4,,,0.0,19681,8510,16272,745,3.0489749430523916,55.666304331865575,51.94285714285714,82.82857142857142,575.2442120348079,2.9451145460916712,3630.3569389975364,201.6864966109742,0.1917480706782693
873,b47ac37114d522d8f295b2b7cbe70ab094fc2608,Simon Willison,2020-10-07 22:51:25+00:00,Applied Black,False,13,8,5,,,,19684,8510,16275,745,3.0489749430523916,55.666304331865575,51.94285714285714,82.82857142857142,575.2442120348079,2.9451145460916712,3630.3569389975364,201.6864966109742,0.1917480706782693
874,86823ae6f7b7401455e8bff254e58715cf5d726c,Simon Willison,2020-10-08 23:16:55+00:00,"Default to Uvicorn workers=1, refs #999",False,18,4,14,1.0,0.0,1.0,19674,8509,16265,744,3.0489749430523916,55.652321311617186,51.94285714285714,82.82857142857142,575.2442120348079,2.9451145460916712,3630.3569389975364,201.6864966109742,0.1917480706782693
875,107d0887a61d2fb3d61e9471863ad665633c321b,Simon Willison,2020-10-08 23:22:11+00:00,datasette publish heroku now uses Python 3.8.6,False,2,1,1,,,,19674,8509,16265,744,3.0489749430523916,55.652321311617186,51.94285714285714,82.82857142857142,575.2442120348079,2.9451145460916712,3630.3569389975364,201.6864966109742,0.1917480706782693
876,e4554c37b7c13c014b9374a512641916131d47a9,Simon Willison,2020-10-08 23:30:46+00:00,"datasette publish heroku --tar option, closes #969",False,31,27,4,0.19047619047619047,0.6666666666666666,0.19047619047619047,19694,8513,16286,744,3.0489749430523916,55.63643918035541,51.97142857142857,82.87142857142857,575.4706955070953,2.9451145460916712,3631.0363894143984,201.72424385635546,0.1918235651690318
877,7249ac5ca04b5ddc6517750326ee7e522cc49145,Simon Willison,2020-10-09 01:43:53+00:00,"Support OPTIONS without 500, closes #1001",False,9,9,0,1.0,1.0,0.6666666666666666,19703,8519,16292,744,3.044318181818182,55.633365257621534,52.02857142857143,82.95714285714286,576.3497105661028,2.9450407591565706,3636.341805602016,202.01898920011197,0.19211657018870096
878,8f97b9b58e77f82fef1f10e9c9f6754b993544b6,Simon Willison,2020-10-09 16:11:24+00:00,"datasette.client internal requests mechanism

Closes #943

* Datasette now requires httpx>=0.15
* Support OPTIONS without 500, closes #1001
* Added internals tests for datasette.client methods
* Datasette's own test mechanism now uses httpx to simulate requests
* Tests simulate HTTP 1.1 now
* Added base_url in a bunch more places
* Mark some tests as xfail - will remove that when new httpx release ships: #1005",False,263,163,100,1.0,1.0,1.0,19767,8538,16329,748,2.987791342952275,56.00500575267597,51.225352112676056,81.67605633802818,567.0542775506891,2.9171415226078157,3576.8343443932986,198.71301913296102,0.1890180925168964
879,896cc2c6acfefa65c54a162831e7f09159603988,Simon Willison,2020-10-09 16:26:17+00:00,"Replace MockRequest with Request.fake()

Close #1004",False,28,10,18,0.0,0.0,0.0,19759,8530,16321,748,2.988876529477197,55.78279321516026,51.871428571428574,82.75714285714285,574.9334847299228,2.94452925864507,3627.710409670284,201.53946720390465,0.19164449490997432
880,1bdbc8aa7f4fd7a768d456146e44da86cb1b36d1,Simon Willison,2020-10-09 17:57:55+00:00,Datasette now supports Python 3.9,False,2,2,0,,,,19760,8530,16322,748,2.988876529477197,55.78279321516026,51.871428571428574,82.75714285714285,574.9334847299228,2.94452925864507,3627.710409670284,201.53946720390465,0.19164449490997432
881,c13d184704a74654befe061500f55ca61f29ef1b,Simon Willison,2020-10-10 00:33:13+00:00,"Emergency fix for broken links in 0.50, closes #1010",False,53,30,23,1.0,1.0,1.0,19767,8535,16327,748,2.986666666666667,55.78279321516026,51.9,82.75714285714285,574.9992033051208,2.944285360516723,3626.6996819488777,201.48331566382652,0.19166640110170696
882,9f6dd985bc0eff70f8a9ce65c6578bc43d2e172b,Simon Willison,2020-10-10 00:39:45+00:00,"Fix broken CSV/JSON export on query page, refs #1010",False,9,8,1,1.0,1.0,1.0,19774,8540,16332,748,2.9844617092119865,55.78279321516026,51.97142857142857,82.88571428571429,576.2869238336327,2.944403529591181,3635.788907878809,201.9882726599338,0.1920956412778776
883,7239175f63d150356a7f795cc4cabf7764d2cf68,Simon Willison,2020-10-10 03:51:56+00:00,"Fixed broken column header links, closes #1011",False,18,9,9,,,,19774,8540,16332,748,2.9844617092119865,55.78314950941292,51.92857142857143,82.82857142857142,575.7220595768938,2.9368996789880777,3614.5250290153585,200.80694605640878,0.19190735319229796
884,7e7064385270dda09dc2aa396d290369a667a03f,Simon Willison,2020-10-10 23:39:38+00:00,"Removed --debug option, which didn't do anything - closes #814",False,10,1,9,1.0,0.5,0.5,19769,8539,16327,748,2.983351831298557,55.79342410934262,51.885714285714286,82.75714285714285,575.285136605136,2.9370980916864906,3613.203683089975,200.73353794944302,0.19176171220171204
885,e34e84901d084ba3aaccecea020c5f9811865c8f,Simon Willison,2020-10-11 00:18:45+00:00,"Link: HTTP header pagination, closes #1014",False,72,71,1,0.7,0.7,0.7,19807,8559,16360,748,2.984478935698448,55.77705784139453,51.92857142857143,82.84285714285714,576.1102932081451,2.9372831598252147,3618.880315209626,201.04890640053475,0.19203676440271508
886,f3a087a578ae2c418103ad144b08c2fc8ad9c31d,Simon Willison,2020-10-14 03:44:18+00:00,"Edit SQL button on canned queries, closes #1019",False,89,85,4,0.4883720930232558,0.4883720930232558,0.7674418604651163,19881,8586,16424,752,2.9834070796460175,55.78094338705959,52.142857142857146,83.2,579.2292078529431,2.944895703532748,3644.8551225875976,202.4919512548665,0.1930764026176477
887,b4a8e70957517ff44d6a9121422d266a3c5fd664,dependabot-preview[bot],2020-10-14 21:51:34+00:00,"Update asgiref requirement from ~=3.2.10 to >=3.2.10,<3.4.0 (#1018)

Updates the requirements on [asgiref](https://github.com/django/asgiref) to permit the latest version.
- [Release notes](https://github.com/django/asgiref/releases)
- [Changelog](https://github.com/django/asgiref/blob/master/CHANGELOG.txt)
- [Commits](https://github.com/django/asgiref/compare/3.2.10...3.3.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,19881,8586,16424,752,2.9834070796460175,55.78094338705959,52.142857142857146,83.2,579.2292078529431,2.944895703532748,3644.8551225875976,202.4919512548665,0.1930764026176477
888,7f2edb5dd2074dce0090659021991695a984844b,dependabot-preview[bot],2020-10-14 21:52:07+00:00,"Update janus requirement from <0.6,>=0.4 to >=0.4,<0.7 (#1017)

Updates the requirements on [janus](https://github.com/aio-libs/janus) to permit the latest version.
- [Release notes](https://github.com/aio-libs/janus/releases)
- [Changelog](https://github.com/aio-libs/janus/blob/master/CHANGES.rst)
- [Commits](https://github.com/aio-libs/janus/compare/v0.4.0...v0.6.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,19881,8586,16424,752,2.9834070796460175,55.78094338705959,52.142857142857146,83.2,579.2292078529431,2.944895703532748,3644.8551225875976,202.4919512548665,0.1930764026176477
889,a4def0b8dba68fcaf1d52013212f9e2b93371fbe,Simon Willison,2020-10-19 22:37:43+00:00,Clearer _sort_by_desc comment,False,2,1,1,,,,19881,8586,16424,752,2.9834070796460175,55.78094338705959,52.142857142857146,83.2,579.2292078529431,2.944895703532748,3644.8551225875976,202.4919512548665,0.1930764026176477
890,6aa5886379dd9017215904fb28567b80018902f9,Simon Willison,2020-10-19 22:37:43+00:00,"--load-extension=spatialite shortcut, closes #1028",False,60,54,6,0.6190476190476191,0.6190476190476191,0.6190476190476191,19921,8608,16453,756,2.9823594266813673,55.74462526854968,52.25714285714286,83.37142857142857,580.4831251477627,2.944533382885844,3649.1887142619503,202.73270634788608,0.19349437504925426
891,310c3a3e059b89d05a38e373744928c1b54e54db,Simon Willison,2020-10-20 00:33:59+00:00,"New datasette.urls URL builders, refs #904",False,108,64,44,1.0,0.9411764705882353,0.7647058823529411,19942,8620,16467,757,2.9682713347921226,55.75687536934371,52.25714285714286,83.37142857142857,580.5339951671949,2.9445661508737357,3649.8454523947657,202.76919179970915,0.19351133172239832
892,0d1763fb2fdabcdde321646721703df1dfcb8597,Simon Willison,2020-10-20 04:24:47+00:00,"More datasette.urls usage, refs #1025",False,36,26,10,0.8333333333333334,0.8333333333333334,0.8333333333333334,19950,8626,16473,757,2.965065502183406,55.75666047604482,52.285714285714285,83.41428571428571,580.9434403846967,2.944361063742043,3652.4873322479625,202.91596290266455,0.19364781346156557
893,091441a4449beae559a8c0d007376dc85d3aa624,Simon Willison,2020-10-20 05:21:19+00:00,"Fixed remaining places that needed datasette.urls, closes #1025",False,29,15,14,0.0,0.0,0.3333333333333333,19951,8625,16474,757,2.965065502183406,55.756337274244615,52.285714285714285,83.41428571428571,580.9434403846967,2.944361063742043,3652.4873322479625,202.91596290266455,0.19364781346156557
894,cab8e65261b117b493af6a0b21aa2e1ae4564419,Nicholas Bollweg,2020-10-23 20:53:07+00:00,Add minimum supported python (#1044),False,1,1,0,,,,19952,8625,16475,757,2.965065502183406,55.756337274244615,52.285714285714285,83.41428571428571,580.9434403846967,2.944361063742043,3652.4873322479625,202.91596290266455,0.19364781346156557
895,29a977a74e19f8f03c3620786ef007430a3d112b,Simon Willison,2020-10-24 19:03:24+00:00,New app_client_base_url_prefix fixture,False,67,36,31,1.0,1.0,1.0,19957,8628,16478,757,2.9629225736095965,55.752753905545546,52.285714285714285,83.41428571428571,580.9434403846967,2.944361063742043,3652.4873322479625,202.91596290266455,0.19364781346156557
896,7f728d4a37be632ead59e3d09bc2f3a332f298f1,Simon Willison,2020-10-24 19:21:23+00:00,"Extra tests for datasette.urls, refs #1025",False,88,88,0,1.0,1.0,0.46875,20045,8671,16550,759,2.948051948051948,55.7614436903174,51.91549295774648,82.87323943661971,575.7402903414805,2.920496823407648,3604.767788612716,200.26487714515082,0.19191343011382686
897,10c35bd371faaa0f3c98067c08f26334c9f5ea52,Simon Willison,2020-10-24 20:03:40+00:00,"urls.static_plugins() method, closes #1033

Also documented how to package static assets and templates in plugins, closes #575",False,72,67,5,1.0,1.0,0.0,20073,8677,16575,759,2.9438444924406046,55.72649895826569,51.943661971830984,82.91549295774648,576.0111811716555,2.920225967502989,3605.0439013280456,200.28021674044695,0.1920037270572185
898,5a1519796037105bc20bcf2f91a76e022926c204,Simon Willison,2020-10-24 23:09:18+00:00,"/db/table/-/blob/pk/column.blob download URL, refs #1036",False,249,183,66,0.28846153846153844,1.0,0.0,20171,8704,16668,764,2.982683982683983,55.74211741478064,52.267605633802816,83.3943661971831,580.8045562488466,2.917422517994499,3633.2812762567432,201.84895979204128,0.19360151874961556
899,5db7ae3ce165ded57c7fb1cfbdb3258b1cf06c10,Simon Willison,2020-10-25 00:13:14+00:00,"Link to BLOB downloads, closes #1046",False,34,30,4,0.46153846153846156,0.46153846153846156,0.0,20186,8708,16681,764,2.978401727861771,55.741187059173484,52.29577464788732,83.46478873239437,581.4219010654423,2.9177841750091473,3639.519608060274,202.19553378112627,0.19380730035514748
900,f5dbe61a4568c0915ec6be820095c2960cf0857c,Simon Willison,2020-10-26 05:06:20+00:00,"-o now opens to most relevant page, closes #976",False,51,47,4,0.8571428571428571,0.8571428571428571,0.42857142857142855,20229,8735,16718,766,2.978448275862069,55.70976943602863,52.45070422535211,83.71830985915493,583.4069512606815,2.9254824829566375,3652.875342592377,202.9375190329098,0.19446898375356048
901,e5f5034bcdc71e4bc62a6a155ca60eb41910c335,Simon Willison,2020-10-27 19:39:55+00:00,Fixed broken footer test,False,2,1,1,,,,20229,8734,16718,766,2.978448275862069,55.70976943602863,52.45070422535211,83.71830985915493,583.4069512606815,2.9254824829566375,3652.875342592377,202.9375190329098,0.19446898375356048
902,c3aba4aa986fdba39705a35de02d446db80a26b8,Simon Willison,2020-10-27 20:39:57+00:00,"--cors for /name.db downloads, refs #1057",False,24,19,5,0.6923076923076923,0.6923076923076923,0.3076923076923077,20243,8738,16732,766,2.9838362068965516,55.69606064878044,52.49295774647887,83.80281690140845,584.0085839056317,2.926252548951293,3655.87623437616,203.10423524311994,0.1946695279685439
903,7d9fedc176717a7e3d22a96575ae0aada5a65440,Simon Willison,2020-10-28 03:15:41+00:00,"Cascading permissions for .db download, closes #1058",False,25,20,5,0.2,0.0,0.2,20258,8742,16747,767,2.988146551724138,55.67343505981392,52.605633802816904,83.97183098591549,585.1499392522705,2.9430994977154032,3664.0417618920637,203.55787566067016,0.19504997975075686
904,879617265262024edd93722adcdcb6c21e57f5f7,dependabot-preview[bot],2020-10-28 17:08:27+00:00,"Update aiofiles requirement from <0.6,>=0.4 to >=0.4,<0.7 (#1059)

Updates the requirements on [aiofiles](https://github.com/Tinche/aiofiles) to permit the latest version.
- [Release notes](https://github.com/Tinche/aiofiles/releases)
- [Commits](https://github.com/Tinche/aiofiles/compare/v0.4.0...v0.6.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,20258,8742,16747,767,2.988146551724138,55.67343505981392,52.605633802816904,83.97183098591549,585.1499392522705,2.9430994977154032,3664.0417618920637,203.55787566067016,0.19504997975075686
905,cefd058c1c216a184bb63c79abba66893977c18e,Simon Willison,2020-10-29 03:38:15+00:00,"New explicit versioning mechanism

Closes #1054",False,2474,14,2460,0.7900390625,0.7529296875,0.35546875,17821,7791,15207,576,2.8346545866364665,56.413663273522964,49.0,77.27536231884058,533.1803162411528,2.7911807357846374,3184.7576318715055,176.93097954841696,0.17772677208038423
906,89519f9a3765bce7544d83d872db987c75757d9a,Simon Willison,2020-10-29 04:05:40+00:00,"Fixed bug with download of BLOB null, refs #1050",False,38,28,10,0.0,1.0,0.0,17839,7792,15225,576,2.836919592298981,56.41122361220389,49.028985507246375,77.31884057971014,533.5919809550094,2.7907532809727176,3187.497584515249,177.08319913973605,0.17786399365166977
907,78b3eeaad9189eb737014f53212082684f4bb0d4,Simon Willison,2020-10-29 22:01:38+00:00,".blob output renderer

* _blob_hash= checking plus refactored to use new BadRequest class, refs #1050
* Replace BlobView with new .blob renderer, closes #1050
* .blob downloads on arbitrary queries, closes #1051",False,286,165,121,0.3958333333333333,0.7291666666666666,1.0,17894,7830,15269,574,2.822998872604284,56.444087433347136,48.614285714285714,76.54285714285714,527.2241389570463,2.7914320918217563,3139.2501259646683,174.40278477581484,0.1757413796523488
908,178b7e8749f14300363af5961e9f8964595264d9,Simon Willison,2020-10-29 22:47:32+00:00,".csv now links to .blob downloads

Closes #1063, closes #1034",False,78,65,13,0.2765957446808511,0.2765957446808511,0.9574468085106383,17946,7852,15315,576,2.8211473565804273,56.40444560394862,48.871428571428574,76.94285714285714,530.4634933786713,2.790269607763716,3154.7491586376236,175.2638421465346,0.17682116445955717
909,1a861be19e326e0c88230a711a1b6536366697d7,Simon Willison,2020-10-29 22:58:40+00:00,"Fixed test_max_csv_mb test that I just broke, refs #1063",False,6,4,2,1.0,1.0,1.0,17948,7852,15317,576,2.8211473565804273,56.40120889057488,48.91428571428571,76.98571428571428,530.8097872955457,2.7974124649065732,3159.3269784216463,175.51816546786927,0.17693659576518195
910,18a64fbb29271ce607937110bbdb55488c43f4e0,Simon Willison,2020-10-30 03:45:15+00:00,"Navigation menu plus menu_links() hook

Closes #1064, refs #690.",False,206,193,13,0.4583333333333333,0.9583333333333334,0.9583333333333334,18039,7890,15393,576,2.814317673378076,56.626460885348514,48.352112676056336,76.02816901408451,524.0620232906178,2.7711011475204628,3116.9723454227114,173.16513030126174,0.1746873410968727
911,561c1d2d36a89675764e4410a2a127323402eaa3,Simon Willison,2020-10-30 03:51:37+00:00,"Show logout link if they are logged in AND have ds_actor cookie

Otherwise an expired cookie will still cause the logout link to show.",False,2,1,1,,,,18039,7890,15393,576,2.815436241610738,56.626460885348514,48.36619718309859,76.04225352112677,524.2088136591434,2.7710032338351422,3117.832971006891,173.21294283371614,0.17473627121971455
912,8a4639bc43a016a1f8fae6a07d5b5f7abe0074e8,Simon Willison,2020-10-30 05:14:33+00:00,Applied Black,False,4,3,1,0.0,0.0,0.0,18041,7890,15395,576,2.815436241610738,56.626460885348514,48.36619718309859,76.04225352112677,524.2088136591434,2.7710032338351422,3117.832971006891,173.21294283371614,0.17473627121971455
913,2f7731e9e5ff9b324beb5039fbe2be55d704a184,Simon Willison,2020-10-30 05:16:41+00:00,"table_actions() plugin hook plus menu, closes #1066

Refs #690",False,180,166,14,0.9574468085106383,0.9574468085106383,0.7021276595744681,18104,7926,15444,576,2.8084632516703785,56.58972224570346,48.45070422535211,76.16901408450704,525.3738578646312,2.7709026954980462,3123.1076338406024,173.50597965781125,0.17512461928821046
914,0e1e89c6ba3d0fbdb0823272952cf356f3016def,Simon Willison,2020-10-30 05:35:23+00:00,"Release 0.51a1

Refs #1056, #1039, #998, #1045, #1033, #1036, #1034, #976, #1057, #1058, #1053, #1064, #1066",False,21,20,1,,,,18104,7926,15444,576,2.8084632516703785,56.58972224570346,48.45070422535211,76.16901408450704,525.3738578646312,2.7709026954980462,3123.1076338406024,173.50597965781125,0.17512461928821046
915,222f79bb4c6e2aa5426cc5ff25f1b2461e18a300,Simon Willison,2020-10-30 15:41:57+00:00,"debug-menu permission, closes #1068

Also added tests for navigation menu logic.",False,62,58,4,0.10344827586206896,0.1724137931034483,0.1724137931034483,18149,7952,15481,580,2.810901001112347,56.69732977553853,48.50704225352113,76.3943661971831,527.8611614666705,2.776237369944519,3147.998974001436,174.88883188896872,0.17595372048889024
916,81dea4b07ab2b6f4eaaf248307d2b588472054a1,Simon Willison,2020-10-30 17:47:18+00:00,"load_template() plugin hook

Closes #1042",False,85,73,12,0.7241379310344828,0.034482758620689655,0.20689655172413793,18188,7982,15511,581,2.811529933481153,56.68565925745818,48.647887323943664,76.64788732394366,529.9914109306617,2.775520403496867,3163.2519737142247,175.7362207619014,0.17666380364355394
917,0cb29498c796267c5e4a5545ede8058b7ca03a94,Simon Willison,2020-10-30 17:54:47+00:00,"Fixed bug with python tests/fixtures.py

https://github.com/simonw/datasette/runs/1333357885?check_suite_focus=true",False,1,1,0,,,,18189,7983,15512,581,2.811529933481153,56.685103427889246,48.647887323943664,76.64788732394366,529.9914109306617,2.775520403496867,3163.2519737142247,175.7362207619014,0.17666380364355394
918,59ab24af6bd9b517b53162fbffac1d0116100e0d,Simon Willison,2020-10-30 17:56:02+00:00,"Release 0.51a2

Refs #1068, #1042, #1054",False,10,9,1,,,,18189,7983,15512,581,2.811529933481153,56.685103427889246,48.647887323943664,76.64788732394366,529.9914109306617,2.775520403496867,3163.2519737142247,175.7362207619014,0.17666380364355394
919,f0a740ac21cba11ded8717f49d664f9549cd2f83,Simon Willison,2020-10-31 16:21:22+00:00,"Remove load_plugin hook - closes #1073

Refs #1042

This reverts commit 81dea4b07ab2b6f4eaaf248307d2b588472054a1.",False,84,11,73,0.27586206896551724,0.9655172413793104,0.7931034482758621,18149,7952,15481,580,2.810901001112347,56.69732977553853,48.50704225352113,76.3943661971831,527.8611614666705,2.776237369944519,3147.998974001436,174.88883188896872,0.17595372048889024
920,d6db47f5c19f77e735279762d99720dc644bff48,Simon Willison,2020-10-31 17:36:46+00:00,"Deploy demo plugins to latest.datasette.io, refs #1074",False,36,30,6,0.045454545454545456,0.9545454545454546,1.0,18172,7959,15502,582,2.810901001112347,56.70711199589026,48.53521126760563,76.43661971830986,528.1318737513601,2.7756182707338706,3149.0947818839877,174.94971010466605,0.17604395791712013
921,b84cfe1b08ec3a881767e30122b7d4c0fa03f9e4,Simon Willison,2020-10-31 17:40:09+00:00,"Confirm table actions work on views, closes #1067",False,9,5,4,,,,18173,7960,15503,582,2.810901001112347,56.70659973583906,48.53521126760563,76.43661971830986,528.1318737513601,2.7756182707338706,3149.0947818839877,174.94971010466605,0.17604395791712013
922,11eb1e026f3d84cb771f8d6e204939cbaee130cd,Simon Willison,2020-10-31 18:16:28+00:00,"datasette.urls.table(..., format=""json""), closes #1035

Also improved tests for datasette.urls and added format= to some other methods",False,132,92,40,0.8571428571428571,0.8571428571428571,0.0,18223,7980,15550,581,2.81465038845727,56.63733866687464,48.67605633802817,76.64788732394366,530.262883278176,2.774927656261206,3169.5703324274054,176.08724069041148,0.17675429442605872
923,c1d386ef67786f07d69e566b8e054e92949a844f,Simon Willison,2020-10-31 18:43:36+00:00,"Refactor Urls into url_builder.py

Refs #1026",False,120,61,59,,,,18225,7983,15552,581,2.81465038845727,56.512285356807276,48.041666666666664,75.58333333333333,521.2970298482569,2.758555195625699,3109.292360692737,172.73846448292986,0.17376567661608566
924,7a67bc7a569509d65b3a8661e0ad2c65f0b09166,Simon Willison,2020-10-31 19:11:40+00:00,"datasette.urls methods will not apply base_url prefix twice, refs #1026",False,87,70,17,1.0,0.7674418604651163,0.32558139534883723,18276,8027,15596,581,2.811049723756906,56.40625065049437,48.125,75.73611111111111,522.318632130604,2.766085256144891,3114.4362698488494,173.02423721382502,0.17410621071020135
925,84bc7244c106ab6175b8315a2d917cf29ea53c4d,Simon Willison,2020-10-31 19:29:42+00:00,"datasette.client now applies base_url, closes #1026",False,69,56,13,0.17391304347826086,1.0,0.5652173913043478,18307,8051,15624,581,2.8123620309050774,56.25531437738981,48.236111111111114,75.88888888888889,523.2114125268055,2.7717712069535803,3117.4856481498123,173.19364711943408,0.17440380417560186
926,bf18b9ba175a7b25fb8b765847397dd6efb8bb7b,Simon Willison,2020-10-31 19:47:42+00:00,"Stop using plugin-example.com, closes #1074",False,30,15,15,,,,18307,8051,15624,581,2.8123620309050774,56.25531437738981,48.236111111111114,75.88888888888889,523.2114125268055,2.7717712069535803,3117.4856481498123,173.19364711943408,0.17440380417560186
927,a4ca26a2659d21779adf625183061d8879954c15,Simon Willison,2020-10-31 20:35:47+00:00,Address PrefixedUrlString bug in #1075,False,18,16,2,0.7777777777777778,0.7777777777777778,0.7777777777777778,18321,8059,15634,582,2.8105726872246697,56.248604270823506,48.333333333333336,76.04166666666667,524.6947158613872,2.771340243161782,3128.1823143549345,173.78790635305197,0.17489823862046244
928,6bb41c4b33dbd1015c181cd43465b645298c3c88,Simon Willison,2020-10-31 20:48:39+00:00,Fix for test_paginate_using_link_header,False,1,1,0,0.0,1.0,1.0,18322,8060,15635,582,2.8105726872246697,56.248604270823506,48.333333333333336,76.04166666666667,524.6947158613872,2.771340243161782,3128.1823143549345,173.78790635305197,0.17489823862046244
929,d53d747e6a9dbc294c0565bc5eefe9aa16989316,Simon Willison,2020-10-31 22:21:49+00:00,"Release 0.51

Refs #1014, #1016, #1019, #1023, #1027, #1028, #1033, #1034, #1036, #1039

Closes #1076",False,75,48,27,,,,18322,8060,15635,582,2.8105726872246697,56.248604270823506,48.333333333333336,76.04166666666667,524.6947158613872,2.771340243161782,3128.1823143549345,173.78790635305197,0.17489823862046244
930,4785172bbcb9edd22b6955b415cd18cd4d83f0aa,Simon Willison,2020-11-01 03:33:47+00:00,Release 0.51.1,False,9,8,1,,,,18322,8060,15635,582,2.8105726872246697,56.248604270823506,48.333333333333336,76.04166666666667,524.6947158613872,2.771340243161782,3128.1823143549345,173.78790635305197,0.17489823862046244
931,7b194920702358b65739a6e8bd3adb765ffa346a,Simon Willison,2020-11-02 18:27:25+00:00,"database_actions() plugin hook, closes #1077",False,105,97,8,0.9210526315789473,0.9473684210526315,0.6842105263157895,18372,8090,15674,582,2.805708013172338,56.22247684949136,48.416666666666664,76.20833333333333,526.2053018086112,2.7718462514647113,3137.0555149397205,174.28086194109562,0.1754017672695371
932,2a981e2ac1d13125973904b777d00ea75e8df4e6,Simon Willison,2020-11-11 23:44:04+00:00,"Blank foreign key labels now show as hyphens, closes #1086",False,110,73,37,0.28125,1.0,1.0,18408,8094,15708,582,2.8092105263157894,56.22007565420201,48.5,76.33333333333333,527.4647303287185,2.7713244756452386,3144.884477450494,174.71580430280528,0.17582157677623952
933,e8e0a6f284ca953b2980186c4356594c07bd1929,Simon Willison,2020-11-12 00:02:58+00:00,"Use FTS4 in fixtures

Closes #1081",False,37,21,16,0.0,1.0,1.0,18413,8094,15713,582,2.8092105263157894,56.21997523816017,48.513888888888886,76.33333333333333,527.4956314457777,2.771102411541959,3143.9705993669813,174.66503329816567,0.17583187714859258
934,253f2d9a3cc96edcb47b33c6971300d0ff15d4dc,Simon Willison,2020-11-12 04:36:44+00:00,"Use correct QueryInterrupted exception on row page, closes #1088",False,3,1,2,,,,18412,8094,15712,582,2.8092105263157894,56.220075635614506,48.513888888888886,76.33333333333333,527.4956314457777,2.771102411541959,3143.9705993669813,174.66503329816567,0.17583187714859258
935,30e64c8d3b3728a86c3ca42a75322cc3feb5b0c8,Simon Willison,2020-11-15 23:24:22+00:00,"Use f-strings in place of .format()

Code transformed like so:

    pip install flynt
    flynt .
    black .",False,490,213,277,1.0,0.4375,0.609375,18348,8091,15648,582,2.8092105263157894,56.236460058430346,48.5,76.29166666666667,527.1424369582426,2.770552558169525,3138.7837520294775,174.3768751127488,0.17571414565274757
936,3159263f05ac4baf968929d59384d9223a539071,Simon Willison,2020-11-24 20:01:47+00:00,"New --setting to replace --config, closes #992",False,97,93,4,0.39655172413793105,0.41379310344827586,0.41379310344827586,18436,8143,15719,587,2.8137254901960786,56.163234728918866,48.708333333333336,76.63888888888889,529.479958019031,2.7809840633926974,3148.2419911155953,174.90233283975536,0.17649331933967705
937,2a3d5b720b96d5ad79ccad655f6575bb71aae302,Simon Willison,2020-11-24 20:19:14+00:00,"Redirect /-/config to /-/settings, closes #1103",False,57,43,14,0.5294117647058824,0.5294117647058824,0.7647058823529411,18465,8153,15744,587,2.8097826086956523,56.163234728918866,48.763888888888886,76.72222222222223,530.3162619357169,2.7809404850112442,3152.865255931325,175.15918088507362,0.1767720873119057
938,33eadb8782d5b3e179df7dfa08f6d376ded2acd3,Simon Willison,2020-11-24 20:37:29+00:00,"config.json is now settings.json, closes #1104",False,39,30,9,0.6363636363636364,0.6363636363636364,0.6363636363636364,18486,8168,15761,587,2.809110629067245,56.13439966961254,48.875,76.93055555555556,531.9940528954263,2.7811615341575218,3163.1626967199454,175.73126092888594,0.17733135096514213
939,5a77f7a6494c74372bedfef6185e1beed7bea5dc,Simon Willison,2020-11-24 21:22:33+00:00,"Updated docs renaming config to settings

- config.html is now settings.html
- ConfigOption in app.py is now Setting
- updated documentation unit tests

Refs #1106",False,250,131,119,,,,18480,8168,15755,587,2.809110629067245,56.13439966961254,48.875,76.93055555555556,531.9940528954263,2.7811615341575218,3163.1626967199454,175.73126092888594,0.17733135096514213
940,f2e2bfcdd9ad4891f3f66c9104c09943d943ffe4,Simon Willison,2020-11-24 22:06:32+00:00,"Renamed datasette.config() to .setting(), closes #1107",False,146,86,60,1.0,1.0,0.0,18492,8171,15765,587,2.80715059588299,56.07036316506485,48.90277777777778,76.97222222222223,532.2197212987049,2.7805001584961455,3163.6203091549523,175.75668384194194,0.177406573766235
941,37d18a5bce08c9ee53c080f613bae84fc2ccc853,Simon Willison,2020-11-25 03:05:35+00:00,"datasette publish cloudrun --apt-get-install, closes #1110",False,116,98,18,0.0,0.7837837837837838,0.08108108108108109,18571,8194,15839,587,2.8073593073593073,56.019341830603516,49.013888888888886,77.13888888888889,533.3667858350076,2.780117256133815,3167.8629444126564,175.9923858007033,0.17778892861166926
942,a8e66f9065fb55a3863cc05dfb2ce52f9618cdb7,Simon Willison,2020-11-28 23:54:35+00:00,"Release 0.52

Refs #992, #1103, #1104, #1107, #1077, #1110, #1089, #1086, #1088, #1084",False,29,28,1,,,,18571,8194,15839,587,2.8073593073593073,56.019341830603516,49.013888888888886,77.13888888888889,533.3667858350076,2.780117256133815,3167.8629444126564,175.9923858007033,0.17778892861166926
943,e800ffcf7cc6a915eb554b369c654f87162575e5,Simon Willison,2020-11-29 17:37:43+00:00,"/usr/local/lib/mod_spatialite.so

Closes #1114",False,1,1,0,,,,18572,8194,15840,587,2.8073593073593073,56.01922715597428,49.013888888888886,77.13888888888889,533.3667858350076,2.780117256133815,3167.8629444126564,175.9923858007033,0.17778892861166926
944,deb0be4ae56f191f121239b29e83dd53b62d6305,Simon Willison,2020-11-29 19:30:17+00:00,"Fix bug where compound foreign keys produced broken links, closes #1098",False,117,88,29,0.0,0.5185185185185185,1.0,18631,8201,15898,589,2.8095238095238093,56.010910253470485,49.06944444444444,77.22222222222223,533.9244380522405,2.780056206072765,3168.703570040773,176.03908722448753,0.17797481268408022
945,242bc89fdf2e775e340d69a4e851b3a9accb31c6,Simon Willison,2020-11-29 19:38:29+00:00,"Release 0.52.1

Refs #1098, #1102, #1114",False,11,10,1,,,,18631,8201,15898,589,2.8095238095238093,56.010910253470485,49.06944444444444,77.22222222222223,533.9244380522405,2.780056206072765,3168.703570040773,176.03908722448753,0.17797481268408022
946,09033c08bec8555e0e893e077afa10a7a75d7d35,Simon Willison,2020-11-29 20:13:16+00:00,"Suggest --load-extension=spatialite, closes #1115",False,41,32,9,0.0,1.0,1.0,18654,8214,15921,589,2.811688311688312,55.971759346630364,49.18055555555556,77.43055555555556,535.2882341756691,2.788495526913815,3177.749467227861,176.5416370682146,0.1784294113918898
947,4777362bf2692bc72b221ec47c3e6216151d1b89,Simon Willison,2020-11-29 20:19:24+00:00,"Work around CI bug with ensure_eventloop, refs #1115",False,2,1,1,,,0.0,18654,8214,15921,589,2.811688311688312,55.971759346630364,49.18055555555556,77.43055555555556,535.2882341756691,2.788495526913815,3177.749467227861,176.5416370682146,0.1784294113918898
948,c745c2715ab5933d7629a76bab4684632383f807,Simon Willison,2020-11-29 20:27:34+00:00,Moved comment for clarity,False,2,1,1,,,,18654,8214,15921,589,2.811688311688312,55.971759346630364,49.18055555555556,77.43055555555556,535.2882341756691,2.788495526913815,3177.749467227861,176.5416370682146,0.1784294113918898
949,37f87b5e52e7f8ddd1c4ffcf368bd7a62a406a6d,Simon Willison,2020-11-30 20:01:15+00:00,"Support for generated columns, closes #1116",False,84,76,8,0.0,1.0,1.0,18722,8226,15987,589,2.80972972972973,55.97003767744971,49.236111111111114,77.45833333333333,535.6965945174941,2.7952018630450275,3213.0948228651205,178.50526793695127,0.17856553150583143
950,dea3c508b39528e566d711c38a467b3d372d220b,Simon Willison,2020-11-30 20:09:32+00:00,"Revert ""Support for generated columns, closes #1116"" - it failed CI

This reverts commit 37f87b5e52e7f8ddd1c4ffcf368bd7a62a406a6d.",False,84,8,76,1.0,0.0,0.0,18654,8214,15921,589,2.811688311688312,55.971759346630364,49.18055555555556,77.43055555555556,535.2882341756691,2.788495526913815,3177.749467227861,176.5416370682146,0.1784294113918898
951,49b6297fb7513291110d86688c688700e6f6d9cc,Simon Willison,2020-11-30 21:24:23+00:00,"Typo fix: messagge_is_html, closes #1118",False,8,4,4,,,,18654,8214,15921,589,2.811688311688312,55.971759346630364,49.18055555555556,77.43055555555556,535.2882341756691,2.788495526913815,3177.749467227861,176.5416370682146,0.1784294113918898
952,461670a0b87efa953141b449a9a261919864ceb3,Simon Willison,2020-11-30 21:29:57+00:00,"Support for generated columns

* Support for generated columns, closes #1116
* Show SQLite version in pytest report header
* Use table_info() if SQLite < 3.26.0
* Cache sqlite_version() rather than re-calculate every time
* Adjust test_database_page for SQLite 3.26.0 or higher",False,161,135,26,0.3939393939393939,1.0,1.0,18763,8247,16018,591,2.8071120689655173,56.134293238036946,48.71232876712329,76.6027397260274,530.0132566238716,2.7632740131846485,3180.9670431484706,176.72039128602626,0.1766710855412906
953,17cbbb1f7f230b39650afac62dd16476626001b5,Simon Willison,2020-12-01 00:28:02+00:00,"generated_columns table in fixtures.py, closes #1119",False,158,93,65,1.0,0.5833333333333334,0.5833333333333334,18791,8251,16041,591,2.8053763440860213,56.0174626830682,48.78082191780822,76.68493150684931,530.2135729013893,2.7701362287555824,3143.8393070631496,174.6577392812862,0.17673785763379646
954,88ac538b41a4753c3de9b509c3a0e13077f66182,Simon Willison,2020-12-02 23:47:37+00:00,"transfer-encoding: chunked for DB downloads, refs #749

This should get >32MB downloads working on Cloud Run.",False,2,2,0,0.0,0.5,0.5,18793,8253,16043,591,2.8053763440860213,56.01663450541135,48.80821917808219,76.72602739726027,530.6414360559089,2.770100982192523,3146.4217518596683,174.80120843664838,0.17688047868530304
955,13c960c03b46e35f3432063a19f3f528ca249e23,Simon Willison,2020-12-03 00:49:55+00:00,"Test is no longer order dependent, closes #1123",False,6,4,2,1.0,1.0,1.0,18824,8260,16071,591,2.800429184549356,55.99461893345571,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
956,a45a3dff3ea01a2382dcedae5923a7b821a12aec,Simon Willison,2020-12-03 00:49:55+00:00,"Fix for OPTIONS request against /db, closes #1100",False,31,30,1,0.16,1.0,0.16,18822,8260,16069,591,2.800429184549356,55.99485691589049,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
957,e048791a9a2686f47d81a2c8aa88aa1966d82521,Simon Willison,2020-12-03 00:57:40+00:00,"Release 0.52.2

Refs #1116, #1115, #1100, #749, #1121",False,13,12,1,,,,18824,8260,16071,591,2.800429184549356,55.99461893345571,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
958,6b4c55efea3e9d34d92cbe5f0066553ad9b14071,Simon Willison,2020-12-03 18:53:26+00:00,"Fix for Amazon Linux static assets 404ing, refs #1124",False,2,1,1,,,,18824,8260,16071,591,2.800429184549356,55.99461893345571,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
959,63efcb35ce879fe68ee02411c8dd2fd5f127cc32,Simon Willison,2020-12-03 19:02:53+00:00,"More tweaks to root_path handling, refs #1124",False,4,3,1,1.0,1.0,0.0,18826,8261,16072,591,2.800429184549356,55.99394899374125,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
960,ca6e8e53dc9b094a5ce169d81a69d872546e595a,Simon Willison,2020-12-03 19:05:12+00:00,"More helpful 404 messages, refs #1124",False,6,3,3,,,,18826,8261,16072,591,2.800429184549356,55.99394899374125,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
961,4cce5516661b24afeddaf35bee84b00fbf5c7f89,Simon Willison,2020-12-03 19:07:05+00:00,"Release 0.52.3

Refs #1124",False,9,8,1,,,,18826,8261,16072,591,2.800429184549356,55.99394899374125,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
962,00185af74a91646d47aa54f2369c1a19a6f76a27,Simon Willison,2020-12-03 22:08:50+00:00,"Show pysqlite3 version on /-/versions, if installed - #1125",False,17,15,2,0.0,0.0,1.0,18839,8271,16084,591,2.8025751072961373,55.98027567519878,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
963,49d8fc056844d5a537d6cfd96dab0dd5686fe718,Simon Willison,2020-12-04 04:07:16+00:00,"Try pysqlite3-binary version as well, refs #1125",False,10,6,4,0.0,0.0,1.0,18841,8273,16086,591,2.8036480686695278,55.98027567519878,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
964,42efb799ea9b362f0c7598f3ff3c4bf46c18e53f,Simon Willison,2020-12-05 05:20:12+00:00,"Fixed invalid test for generated columns, refs #1119",False,12,6,6,,,,18841,8273,16086,591,2.8036480686695278,55.98027567519878,48.863013698630134,76.8082191780822,531.4699115095051,2.7700606935213017,3151.0011686068565,175.05562047815883,0.17715663716983512
965,eae103a82b92949189cf718794d2ad0424005460,Simon Willison,2020-12-05 05:21:11+00:00,"Write errors to stderr, closes #1131",False,22,16,6,0.7142857142857143,0.8571428571428571,1.0,18851,8281,16094,591,2.8017148981779205,55.965840580748036,48.917808219178085,76.89041095890411,532.0726848069967,2.7698430390206146,3152.826275139644,175.15701528553586,0.1773575616023323
966,705d1a1555c4791e9be3b884285b047223ab184f,Abdussamet Koak,2020-12-05 19:35:03+00:00,"Fix startup error on windows (#1128)

Fixes https://github.com/simonw/datasette/issues/1094

This import isn't used at all, and causes error on startup on Windows.",False,1,0,1,,,,18850,8280,16093,591,2.8017148981779205,55.9665105204625,48.917808219178085,76.89041095890411,532.0726848069967,2.7698430390206146,3152.826275139644,175.15701528553586,0.1773575616023323
967,2dc281645a76c550789ede80c1bc6f733fa9a82e,Simon Willison,2020-12-05 19:41:40+00:00,"Release 0.52.4

Refs #1125, #1131, #1094",False,11,10,1,,,,18850,8280,16093,591,2.8017148981779205,55.9665105204625,48.917808219178085,76.89041095890411,532.0726848069967,2.7698430390206146,3152.826275139644,175.15701528553586,0.1773575616023323
968,4c25b035b2370983c8dd5e0c8762e9154e379774,Simon Willison,2020-12-07 22:41:03+00:00,"arraynotcontains filter, closes #1132",False,43,39,4,0.0,1.0,1.0,18880,8284,16121,591,2.7997858672376874,55.964578449781925,48.945205479452056,76.93150684931507,532.4873676529104,2.769823211918636,3155.118374213493,175.28435412297193,0.17749578921763684
969,fe86d853089f324f92daa950cc56f4052bf78f98,Simon Willison,2020-12-09 19:45:45+00:00,"datasette serve --create option, closes #1135",False,41,40,1,0.0,0.6071428571428571,0.6071428571428571,18918,8302,16155,592,2.8010695187165777,55.92525756156833,49.06849315068493,77.10958904109589,533.8055079721041,2.7766569844589166,3163.826139583381,175.7681188657435,0.17793516932403475
970,6000d1a724d0e28cdb102e7be83eac07a00b41e8,Simon Willison,2020-12-09 19:56:44+00:00,"Fix for combining ?_search_x and ?_searchmode=raw, closes #1134",False,11,10,1,0.0,0.0,0.0,18927,8302,16164,593,2.802139037433155,55.92235923204309,49.12328767123287,77.1917808219178,534.5811425353367,2.7758011674037055,3168.9713045012804,176.05396136118236,0.17819371417844562
971,387b471b88788069191bc845224b7712d92e9c0b,Simon Willison,2020-12-09 20:13:14+00:00,"Release 0.52.5

Refs #1134",False,9,8,1,,,,18927,8302,16164,593,2.802139037433155,55.92235923204309,49.12328767123287,77.1917808219178,534.5811425353367,2.7758011674037055,3168.9713045012804,176.05396136118236,0.17819371417844562
972,2c0aca4887ed65167606a5fd084f35d046e2a00a,Simon Willison,2020-12-10 23:28:44+00:00,"_header=off option for CSV export, closes #1133",False,27,26,1,0.8571428571428571,0.8571428571428571,1.0,18936,8309,16171,593,2.800213675213675,55.892093145670756,49.26027397260274,77.38356164383562,536.0776166767013,2.783465640433906,3183.4651473421322,176.8591748523408,0.17869253889223377
973,967cc05545480f09d421a7bf8b6dbfc27609a181,Simon Willison,2020-12-10 23:37:08+00:00,"Powered by links to datasette.io, closes #1138",False,10,5,5,,,,18936,8309,16171,593,2.800213675213675,55.892093145670756,49.273972602739725,77.38356164383562,536.1094322778874,2.7832674920733047,3182.3550070555675,176.79750039197611,0.17870314409262916
974,0c616f732cee79db80cad830917666f41b344262,Simon Willison,2020-12-11 01:44:36+00:00,"Release 0.53

Refs #1132, #1135, #1133, #1138, #1137",False,16,15,1,,,,18936,8309,16171,593,2.800213675213675,55.892093145670756,49.273972602739725,77.38356164383562,536.1094322778874,2.7832674920733047,3182.3550070555675,176.79750039197611,0.17870314409262916
975,6119bd797366a899119f1bba51c1c8cba2efc8fc,dependabot-preview[bot],2020-12-16 21:44:39+00:00,"Update pytest requirement from <6.2.0,>=5.2.2 to >=5.2.2,<6.3.0 (#1145)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...6.2.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,18936,8309,16171,593,2.800213675213675,55.892093145670756,49.273972602739725,77.38356164383562,536.1094322778874,2.7832674920733047,3182.3550070555675,176.79750039197611,0.17870314409262916
976,5e9895c67f08e9f42acedd3d6d29512ac446e15f,Simon Willison,2020-12-18 01:01:18+00:00,"Database(memory_name=) for shared in-memory databases, closes #1151",False,91,86,5,0.2857142857142857,0.2857142857142857,0.8333333333333334,18986,8347,16215,595,2.8017057569296377,55.83452791497121,49.49315068493151,77.73972602739725,538.6373571471474,2.7836971851467847,3190.2770890183165,177.2376160565733,0.17954578571571583
977,ebc7aa287c99fe6114b79aeab8efb8d4489a6182,Simon Willison,2020-12-18 22:34:05+00:00,"In-memory _schemas database tracking schemas of attached tables, closes #1150",False,285,279,6,0.03643724696356275,0.9838056680161943,0.9838056680161943,19259,8441,16465,604,2.8033826638477803,56.291619493128955,48.733333333333334,76.53333333333333,529.5811337737994,2.7308955463954527,3129.785163570345,173.87695353168593,0.17652704459126647
978,dcdfb2c301341d45b66683e3e3be72f9c7585b2f,Simon Willison,2020-12-21 19:48:06+00:00,"Rename _schemas to _internal, closes #1156",False,93,42,51,1.0,1.0,1.0,19250,8433,16457,604,2.802325581395349,56.291619493128955,48.72,76.49333333333334,529.2312427890473,2.7306014987764056,3125.9884627758347,173.66602570976872,0.1764104142630158
979,810853c5f2fa560c6d303331c037f6443c145930,Simon Willison,2020-12-21 21:49:14+00:00,"Use time.perf_counter() instead of time.time(), closes #1157",False,16,8,8,,,,19250,8433,16457,604,2.802325581395349,56.291619493128955,48.72,76.49333333333334,529.2312427890473,2.7306014987764056,3125.9884627758347,173.66602570976872,0.1764104142630158
980,bc1f1e1ce8562872b7532a167873193e787cef20,Simon Willison,2020-12-22 19:04:29+00:00,Compound primary key for foreign_keys table in _internal,False,4,2,2,,,,19250,8433,16457,604,2.802325581395349,56.291619493128955,48.72,76.49333333333334,529.2312427890473,2.7306014987764056,3125.9884627758347,173.66602570976872,0.1764104142630158
981,270de6527bc2afb8c5996c400099321c320ded31,Simon Willison,2020-12-22 19:48:54+00:00,"Foreign keys for _internal database

Refs #1099 - Datasette now uses compound foreign keys internally,
so it would be great to link them correctly.",False,15,11,4,0.0,1.0,1.0,19257,8433,16464,604,2.802325581395349,56.291619493128955,48.72,76.49333333333334,529.2312427890473,2.7306014987764056,3125.9884627758347,173.66602570976872,0.1764104142630158
982,8919f99c2f7f245aca7f94bd53d5ac9d04aa42b5,Simon Willison,2020-12-22 20:04:18+00:00,"Improved .add_database() method design

Closes #1155 - _internal now has a sensible name

Closes #509 - Support opening multiple databases with the same stem",False,132,86,46,1.0,1.0,0.7692307692307693,19288,8456,16491,605,2.80168776371308,56.25600533672893,48.906666666666666,76.85333333333334,532.0420677797986,2.732057501508867,3140.839110617781,174.49106170098796,0.17734735592659953
983,90eba4c3ca569c57e96bce314e7ac8caf67d884e,Simon Willison,2020-12-22 23:55:43+00:00,Prettier CREATE TABLE SQL for _internal,False,109,61,48,0.0,1.0,1.0,19301,8457,16502,605,2.80168776371308,56.25600533672893,48.906666666666666,76.85333333333334,532.0420677797986,2.732057501508867,3140.839110617781,174.49106170098796,0.17734735592659953
984,a882d679626438ba0d809944f06f239bcba8ee96,Miroslav ediv,2020-12-23 17:04:32+00:00,"Modernize code to Python 3.6+ (#1158)

* Compact dict and set building
* Remove redundant parentheses
* Simplify chained conditions
* Change method name to lowercase
* Use triple double quotes for docstrings

Thanks, @eumiro!",False,158,76,82,0.49206349206349204,0.15873015873015872,0.3968253968253968,19295,8460,16496,605,2.7974683544303796,56.26260063035851,48.86666666666667,76.76,531.2918339580815,2.729659049396749,3132.2867773681514,174.01593207600854,0.17709727798602715
985,6705560148de9be477ca8a48d7fe1cbcae780c07,Simon Willison,2020-12-29 22:16:05+00:00,Refactor out sqlite_extensions option,False,26,12,14,1.0,1.0,1.0,19293,8462,16492,605,2.7955742887249735,56.26219959641973,48.86666666666667,76.76,531.2918339580815,2.729659049396749,3132.2867773681514,174.01593207600854,0.17709727798602715
986,e1efa9b7a37dcf4bf56d7faee9e21fbc141f9de5,Simon Willison,2021-01-06 18:13:34+00:00,"force_https_urls on for publish cloudrun, refs #1178",False,51,51,0,0.0,0.8333333333333334,0.0,19344,8484,16539,605,2.7936842105263158,56.1730297316524,49.026666666666664,77.01333333333334,532.6354165256946,2.7609013333473666,3137.490222709721,174.3050123727624,0.1775451388418982
987,97fb10c17dd007a275ab743742e93e932335ad67,Simon Willison,2021-01-06 18:22:20+00:00,"Applied Black, refs #1178",False,13,10,3,0.0,1.0,0.0,19351,8484,16546,605,2.7936842105263158,56.1730297316524,49.026666666666664,77.01333333333334,532.6354165256946,2.7609013333473666,3137.490222709721,174.3050123727624,0.1775451388418982
988,faa76390a02cf35e507ad5381d388295565e9a89,Simon Willison,2021-01-08 00:01:01+00:00,"Fixed bug introduced in e1efa9b7,  refs #1178",False,4,2,2,,,,19351,8484,16546,605,2.7936842105263158,56.1730297316524,49.026666666666664,77.01333333333334,532.6354165256946,2.7609013333473666,3137.490222709721,174.3050123727624,0.1775451388418982
989,649f48cd702fb76fed92eac1e5d2fd2ec28fbbf9,Simon Willison,2021-01-11 21:32:58+00:00,"request.full_path property, closes #1184",False,43,38,5,1.0,1.0,0.3,19381,8496,16572,605,2.7909663865546217,56.13241440169967,49.10666666666667,77.17333333333333,533.6624646165762,2.7616062317942007,3140.2298762335013,174.45721534630576,0.1778874882055254
990,ef2ecc1b8987d10d375e350a51d1339172a07c55,Simon Willison,2021-01-11 21:33:54+00:00,"Standardize on 'query string', not 'querystring', in docs

The request property is request.query_string so this is more consistent.",False,60,30,30,,,,19381,8496,16572,605,2.7909663865546217,56.13241440169967,49.10666666666667,77.17333333333333,533.6624646165762,2.7616062317942007,3140.2298762335013,174.45721534630576,0.1778874882055254
991,8e8fc5cee5c78da8334495c6d6257d5612c40792,Simon Willison,2021-01-11 21:34:38+00:00,Applied Black,False,15,5,10,0.0,0.0,0.0,19376,8496,16568,605,2.7909663865546217,56.13283778840762,49.10666666666667,77.17333333333333,533.6624646165762,2.7616062317942007,3140.2298762335013,174.45721534630576,0.1778874882055254
992,640ac7071b73111ba4423812cd683756e0e1936b,Simon Willison,2021-01-12 22:26:19+00:00,"Better PRAGMA error message, closes #1185",False,24,19,5,1.0,1.0,1.0,19393,8502,16583,605,2.7901364113326337,56.13283778840762,49.16,77.25333333333333,534.4960404357086,2.761540345610667,3145.2611194365404,174.73672885758572,0.17816534681190282
993,fa0c3777b876c29df8f2f48901533bce24de9aec,Simon Willison,2021-01-14 01:50:52+00:00,"script type=module support, closes #1186",False,98,74,24,0.0,0.5,0.5,19401,8506,16591,605,2.7932843651626444,56.12843264992871,49.16,77.25333333333333,534.4960404357086,2.761540345610667,3145.2611194365404,174.73672885758572,0.17816534681190282
994,c38c42948cbfddd587729413fd6082ba352eaece,Simon Willison,2021-01-14 02:14:33+00:00,"extra_body_script module support, closes #1187",False,40,31,9,0.0,0.14285714285714285,0.14285714285714285,19408,8515,16598,605,2.794333683105981,56.12676108124234,49.16,77.25333333333333,534.4960404357086,2.761540345610667,3145.2611194365404,174.73672885758572,0.17816534681190282
995,57f4d7b82f9c74298c67c5640207241925b70c02,Simon Willison,2021-01-19 20:47:30+00:00,"Release 0.54a0

Refs #1091, #1145, #1151, #1156, #1157, #1158, #1166, #1170, #1178, #1182, #1184, #1185, #1186, #1187",False,13,12,1,,,,19408,8515,16598,605,2.794333683105981,56.12676108124234,49.16,77.25333333333333,534.4960404357086,2.761540345610667,3145.2611194365404,174.73672885758572,0.17816534681190282
996,25c2933667680db045851b2cedcf4666d737d352,Simon Willison,2021-01-23 00:46:25+00:00,publish heroku now uses python-3.8.7,False,2,1,1,,,,19408,8515,16598,605,2.794333683105981,56.12676108124234,49.16,77.25333333333333,534.4960404357086,2.761540345610667,3145.2611194365404,174.73672885758572,0.17816534681190282
997,07e163561592c743e4117f72102fcd350a600909,Simon Willison,2021-01-25 03:10:10+00:00,"All ?_ parameters now copied to hidden form fields, closes #1194",False,39,27,12,1.0,1.0,0.0,19423,8517,16611,604,2.7945492662473796,56.12840298977615,49.14666666666667,77.21333333333334,534.2386978013333,2.7619727430937067,3141.097827381356,174.5054348545199,0.17807956593377774
998,a5ede3cdd455e2bb1a1fb2f4e1b5a9855caf5179,Simon Willison,2021-01-25 05:13:05+00:00,"Fixed bug loading database called 'test-database (1).sqlite'

Closes #1181.

Also now ensures that database URLs have special characters URL-quoted.",False,82,55,27,1.0,1.0,0.0,19449,8530,16632,606,2.7926701570680628,56.120992429095686,49.22666666666667,77.37333333333333,535.4345847876918,2.762770463891427,3146.428515286886,174.8015841826049,0.1784781949292306
999,0b9ac1b2e9c855f1b823a06a898891da87c720ef,Simon Willison,2021-01-25 17:33:29+00:00,"Release 0.54

Refs #509, #1091, #1150, #1151, #1166, #1167, #1178, #1181, #1182, #1184, #1185, #1186, #1187, #1194, #1198",False,56,50,6,,,,19449,8530,16632,606,2.7926701570680628,56.120992429095686,49.22666666666667,77.37333333333333,535.4345847876918,2.762770463891427,3146.428515286886,174.8015841826049,0.1784781949292306
1000,1600d2a3ec3ada1f6fb5b1eb73bdaeccb5f80530,Simon Willison,2021-01-28 22:48:56+00:00,"Renamed /:memory: to /_memory, with redirects - closes #1205",False,99,65,34,0.6842105263157895,0.6842105263157895,0.05263157894736842,19480,8536,16661,606,2.7939330543933054,56.12155539394822,49.346666666666664,77.6,537.6114922852918,2.755678340604623,3156.3639118972465,175.3535506609583,0.1792038307617639
1001,7a2ed9f8a119e220b66d67c7b9e07cbab47b1196,Simon Willison,2021-02-02 21:21:03+00:00,"Fixed bug with ?_sort= and ?_search=, closes #1214",False,19,18,1,1.0,1.0,0.0,19497,8543,16675,607,2.794148380355277,56.1207094840427,49.45333333333333,77.76,539.199501115882,2.7547780128179165,3166.4059408882767,175.91144116045996,0.17973316703862732
1002,3a3de76009ea482911c22f921c3f48cb1337e01a,Simon Willison,2021-02-02 21:24:05+00:00,"Release 0.54.1

Refs #1214",False,9,8,1,,,,19497,8543,16675,607,2.794148380355277,56.1207094840427,49.45333333333333,77.76,539.199501115882,2.7547780128179165,3166.4059408882767,175.91144116045996,0.17973316703862732
1003,eda652cf6ee28a0babfb30ce3834512e9e33fb8e,Simon Willison,2021-02-12 00:52:16+00:00,"--ssl-keyfile and --ssl-certfile options to ""datasette serve""

Closes #1221",False,84,82,2,0.22,0.86,0.86,19575,8578,16741,614,2.7935349322210636,56.122790123803256,49.54666666666667,77.93333333333334,540.072932994345,2.7647780128179167,3168.92622857254,176.05145714291902,0.180024310998115
1004,9603d893b9b72653895318c9104d754229fdb146,Simon Willison,2021-02-12 00:53:20+00:00,"Tests for --ssl-keyfile and --ssl-certfile, refs #1221",False,20,20,0,1.0,1.0,1.0,19595,8588,16757,614,2.789802289281998,56.302387938354514,48.96052631578947,76.98684210526316,533.1500203045421,2.734978302122944,3127.3214858845417,173.74008254914133,0.17771667343484737
1005,d2d53a5559f3014cccba2cba7e1eab1e5854c759,Simon Willison,2021-02-18 01:20:15+00:00,"New :issue: Sphinx macro, closes #1227",False,486,245,241,,,,19599,8590,16760,614,2.789802289281998,56.302387938354514,48.96052631578947,76.98684210526316,533.1500203045421,2.734978302122944,3127.3214858845417,173.74008254914133,0.17771667343484737
1006,36a44bffbf5185a58fcd2548e8de94e9490a7aea,Simon Willison,2021-02-18 18:05:27+00:00,"Validation for --port, closes #1226",False,10,10,0,1.0,1.0,1.0,19609,8596,16768,614,2.787941787941788,56.28999796573824,49.01315789473684,77.0657894736842,533.7773617834633,2.73469029316998,3129.539435822821,173.86330199015683,0.17792578726115443
1007,6f41c8a2bef309a66588b2875c3e24d26adb4850,Simon Willison,2021-02-18 22:09:12+00:00,"--crossdb option for joining across databases (#1232)

* Test for cross-database join, refs #283
* Warn if --crossdb used with more than 10 DBs, refs #283
* latest.datasette.io demo of --crossdb joins, refs #283
* Show attached databases on /_memory page, refs #283
* Documentation for cross-database queries, refs #283",False,223,215,8,0.12903225806451613,0.3951612903225806,0.75,19770,8664,16912,617,2.7964876033057853,56.20512382501566,48.857142857142854,76.71428571428571,531.1656837706896,2.740475042554958,3141.6229233032377,174.53460685017998,0.1770552279235632
1008,cb8a293bd7ec54e868d702871b39c550465c0521,Simon Willison,2021-02-19 02:01:06+00:00,"Release 0.55

Refs #1205, #1207, #1214, #1221, #1226, #1227, #1232, #1235",False,17,15,2,,,,19770,8664,16912,617,2.7964876033057853,56.20512382501566,48.857142857142854,76.71428571428571,531.1656837706896,2.740475042554958,3141.6229233032377,174.53460685017998,0.1770552279235632
1009,726f781c50e88f557437f6490b8479c3d6fabfc2,Simon Willison,2021-02-23 00:22:47+00:00,"Fix for arraycontains bug, closes #1239",False,12,10,2,,,,19778,8664,16920,618,2.7964876033057853,56.21098491793845,48.857142857142854,76.71428571428571,531.1656837706896,2.740475042554958,3141.6229233032377,174.53460685017998,0.1770552279235632
1010,cc6774cbaaba2359e0a92cfcc41ad988680075d6,Simon Willison,2021-02-28 22:34:44+00:00,"Upgrade httpx and remove xfail from tests, refs #1005",False,7,1,6,,,,19773,8659,16915,618,2.7964876033057853,56.21098491793845,48.857142857142854,76.71428571428571,531.1656837706896,2.740475042554958,3141.6229233032377,174.53460685017998,0.1770552279235632
1011,47eb885cc2c3aafa03645c330c6f597bee9b3b25,Simon Willison,2021-03-01 03:44:04+00:00,"JSON faceting now suggested even if column has blank strings, closes #1246",False,33,30,3,0.0,0.7727272727272727,1.0,19800,8672,16940,618,2.7956656346749225,56.179337460856345,48.883116883116884,76.75324675324676,531.4071719422609,2.740475042554958,3141.7436673890234,174.54131485494585,0.1771357239807536
1012,7c87532acc4e9d92caa1c4ee29a3446200928018,Simon Willison,2021-03-01 04:02:18+00:00,"New .add_memory_database() method, closes #1247",False,36,25,11,1.0,1.0,1.0,19803,8674,16942,618,2.7938144329896906,56.179337460856345,48.883116883116884,76.75324675324676,531.4071719422609,2.740475042554958,3141.7436673890234,174.54131485494585,0.1771357239807536
1013,8e18c7943181f228ce5ebcea48deb59ce50bee1f,Konstantin Baikov,2021-03-11 16:15:49+00:00,"Use context manager instead of plain open (#1211)

Context manager with open closes the files after usage.

When the object is already a pathlib.Path i used read_text
write_text functions

In some cases pathlib.Path.open were used in context manager,
it is basically the same as builtin open.

Thanks, Konstantin Baikov!",False,156,93,63,0.16666666666666666,0.7,0.36666666666666664,19833,8709,16972,618,2.7938144329896906,56.13826791963214,48.883116883116884,76.75324675324676,531.4071719422609,2.740475042554958,3141.7436673890234,174.54131485494585,0.1771357239807536
1014,6ad544df5e6bd027a8e27317041e6168aee07459,Simon Willison,2021-03-23 16:19:41+00:00,"Fixed master -> main in a bunch of places, mainly docs",False,53,26,27,1.0,0.0,0.0,19832,8709,16971,618,2.7938144329896906,56.13826791963214,48.883116883116884,76.75324675324676,531.4071719422609,2.740475042554958,3141.7436673890234,174.54131485494585,0.1771357239807536
1015,48d5e0e6ac8975cfd869d4e8c69c64ca0c65e29e,Simon Willison,2021-03-28 23:44:29+00:00,"Fix for no such table: pragma_database_list, refs #1276",False,10,6,4,0.0,0.0,0.0,19834,8709,16969,622,2.794845360824742,56.15299825937786,48.90909090909091,76.79220779220779,531.7179456920999,2.7400575604936406,3143.4519553469154,174.6362197414954,0.1772393152306999
1016,f92d823766872a6fd7e76c5249a6b2de1ab0f447,Campbell Allen,2021-03-29 00:17:31+00:00,"ensure immutable databses when starting in configuration directory mode with (#1229)

* check if immutables is empty list of None
* update docs on how to create the inspect-data.json",False,4,2,2,,,,19834,8709,16969,622,2.794845360824742,56.15299825937786,48.90909090909091,76.77922077922078,531.6138312987532,2.739686502979726,3141.2090338445346,174.51161299136314,0.17720461043291774
1017,d579fcf4f713f98c7365453ce94f36b91ce98c98,Simon Willison,2021-03-29 00:20:55+00:00,Applied some fixes suggested by @withshubh in #1260,False,6,3,3,,1.0,,19834,8708,16969,622,2.7938144329896906,56.16208077923037,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1018,af5a7f1c09f6a902bb2a25e8edf39c7034d2e5de,Simon Willison,2021-03-29 00:41:12+00:00,"Release 0.56

Refs #1005, #1031, #1141, #1229, #1236, #1239, #1246, #1247, #1252, #1266, #1276, #1278",False,21,19,2,,,,19834,8708,16969,622,2.7938144329896906,56.16208077923037,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1019,87b583a128986982552421d2510e467e74ac5046,Simon Willison,2021-04-02 20:20:51+00:00,"Clearer help text for --reload

Immutable databases are not commonly used, but it's useful to clarify
that --reload will pick up on changes to metadata.",False,6,3,3,,,,19834,8708,16969,622,2.7938144329896906,56.16208077923037,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1020,59ef4a20cba1533bc347378415f4ffcd025f32c8,Simon Willison,2021-04-02 20:27:03+00:00, 2017-2021,False,2,1,1,,,,19834,8708,16969,622,2.7938144329896906,56.16208077923037,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1021,0a7621f96f8ad14da17e7172e8a7bce24ef78966,Simon Willison,2021-04-03 03:42:28+00:00,"Use pytest-xdist to speed up tests (#1290)

* Run tests in CI using pytest-xdist
* Documentation for pytest-xdist

Closes #1289",False,27,26,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1022,6ed9238178a56da5fb019f37fb1e1e15886be1d1,dependabot-preview[bot],2021-04-19 18:18:17+00:00,"Update pytest-asyncio requirement from <0.15,>=0.10 to >=0.10,<0.16 (#1303)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.10.0...v0.15.0)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1023,1b697539f5b53cec3fe13c0f4ada13ba655c88c7,dependabot-preview[bot],2021-04-29 15:47:49+00:00,"Bump black from 20.8b1 to 21.4b2 (#1313)

Bumps [black](https://github.com/psf/black) from 20.8b1 to 21.4b2.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/master/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1024,9b3b7e280ca718254b4ca15d40864297146a85b3,dependabot[bot],2021-05-17 17:19:40+00:00,"Update jinja2 requirement from <2.12.0,>=2.10.3 to >=2.10.3,<3.1.0 (#1324)

Updates the requirements on [jinja2](https://github.com/pallets/jinja) to permit the latest version.
- [Release notes](https://github.com/pallets/jinja/releases)
- [Changelog](https://github.com/pallets/jinja/blob/main/CHANGES.rst)
- [Commits](https://github.com/pallets/jinja/compare/2.10.3...3.0.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1025,593d3e8173b45e20ff3c95afb3df7ceb85bf7fef,dependabot[bot],2021-05-22 23:53:56+00:00,"Update aiofiles requirement from <0.7,>=0.4 to >=0.4,<0.8 (#1330)

Updates the requirements on [aiofiles](https://github.com/Tinche/aiofiles) to permit the latest version.
- [Release notes](https://github.com/Tinche/aiofiles/releases)
- [Commits](https://github.com/Tinche/aiofiles/compare/v0.4.0...v0.7.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1026,b64d87204612a84663616e075f542499a5d82a03,dependabot[bot],2021-05-22 23:54:24+00:00,"Update itsdangerous requirement from ~=1.1 to >=1.1,<3.0 (#1325)

Updates the requirements on [itsdangerous](https://github.com/pallets/itsdangerous) to permit the latest version.
- [Release notes](https://github.com/pallets/itsdangerous/releases)
- [Changelog](https://github.com/pallets/itsdangerous/blob/main/CHANGES.rst)
- [Commits](https://github.com/pallets/itsdangerous/compare/1.1.0...2.0.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1027,5c3b3ef97eed55895cf48d4a9ee0635c1c4d03b8,dependabot[bot],2021-05-22 23:54:48+00:00,"Update click requirement from ~=7.1.1 to >=7.1.1,<8.1.0 (#1323)

Updates the requirements on [click](https://github.com/pallets/click) to permit the latest version.
- [Release notes](https://github.com/pallets/click/releases)
- [Changelog](https://github.com/pallets/click/blob/main/CHANGES.rst)
- [Commits](https://github.com/pallets/click/compare/7.1.1...8.0.0)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1028,5e9672c9bb33e41686472db4aa427168f9e67dbe,dependabot[bot],2021-05-22 23:55:39+00:00,"Bump black from 21.4b2 to 21.5b1 (#1321)

Bumps [black](https://github.com/psf/black) from 21.4b2 to 21.5b1.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,19838,8711,16973,622,2.7938144329896906,56.12980082871489,48.83116883116883,76.7012987012987,531.0675066876665,2.7257718462079263,3135.843886573043,174.21354925405802,0.1770225022292222
1029,9789b94da48183dabf105c6419bdcde2634b36a5,Simon Willison,2021-05-23 00:34:33+00:00,"?_facet_size=100 parameter, closes #1332",False,77,73,4,0.1320754716981132,1.0,1.0,19898,8742,17027,625,2.795267489711934,56.09986087324776,48.96103896103896,76.8961038961039,532.3684972686692,2.7247148196237077,3137.9253063494957,174.32918368608318,0.17745616575622308
1030,a443dba82f43c22b03402a4f86c85558ccb526b8,Simon Willison,2021-05-23 00:45:54+00:00,"Release 0.57a0

Refs #1281, #1282, #1289, #1290, #1308, #1313, #1314, #1321, #1323, #1325, #1330, #1332, #1335",False,13,12,1,,,,19898,8742,17027,625,2.795267489711934,56.09986087324776,48.96103896103896,76.8961038961039,532.3684972686692,2.7247148196237077,3137.9253063494957,174.32918368608318,0.17745616575622308
1031,2bd9d54b2762c991e11950c22c88c0336158d49b,Simon Willison,2021-05-24 01:41:50+00:00,"Fix Jinja warnings, closes #1338, refs #1331",False,55,28,27,0.0,0.0,0.0,19899,8741,17028,625,2.795267489711934,56.09966785285166,48.96103896103896,76.8961038961039,532.3684972686692,2.7247148196237077,3137.9253063494957,174.32918368608318,0.17745616575622308
1032,eae3084b46e2c3931db12cdef79093ad0e644bce,Simon Willison,2021-05-24 17:52:09+00:00,"Fixed another Jinja warning, refs #1338",False,2,1,1,,,,19899,8741,17028,625,2.795267489711934,56.09966785285166,48.96103896103896,76.8961038961039,532.3684972686692,2.7247148196237077,3137.9253063494957,174.32918368608318,0.17745616575622308
1033,f1c29fd6a184254aa68efadf096bcf21e848f921,Simon Willison,2021-05-27 04:17:43+00:00,"?_col=/?_nocol= to show/hide columns on the table page

Closes #615

* Cog icon for hiding columns
* Show all columns cog menu item
* Do not allow hide column on primary keys
* Allow both ?_col= and ?_nocol=
* De-duplicate if ?_col= passed multiple times
* 400 error if user tries to ?_nocol= a primary key
* Documentation for ?_col= and ?_nocol=",False,157,142,15,0.27941176470588236,0.3088235294117647,0.38235294117647056,19993,8771,17116,627,2.801025641025641,56.070929459875764,49.1948051948052,77.36363636363636,536.6752051961246,2.725776819831056,3176.236217971615,176.4575676650898,0.1788917350653749
1034,7e983fede679624210c21387d5c4a2c19c141abd,Simon Willison,2021-05-27 16:00:58+00:00,"?_facet_size=max, ... now links to that, closes #1337

Refs #1332",False,99,86,13,0.08333333333333333,1.0,0.08333333333333333,20057,8789,17178,632,2.8043032786885247,56.06021077890385,49.33766233766234,77.62337662337663,539.0716249346633,2.7347272098976685,3195.413016435109,177.5229453575062,0.17969054164488776
1035,4545120c920165aad9659d27111f63f977b8a399,Simon Willison,2021-05-27 16:04:26+00:00,"Test and docs for ?_facet_size=max, refs #1337",False,8,7,1,0.0,1.0,1.0,20063,8792,17183,633,2.8043032786885247,56.06126001565315,49.35064935064935,77.66233766233766,539.3030715128752,2.734902710073169,3195.581237419594,177.5322909677553,0.17976769050429176
1036,1a8972f9c012cd22b088c6b70661a9c3d3847853,Simon Willison,2021-05-27 16:11:03+00:00,Upgrade Heroku runtime to python-3.8.10,False,2,1,1,,,,20063,8792,17183,633,2.8043032786885247,56.06126001565315,49.35064935064935,77.66233766233766,539.3030715128752,2.734902710073169,3195.581237419594,177.5322909677553,0.17976769050429176
1037,7b106e106000713bbee31b34d694b3dadbd4818c,Simon Willison,2021-05-27 16:54:21+00:00,"Release 0.57a1

Refs #1319, #1320, #1331, #1337, #1338, #1341",False,2,1,1,,,,20063,8792,17183,633,2.8043032786885247,56.06126001565315,49.35064935064935,77.66233766233766,539.3030715128752,2.734902710073169,3195.581237419594,177.5322909677553,0.17976769050429176
1038,f7d3e76fb3d1fa5aabe339251e4a930610643822,Simon Willison,2021-05-31 02:31:14+00:00,"Facets now execute ignoring ?_col and ?_nocol, fixes #1345",False,45,37,8,0.0,0.0,0.0,20092,8794,17211,634,2.805327868852459,56.05782523236098,49.35064935064935,77.66233766233766,539.3030715128752,2.734902710073169,3195.581237419594,177.5322909677553,0.17976769050429176
1039,c5ae1197a208e1b034c88882e3ac865813a40980,Simon Willison,2021-05-31 02:39:14+00:00,"?_nofacets=1 option, closes #1350",False,35,28,7,0.8461538461538461,0.8461538461538461,0.8461538461538461,20108,8807,17225,634,2.8085977482088023,56.053283191576284,49.532467532467535,77.92207792207792,541.9159673511383,2.7410434407464352,3248.4581952932663,180.46989973851487,0.18063865578371271
1040,d1d06ace49606da790a765689b4fbffa4c6deecb,Simon Willison,2021-06-01 15:49:50+00:00,"?_trac=1 for CSV, plus ?_nofacets=1 when rendering CSV

Closes #1351, closes #1350",False,71,64,7,0.3953488372093023,0.3953488372093023,0.5348837209302325,20165,8845,17272,635,2.8054989816700613,55.998055012008955,49.701298701298704,78.1948051948052,544.0623605172366,2.7548237788519514,3267.720754068243,181.54004189268022,0.18135412017241218
1041,8bde6c54615af529e81de559cbb3bf3ee5fe17cb,Simon Willison,2021-06-01 15:56:00+00:00,"Rename ?_nofacets=1 to ?_nofacet=1, refs #1353",False,26,13,13,,,,20165,8845,17272,635,2.8054989816700613,55.998055012008955,49.701298701298704,78.1948051948052,544.0623605172366,2.7548237788519514,3267.720754068243,181.54004189268022,0.18135412017241218
1042,fd368d3b2c5a5d9c3e10a21638f6ea9a71471b52,Simon Willison,2021-06-01 16:12:32+00:00,"New _nocount=1 option, used to speed up CSVs - closes #1353",False,39,34,5,0.47619047619047616,0.47619047619047616,0.19047619047619047,20191,8857,17294,635,2.8069105691056913,55.979029458260634,49.83116883116883,78.3896103896104,545.8595921722703,2.754187602290521,3277.870247352534,182.10390263069644,0.1819531973907567
1043,a18e8641bc33e51b265855bc6e8a1939597b3a76,Simon Willison,2021-06-01 22:35:33+00:00,"Don't reflect nofacet=1 and nocount=1 in BLOB URLs, refs #1353",False,9,6,3,0.0,0.0,1.0,20194,8858,17297,635,2.8069105691056913,55.97829077087165,49.83116883116883,78.3896103896104,545.8595921722703,2.754187602290521,3277.870247352534,182.10390263069644,0.1819531973907567
1044,0539bf0816b58c7f0ba769331f1509656bff3619,Simon Willison,2021-06-02 02:53:00+00:00,"Don't execute facets/counts for _shape=array or object, closes #263",False,22,15,7,0.75,0.75,0.75,20202,8866,17301,635,2.8060913705583754,55.97489836431013,49.883116883116884,78.46753246753246,546.6201976840799,2.7612681622732023,3322.8173367976137,184.60096315542305,0.18220673256135994
1045,03b35d70e281ea48bd9b8058738ed87b13cea2de,dependabot[bot],2021-06-02 02:56:44+00:00,"Bump black from 21.5b1 to 21.5b2 (#1352)

Bumps [black](https://github.com/psf/black) from 21.5b1 to 21.5b2.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20202,8866,17301,635,2.8060913705583754,55.97489836431013,49.883116883116884,78.46753246753246,546.6201976840799,2.7612681622732023,3322.8173367976137,184.60096315542305,0.18220673256135994
1046,807de378d08752a0f05bb1b980a0a62620a70520,Simon Willison,2021-06-02 03:10:15+00:00,"/-/databases and homepage maintain connection order, closes #1216",False,13,7,6,,,,20203,8866,17301,636,2.8060913705583754,55.981728339941206,49.883116883116884,78.46753246753246,546.6201976840799,2.7612681622732023,3322.8173367976137,184.60096315542305,0.18220673256135994
1047,0f1e47287cf2185e140bd87a03c985c2a7afb450,Simon Willison,2021-06-02 03:27:04+00:00,"Fixed bug with detect_fts for table with single quote in name, closes #1257",False,18,17,1,1.0,1.0,1.0,20219,8872,17315,636,2.8042596348884383,55.973067617353614,49.90909090909091,78.50649350649351,546.928767061716,2.7612048109903387,3323.4412292927223,184.63562384959573,0.18230958902057198
1048,9552414e1f968c6fc704031cec349c05e6bc2371,Simon Willison,2021-06-02 03:46:20+00:00,"Re-display user's query with an error message if an error occurs (#1346)

* Ignore _shape when returning errors",False,57,44,13,0.0,0.0,0.0,20247,8887,17339,639,2.8204868154158214,55.95943564971078,50.0,78.72727272727273,548.6652320755367,2.763223781157009,3338.0509885002716,185.447277138904,0.1828884106918455
1049,ea5b2378007ef524f7a17989c8df54a76a001e49,Simon Willison,2021-06-02 03:59:29+00:00,"Show error message on bad query, closes #619",False,14,12,2,1.0,1.0,1.0,20257,8892,17347,639,2.818642350557244,55.95943564971078,50.03896103896104,78.8051948051948,549.4516890828426,2.7633414965180627,3344.036846944373,185.779824830243,0.18315056302761415
1050,f40d1b99d67b0da4f3aff5b3483f4e09db7e8e6b,Simon Willison,2021-06-02 04:09:10+00:00,"Don't show '0 results' on error page, refs #619",False,3,2,1,1.0,1.0,1.0,20258,8893,17348,639,2.818642350557244,55.95943564971078,50.05194805194805,78.84415584415585,549.8301228992609,2.7634888583498958,3347.5645529229037,185.9758084957169,0.18327670763308693
1051,0f41db1ba8a8a49a4adc1046a25ccf32790e863f,Guy Freeman,2021-06-02 04:25:27+00:00,"Avoid error sorting by relationships if related tables are not allowed

Refs #1306",False,5,3,2,0.0,0.0,0.0,20259,8894,17349,639,2.8206686930091185,55.95305231322392,50.064935064935064,78.88311688311688,550.071921093795,2.7653223190068856,3349.9435156361214,186.10797309089568,0.18335730703126496
1052,80d8b0eb415faf5caadd7cc7036407e6ee55bd44,Simon Willison,2021-06-02 04:26:25+00:00,"Test demonstrating fixed #1305, refs #1306",False,19,19,0,0.0,1.0,1.0,20278,8898,17365,640,2.818825910931174,55.95305231322392,50.09090909090909,78.92207792207792,550.4807667065639,2.765291204153224,3352.410889065672,186.2450493925374,0.18349358890218792
1053,d5d387abfe68ea546c53698ebb2b8eeeb4d32c3f,Simon Willison,2021-06-02 04:30:44+00:00,"Applied Black, refs #1305",False,8,1,7,1.0,0.0,0.0,20272,8898,17359,640,2.818825910931174,55.95305231322392,50.09090909090909,78.92207792207792,550.4807667065639,2.765291204153224,3352.410889065672,186.2450493925374,0.18349358890218792
1054,6e9b07be92905011211d8df7a872fb7c1f2737b2,Simon Willison,2021-06-03 04:45:03+00:00,More inclusive language,False,6,3,3,,,,20272,8898,17359,640,2.818825910931174,55.95305231322392,50.09090909090909,78.92207792207792,550.4807667065639,2.765291204153224,3352.410889065672,186.2450493925374,0.18349358890218792
1055,a63412152518581c6a3d4e142b937e27dabdbfdb,Simon Willison,2021-06-05 18:59:54+00:00,"Make custom pages compatible with base_url setting

Closes #1238

- base_url no longer causes custom page routing to fail
- new route_path key in request.scope storing the path that was used for routing with the base_url prefix stripped
- TestClient used by tests now avoids accidentally double processing of the base_url prefix",False,35,27,8,0.8333333333333334,0.9166666666666666,0.16666666666666666,20291,8910,17373,640,2.816161616161616,55.92642382818262,50.18181818181818,79.06493506493507,551.6612233407186,2.7649910997517373,3357.6570354967853,186.53650197204374,0.1838870744469061
1056,ff29dd55fafd7c3d27bd30f40945847aa4278309,Simon Willison,2021-06-05 20:18:37+00:00,"?_trace=1 now depends on trace_debug setting, closes #1359",False,95,69,26,0.4166666666666667,0.9166666666666666,1.0,20316,8923,17394,640,2.8163471241170535,55.923134397772,50.22077922077922,79.16883116883118,552.6539811399813,2.7653723294840957,3366.5833312428376,187.0324072912688,0.18421799371332703
1057,8f311d6c1d9f73f4ec643009767749c17b5ca5dd,Simon Willison,2021-06-05 22:03:38+00:00,"Correctly escape output of ?_trace, refs #1360",False,9,8,1,1.0,1.0,1.0,20323,8928,17399,640,2.814516129032258,55.92103668079996,50.25974025974026,79.24675324675324,553.4420771750391,2.765487135384025,3372.5875442097135,187.36597467831746,0.1844806923916796
1058,58746d3c514004f504223a724e948469a0d4abb3,Simon Willison,2021-06-05 22:06:55+00:00,"Release 0.57

Refs #263, #615, #619, #1238, #1257, #1305, #1308, #1320, #1332, #1337, #1349, #1353, #1359, #1360",False,45,37,8,,,,20323,8928,17399,640,2.814516129032258,55.92103668079996,50.25974025974026,79.24675324675324,553.4420771750391,2.765487135384025,3372.5875442097135,187.36597467831746,0.1844806923916796
1059,030deb4b25cda842ff7129ab7c18550c44dd8379,Simon Willison,2021-06-05 23:02:03+00:00,"Try to handle intermittent FileNotFoundError in tests

Refs #1361",False,9,7,2,1.0,1.0,1.0,20328,8932,17403,641,2.816532258064516,55.91308281785754,50.298701298701296,79.28571428571429,553.6916412527133,2.7723413922382822,3374.1102387063124,187.4505688170174,0.18456388041757105
1060,03ec71193b9545536898a4bc7493274fec48bdd7,Simon Willison,2021-06-06 22:07:45+00:00,"Don't truncate list of columns on /db page, closes #1364",False,7,6,1,0.0,1.0,1.0,20333,8933,17408,641,2.816532258064516,55.91308281785754,50.324675324675326,79.32467532467533,554.101125782101,2.772310253088686,3376.581408344176,187.58785601912092,0.18470037526070027
1061,a3faf378834cc9793adeb22dee19ef57c417457e,Simon Willison,2021-06-08 16:26:45+00:00,"Release 0.57.1

Refs #1364, #1367",False,10,9,1,,,,20333,8933,17408,641,2.816532258064516,55.91308281785754,50.324675324675326,79.32467532467533,554.101125782101,2.772310253088686,3376.581408344176,187.58785601912092,0.18470037526070027
1062,d23a2671386187f61872b9f6b58e0f80ac61f8fe,Simon Willison,2021-06-10 04:45:24+00:00,"Make request available to menu plugin hooks, closes #1371",False,67,44,23,1.0,1.0,0.23076923076923078,20346,8942,17421,641,2.818548387096774,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1063,cd7678fde65319d7b6955ce9f4678ba4b9e64b66,Simon Willison,2021-06-10 04:51:14+00:00,"Release 0.58a0

Refs #1371",False,9,8,1,,,,20346,8942,17421,641,2.818548387096774,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1064,e7975657656ce02717f03703bb8ec17f2fe9b717,dependabot[bot],2021-06-13 15:33:22+00:00,"Bump black from 21.5b2 to 21.6b0 (#1374)

Bumps [black](https://github.com/psf/black) from 21.5b2 to 21.6b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20346,8942,17421,641,2.818548387096774,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1065,83e9c8bc7585dcc62f200e37c2daefcd669ee05e,dependabot[bot],2021-06-13 15:38:47+00:00,"Update trustme requirement from <0.8,>=0.7 to >=0.7,<0.9 (#1373)

Updates the requirements on [trustme](https://github.com/python-trio/trustme) to permit the latest version.
- [Release notes](https://github.com/python-trio/trustme/releases)
- [Commits](https://github.com/python-trio/trustme/compare/v0.7.0...v0.8.0)

---
updated-dependencies:
- dependency-name: trustme
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20346,8942,17421,641,2.818548387096774,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1066,5335f360f4d57d70cab3694b08f15729c4ca2fe2,dependabot[bot],2021-06-20 00:17:06+00:00,"Update pytest-xdist requirement from <2.3,>=2.2.1 to >=2.2.1,<2.4 (#1378)

Updates the requirements on [pytest-xdist](https://github.com/pytest-dev/pytest-xdist) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-xdist/releases)
- [Changelog](https://github.com/pytest-dev/pytest-xdist/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-xdist/compare/v2.2.1...v2.3.0)

---
updated-dependencies:
- dependency-name: pytest-xdist
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20346,8942,17421,641,2.818548387096774,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1067,a6c55afe8c82ead8deb32f90c9324022fd422324,Chris Amico,2021-06-21 15:57:38+00:00,"Ensure db.path is a string before trying to insert into internal database (#1370)

Thanks, @eyeseast",False,16,15,1,1.0,1.0,1.0,20360,8950,17429,642,2.8167170191339377,55.87998521940298,50.506493506493506,79.59740259740259,555.9793596290821,2.7703287184942478,3383.769720853991,187.9872067141107,0.185326453209694
1068,4a3e8561ab109f3f171726bc2a7ebac1f23b72a6,Simon Willison,2021-06-23 22:40:09+00:00,"Default 405 for POST, plus tests",False,10,10,0,1.0,1.0,0.7142857142857143,20370,8957,17436,642,2.8130653266331658,55.877317898516274,50.532467532467535,79.63636363636364,556.3890526724531,2.770297834583582,3386.2421451640685,188.1245636202261,0.1854630175574843
1069,b1fd24ac9f9035464af0a8ce92391c166a783253,Simon Willison,2021-06-23 22:40:09+00:00,"skip_csrf(datasette, scope) plugin hook, refs #1377",False,69,68,1,0.10714285714285714,0.8571428571428571,0.9642857142857143,20410,8979,17467,645,2.8076152304609217,55.86315571703776,50.61038961038961,79.83116883116882,557.9784613064063,2.7710316520527356,3396.1568226907907,188.67537903837734,0.18599282043546866
1070,02b19c7a9afd328f22040ab33b5c1911cd904c7c,Simon Willison,2021-06-23 22:50:48+00:00,"Removed rogue pdb=True, refs #1377",False,1,0,1,1.0,1.0,1.0,20409,8979,17466,645,2.8076152304609217,55.86320007086345,50.61038961038961,79.83116883116882,557.9784613064063,2.7710316520527356,3396.1568226907907,188.67537903837734,0.18599282043546866
1071,ff17970ed4988a80b699d417bbeec07d63400e24,Simon Willison,2021-06-24 16:24:59+00:00,"Release 0.58a1

Refs #1365, #1377",False,11,10,1,,,,20409,8979,17466,645,2.8076152304609217,55.86320007086345,50.61038961038961,79.83116883116882,557.9784613064063,2.7710316520527356,3396.1568226907907,188.67537903837734,0.18599282043546866
1072,baf986c871708c01ca183be760995cf306ba21bf,Brandon Roberts,2021-06-26 22:24:54+00:00,"New get_metadata() plugin hook for dynamic metadata

The following hook is added:

    get_metadata(
      datasette=self, key=key, database=database, table=table,
      fallback=fallback
    )

This gets called when we're building our metdata for the rest
of the system to use. We merge whatever the plugins return
with any local metadata (from metadata.yml/yaml/json) allowing
for a live-editable dynamic Datasette.

As a security precation, local meta is *not* overwritable by
plugin hooks. The workflow for transitioning to live-meta would
be to load the plugin with the full metadata.yaml and save.
Then remove the parts of the metadata that you want to be able
to change from the file.

* Avoid race condition: don't mutate databases list

This avoids the nasty ""RuntimeError: OrderedDict mutated during
iteration"" error that randomly happens when a plugin adds a
new database to Datasette, using `add_database`. This change
makes the add and remove database functions more expensive, but
it prevents the random explosion race conditions that make for
confusing user experience when importing live databases.

Thanks, @brandonrobertz",False,124,114,10,0.54,0.7,0.64,20477,9014,17516,650,2.806387225548902,55.849670858669214,50.76623376623377,80.07792207792208,560.3112835658279,2.770445968840599,3409.925029817923,189.44027943432914,0.18677042785527595
1073,05a312caf3debb51aa1069939923a49e21cd2bd1,Simon Willison,2021-06-26 22:25:28+00:00,"Applied Black, refs #1368",False,22,9,13,1.0,0.0,0.0,20473,9014,17510,650,2.806387225548902,55.85030606429258,50.76623376623377,80.07792207792208,560.3112835658279,2.770445968840599,3409.925029817923,189.44027943432914,0.18677042785527595
1074,ea627baccf980d7d8ebc9e1ffff1fe34d556e56f,Simon Willison,2021-06-27 00:02:42+00:00,"Removed fallback parameter from get_metadata, refs #1384",False,12,6,6,,,,20473,9014,17510,650,2.806387225548902,55.85030606429258,50.76623376623377,80.07792207792208,560.3112835658279,2.770445968840599,3409.925029817923,189.44027943432914,0.18677042785527595
1075,83f6799a96f48b5acef4911c0273973f15efdf05,Simon Willison,2021-07-10 18:33:08+00:00,"searchmode: raw table metadata property, closes #1389",False,77,66,11,0.5454545454545454,0.5454545454545454,0.0,20519,9026,17551,652,2.8075772681954136,55.84596439673744,50.84415584415584,80.23376623376623,561.7784434243531,2.771001345637961,3423.4541576583415,190.19189764768572,0.18725948114145097
1076,2e8d924cdc2274eb31fb76332bc5269f65c0ad90,Simon Willison,2021-07-10 19:03:19+00:00,"Refactored generated_columns test, no longer in fixtures.db - refs #1391",False,141,59,82,0.0,0.5,0.5,20496,9021,17529,652,2.8055832502492524,55.85644041214498,50.77922077922078,80.15584415584415,561.0698626272309,2.764426932039286,3416.9766217581873,189.83203454212168,0.1870232875424102
1077,e0064ba7b06973eae70e6222a6208d9fed5bd170,Simon Willison,2021-07-10 19:14:14+00:00,"Fixes for test_generated_columns_are_visible_in_datasette, refs #1391",False,11,5,6,1.0,0.0,0.0,20495,9021,17528,652,2.8055832502492524,55.85644041214498,50.77922077922078,80.15584415584415,561.0698626272309,2.764426932039286,3416.9766217581873,189.83203454212168,0.1870232875424102
1078,180c7a5328457aefdf847ada366e296fef4744f1,Simon Willison,2021-07-10 23:37:30+00:00,"--uds option for binding to Unix domain socket, closes #1388",False,67,65,2,0.8518518518518519,0.8888888888888888,0.8888888888888888,20536,9043,17563,655,2.8029850746268656,55.751281646753185,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1079,de2a1063284834ff86cb8d7c693717609d0d647e,Simon Willison,2021-07-10 23:46:49+00:00,"Ran Black, refs #1388",False,4,3,1,,,,20538,9043,17565,655,2.8029850746268656,55.751281646753185,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1080,f83c84fd51d144036924ae77d99f12b0a69e7e6f,dependabot[bot],2021-07-11 01:36:18+00:00,"Update asgiref requirement from <3.4.0,>=3.2.10 to >=3.2.10,<3.5.0 (#1386)

Updates the requirements on [asgiref](https://github.com/django/asgiref) to permit the latest version.
- [Release notes](https://github.com/django/asgiref/releases)
- [Changelog](https://github.com/django/asgiref/blob/main/CHANGELOG.txt)
- [Commits](https://github.com/django/asgiref/commits)

---
updated-dependencies:
- dependency-name: asgiref
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20538,9043,17565,655,2.8029850746268656,55.751281646753185,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1081,a6c8e7fa4cffdeff84e9e755dcff4788fd6154b8,Simon Willison,2021-07-15 00:05:43+00:00,"Big performance boost for faceting, closes #1394",False,7,3,4,1.0,1.0,1.0,20537,9043,17564,655,2.8029850746268656,55.75137168633887,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1082,e27dd7c12c2a6977560dbc0005e32c55d9d759f4,Simon Willison,2021-07-15 00:33:04+00:00,"Release 0.58

Refs #1365, #1371, #1377, #1384, #1387, #1388, #1389, #1394",False,23,12,11,,,,20537,9043,17564,655,2.8029850746268656,55.75137168633887,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1083,dd5ee8e66882c94343cd3f71920878c6cfd0da41,Simon Willison,2021-07-16 06:26:12+00:00,"Removed some unused imports

I found these with:

    flake8 datasette | grep unus",False,15,2,13,,,,20526,9034,17553,655,2.8029850746268656,55.75720159634067,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1084,c00f29affcafce8314366852ba1a0f5a7dd25690,Simon Willison,2021-07-16 19:44:58+00:00,"Fix for race condition in refresh_schemas(), closes #1231",False,17,12,5,0.8333333333333334,0.8333333333333334,0.8333333333333334,20533,9040,17559,655,2.802186878727634,55.75720159634067,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1085,c73af5dd72305f6a01ea94a2c76d52e5e26de38b,Simon Willison,2021-07-16 19:50:06+00:00,"Release 0.58.1

Refs #1231, #1396",False,9,8,1,,,,20533,9040,17559,655,2.802186878727634,55.75720159634067,50.84415584415584,80.25974025974025,561.593499444692,2.7639115743810714,3418.008666233248,189.88937034629166,0.18719783314823057
1086,eccfeb0871dd4bc27870faf64f80ac68e5b6bc0d,Simon Willison,2021-07-26 23:16:46+00:00,"register_routes() plugin hook datasette argument, closes #1404",False,41,37,4,1.0,1.0,1.0,20563,9057,17584,656,2.8015873015873014,55.72729566036191,50.96103896103896,80.44155844155844,563.2125134016493,2.7709941352836664,3446.319318411342,191.46218435618576,0.1877375044672163
1087,121e10c29c5b412fddf0326939f1fe46c3ad9d4a,Simon Willison,2021-07-29 23:30:12+00:00,"Doumentation and test for utils.parse_metadata(), closes #1405",False,34,34,0,1.0,1.0,1.0,20579,9065,17598,656,2.800792864222002,55.71492281318085,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1088,2b1c535c128984cc0ee2a097ecaa3ab638ae2a5b,Simon Willison,2021-07-30 00:44:16+00:00,"pytest.mark.serial for any test using isolated_filesystem(), refs #1406",False,15,14,1,,,,20592,9078,17611,656,2.800792864222002,55.69545129924632,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1089,e55cd9dc3f2d920d5cf6d8581ce49937a6ccc44d,Simon Willison,2021-07-30 01:16:58+00:00,"Try passing a directory to isolated_filesystem(), refs #1406",False,74,34,40,0.0,1.0,0.0,20586,9064,17605,656,2.800792864222002,55.71838881308106,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1090,b46856391de5a819a85d1dd970428cbc702be94a,Simon Willison,2021-07-30 23:46:41+00:00,"pytest.mark.serial for any test using isolated_filesystem(), refs #1406",False,14,14,0,,,,20600,9078,17619,656,2.800792864222002,55.69545129924632,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1091,96b1d0b7b42928e657b1aebcc95d55e4685690e0,Simon Willison,2021-07-31 18:48:33+00:00,Attempted fix for too-long UDS bug in #1407,False,7,5,2,0.0,0.0,0.0,20603,9077,17618,660,2.800792864222002,55.726222207355896,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1092,ff253f5242e4b0b5d85d29d38b8461feb5ea997a,Simon Willison,2021-07-31 18:49:08+00:00,"Replace all uses of runner.isolated_filesystem, refs #1406",False,576,284,292,1.0,0.0,1.0,20595,9080,17614,660,2.800792864222002,55.72021635268401,51.0,80.51948051948052,563.8038468027075,2.7712102749546124,3447.814719808393,191.5452622115775,0.18793461560090235
1093,4adca0d85077fe504e98cd7487343e76ccf25be5,Simon Willison,2021-08-01 00:58:11+00:00,"No hidden SQL on canned query pages, closes #1411",False,13,12,1,1.0,1.0,1.0,20606,9085,17621,662,2.799009900990099,55.72021635268401,51.02597402597402,80.55844155844156,564.2137475946273,2.7711796431575038,3450.288393713623,191.68268853964582,0.18807124919820895
1094,a679d0de87031e3de9013fc299ba2cbd75808684,Simon Willison,2021-08-03 16:11:18+00:00,Fixed spelling of 'receive' in a bunch of places,False,14,7,7,,,,20606,9085,17621,662,2.799009900990099,55.72021635268401,51.02597402597402,80.55844155844156,564.2137475946273,2.7711796431575038,3450.288393713623,191.68268853964582,0.18807124919820895
1095,54b6e96ee8aa553b6671e341a1944f93f3fb89c3,Simon Willison,2021-08-03 16:12:48+00:00,"Use optional rich dependency to render tracebacks, closes #1416",False,17,17,0,0.0,0.0,0.0,20623,9096,17633,663,2.8,55.71905001867624,51.03896103896104,80.59740259740259,564.561329839239,2.7714587597121554,3454.306230591401,191.90590169952233,0.18818710994641283
1096,2208c3c68e552d343e6a2872ff6e559fca9d1b38,Simon Willison,2021-08-03 16:36:38+00:00,"Spelling corrections plus CI job for codespell

* Use codespell to check spelling in documentation, refs #1417
* Fixed spelling errors spotted by codespell, closes #1417
* Make codespell a docs dependency

See also this TIL:  https://til.simonwillison.net/python/codespell",False,58,42,16,,,,20623,9096,17633,663,2.8,55.71905001867624,51.03896103896104,80.59740259740259,564.561329839239,2.7714587597121554,3454.306230591401,191.90590169952233,0.18818710994641283
1097,cd8b7bee8fb5c1cdce7c8dbfeb0166011abc72c6,Simon Willison,2021-08-03 17:03:48+00:00,"Run codespell against datasette source code too, refs #1417",False,8,5,3,,,,20623,9096,17633,663,2.8,55.71905001867624,51.03896103896104,80.59740259740259,564.561329839239,2.7714587597121554,3454.306230591401,191.90590169952233,0.18818710994641283
1098,a1f383035698da8bf188659390af6e53ffeec940,Simon Willison,2021-08-04 05:20:50+00:00,"--cpu option for datasette publish cloudrun, closes #1420",False,67,48,19,0.0,0.0,0.21739130434782608,20651,9107,17661,663,2.803960396039604,55.691317363293074,51.12987012987013,80.71428571428571,565.3624022690663,2.7855920082204038,3460.0418362744076,192.22454645968938,0.1884541340896886
1099,66e143c76e90f643dc11b6ced5433130c90a2455,Simon Willison,2021-08-07 05:17:36+00:00,"New hide_sql canned query option, refs #1422",False,125,111,14,0.0,0.6229508196721312,0.3770491803278688,20727,9140,17733,663,2.8031651829871413,55.67566986482876,51.22077922077922,80.87012987012987,566.9738396557427,2.7856435232474865,3471.0186084136812,192.8343671340935,0.18899127988524744
1100,a21853c9dade240734abc6b4f750fae09a3e840a,Simon Willison,2021-08-07 05:17:36+00:00,"Fix for rich.console sometimes not being available, refs #1416",False,2,1,1,,,,20727,9140,17733,663,2.8031651829871413,55.67566986482876,51.22077922077922,80.87012987012987,566.9738396557427,2.7856435232474865,3471.0186084136812,192.8343671340935,0.18899127988524744
1101,61505dd0c6717cecdb73897e8613de9e9b7b6c42,Simon Willison,2021-08-07 05:40:07+00:00,"Release 0.59a0

Refs #1404, #1405, #1416, #1420, #1422",False,13,12,1,,,,20727,9140,17733,663,2.8031651829871413,55.67566986482876,51.22077922077922,80.87012987012987,566.9738396557427,2.7856435232474865,3471.0186084136812,192.8343671340935,0.18899127988524744
1102,3bb6409a6cb8eaee32eb572423d9c0485a1dd917,Simon Willison,2021-08-08 23:05:00+00:00,"render_cell() can now return an awaitable, refs",False,87,66,21,0.0,0.9354838709677419,1.0,20770,9148,17773,663,2.800395256916996,55.66807453598893,51.246753246753244,80.94805194805195,567.5471036971763,2.7791600061876567,3471.5006811860744,192.86114895478198,0.1891823678990587
1103,818b0b76a2d58f7c2d850570efcdc22d345b4059,Simon Willison,2021-08-08 23:07:52+00:00,"Test table render_cell async as well as query results, refs #1425",False,7,5,2,,,,20773,9149,17776,663,2.800395256916996,55.667457377314705,51.246753246753244,80.94805194805195,567.5471036971763,2.7791600061876567,3471.5006811860744,192.86114895478198,0.1891823678990587
1104,f3c9edb376a13c09b5ecf97c7390f4e49efaadf2,Simon Willison,2021-08-08 23:11:40+00:00,Fixed some tests I broke in #1425,False,3,2,1,,,,20774,9149,17777,663,2.800395256916996,55.66699716103894,51.246753246753244,80.94805194805195,567.5471036971763,2.7791600061876567,3471.5006811860744,192.86114895478198,0.1891823678990587
1105,a390bdf9cef01d8723d025fc3348e81345ff4856,Simon Willison,2021-08-09 00:38:42+00:00,"Stop using firstresult=True on render_cell, refs #1425

See https://github.com/simonw/datasette/issues/1425#issuecomment-894883664",False,28,18,10,0.0,0.0,0.5,20782,9157,17785,663,2.802371541501976,55.65838035248094,51.25974025974026,80.98701298701299,567.8232065659832,2.7799084682519077,3473.3615331283822,192.96452961824355,0.18927440218866098
1106,ad90a72afa21b737b162e2bbdddc301a97d575cd,Simon Willison,2021-08-09 01:13:03+00:00,"Release 0.59a1

Refs #1425",False,9,8,1,,,,20782,9157,17785,663,2.802371541501976,55.65838035248094,51.25974025974026,80.98701298701299,567.8232065659832,2.7799084682519077,3473.3615331283822,192.96452961824355,0.18927440218866098
1107,fc4846850fffd54561bc125332dfe97bb41ff42e,Simon Willison,2021-08-09 03:21:13+00:00,"New way of deriving named parameters using explain, refs #1421",False,33,31,2,0.8666666666666667,0.8666666666666667,0.8666666666666667,20811,9173,17809,663,2.8027613412228796,55.64974836844167,51.311688311688314,81.06493506493507,568.4976726889432,2.7796423178879475,3477.255252805933,193.18084737810744,0.18949922422964766
1108,b1fed48a95516ae84c0f020582303ab50ab817e2,Simon Willison,2021-08-09 03:26:08+00:00,"derive_named_parameters falls back to regex on SQL error, refs #1421",False,22,13,9,,,,20815,9173,17812,663,2.8027613412228796,55.64937060765328,51.311688311688314,81.06493506493507,568.4976726889432,2.7796423178879475,3477.255252805933,193.18084737810744,0.18949922422964766
1109,e837095ef35ae155b4c78cc9a8b7133a48c94f03,Simon Willison,2021-08-12 23:53:23+00:00,"Column metadata, closes #942",False,90,88,2,0.0,0.64,0.92,20841,9181,17836,663,2.8029556650246303,55.64657046790022,51.41558441558441,81.22077922077922,570.1045027853372,2.7791848726621344,3487.172773678574,193.73182075992085,0.190034834261779
1110,77f46297a88ac7e49dad2139410b01ee56d5f99c,Simon Willison,2021-08-13 01:01:57+00:00,"Rename --help-config to --help-settings, closes #1431",False,24,16,8,1.0,1.0,1.0,20849,9187,17842,663,2.802165354330709,55.635998379659966,51.44155844155844,81.25974025974025,570.4159299542188,2.7790528908228356,3488.2737296799723,193.79298498222076,0.19013864331807287
1111,ca4f83dc7b1d573b92a8921fca96d3ed490614c3,Simon Willison,2021-08-13 01:10:36+00:00,"Rename config= to settings=, refs #1432",False,68,35,33,1.0,1.0,1.0,20851,9187,17844,663,2.802165354330709,55.635998379659966,51.45454545454545,81.25974025974025,570.4487098886451,2.778625122048311,3486.9090024158118,193.7171668008785,0.19014956996288163
1112,bbc4756f9e8180c7a40c57f8a35e39dee7be7807,Simon Willison,2021-08-13 03:54:25+00:00,"Settings fix, refs #1433",False,2,1,1,,,,20851,9187,17844,663,2.802165354330709,55.635998379659966,51.44155844155844,81.25974025974025,570.4159299542188,2.7790528908228356,3488.2737296799723,193.79298498222076,0.19013864331807287
1113,2883098770fc66e50183b2b231edbde20848d4d6,Simon Willison,2021-08-13 05:17:40+00:00,"Fixed config_dir mode, refs #1432",False,2,1,1,,,,20851,9187,17844,663,2.802165354330709,55.635998379659966,51.44155844155844,81.25974025974025,570.4159299542188,2.7790528908228356,3488.2737296799723,193.79298498222076,0.19013864331807287
1114,adb5b70de5cec3c3dd37184defe606a082c232cf,Simon Willison,2021-08-16 18:56:32+00:00,"Show count of facet values if ?_facet_size=max, closes #1423",False,32,30,2,0.0,0.9411764705882353,1.0,20872,9201,17862,664,2.8033431661750248,55.635547238280125,51.54545454545455,81.45454545454545,572.3765756442984,2.778911359315967,3502.8468220360123,194.60260122422295,0.19079219188143276
1115,5161422b7fa249c6b7d6dc47ec6f483d3fdbd170,dependabot[bot],2021-08-25 01:29:26+00:00,"Update trustme requirement from <0.9,>=0.7 to >=0.7,<0.10 (#1433)

Updates the requirements on [trustme](https://github.com/python-trio/trustme) to permit the latest version.
- [Release notes](https://github.com/python-trio/trustme/releases)
- [Commits](https://github.com/python-trio/trustme/compare/v0.7.0...v0.9.0)

---
updated-dependencies:
- dependency-name: trustme
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20872,9201,17862,664,2.8033431661750248,55.635547238280125,51.54545454545455,81.45454545454545,572.3765756442984,2.778911359315967,3502.8468220360123,194.60260122422295,0.19079219188143276
1116,a1a33bb5822214be1cebd98cd858b2058d91a4aa,dependabot[bot],2021-08-25 01:29:55+00:00,"Bump black from 21.6b0 to 21.7b0 (#1400)

Bumps [black](https://github.com/psf/black) from 21.6b0 to 21.7b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20872,9201,17862,664,2.8033431661750248,55.635547238280125,51.54545454545455,81.45454545454545,572.3765756442984,2.778911359315967,3502.8468220360123,194.60260122422295,0.19079219188143276
1117,3655bb49a464bcc8004e491cc4d4de292f1acd62,Simon Willison,2021-08-28 00:49:03+00:00,"Better default help text, closes #1450",False,6,5,1,,,,20876,9201,17862,664,2.8033431661750248,55.645202172927455,51.54545454545455,81.45454545454545,572.3765756442984,2.778911359315967,3502.8468220360123,194.60260122422295,0.19079219188143276
1118,30c18576d603366dc3bd83ba50de1b7e70844430,Simon Willison,2021-08-28 01:39:42+00:00,"register_commands() plugin hook, closes #1449",False,110,109,1,0.2765957446808511,1.0,1.0,20939,9232,17910,666,2.8,55.6285736929803,51.5974025974026,81.53246753246754,573.1097628135503,2.7788244896638803,3506.5392377406997,194.80773543003897,0.19103658760451675
1119,d3ea36713194e3d92ed4c066337400146c921d0e,Simon Willison,2021-08-28 01:55:54+00:00,"Release 0.59a2

Refs #942, #1421, #1423, #1431, #1443, #1446, #1449",False,17,15,2,,,,20939,9232,17910,666,2.8,55.6285736929803,51.5974025974026,81.53246753246754,573.1097628135503,2.7788244896638803,3506.5392377406997,194.80773543003897,0.19103658760451675
1120,98dcabccbbf9c0800efa74df9b7d1fee81c3cd0c,Simon Willison,2021-10-09 00:32:11+00:00,"asyncio_run helper to deal with a 3.10 warning, refs #1482",False,22,14,8,1.0,1.0,1.0,20945,9236,17913,667,2.799216454456415,55.62984450249507,51.5974025974026,81.53246753246754,573.1097628135503,2.7788244896638803,3506.5392377406997,194.80773543003897,0.19103658760451675
1121,1163da89163f357003007b14f458a2c28f2e0a8e,Simon Willison,2021-10-09 00:32:52+00:00,"Update test to handle Python 3.10 error message differenc, refs #1482",False,2,1,1,,,,20945,9236,17913,667,2.799216454456415,55.63098915671888,51.57142857142857,81.49350649350649,572.8038226193091,2.778929647663775,3505.6115186926763,194.75619548292656,0.19093460753976965
1122,875117c343e454221ef023be6ad977fdaea3ceda,Simon Willison,2021-10-10 01:14:56+00:00,"Fix bug with ?_next=x&_sort=rowid, closes #1470",False,12,10,2,0.75,0.75,0.75,20953,9240,17917,669,2.799412915851272,55.629687885715,51.63636363636363,81.6103896103896,573.9278255938353,2.778837205262877,3514.7650138028116,195.2647229890452,0.19130927519794505
1123,0d5cc20aeffa3537cfc9296d01ec24b9c6e23dcf,Simon Willison,2021-10-10 01:25:33+00:00,"Revert ""asyncio_run helper to deal with a 3.10 warning, refs #1482""

This reverts commit 98dcabccbbf9c0800efa74df9b7d1fee81c3cd0c.",False,22,8,14,0.0,0.0,0.0,20947,9236,17914,668,2.8001958863858962,55.62841707620022,51.63636363636363,81.6103896103896,573.9278255938353,2.778837205262877,3514.7650138028116,195.2647229890452,0.19130927519794505
1124,b50bf5d13fed10d0b930f62198d8f2658e15e1eb,Simon Willison,2021-10-13 21:08:06+00:00,"Don't persist _next in hidden field, closes #1483",False,12,11,1,1.0,1.0,1.0,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1125,759fd97a54638c1a5e2cac65bac0ac7c07ce2305,dependabot[bot],2021-10-13 21:09:23+00:00,"Update pytest-timeout requirement from <1.5,>=1.4.2 to >=1.4.2,<2.1 (#1485)

Updates the requirements on [pytest-timeout](https://github.com/pytest-dev/pytest-timeout) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-timeout/releases)
- [Commits](https://github.com/pytest-dev/pytest-timeout/commits)

---
updated-dependencies:
- dependency-name: pytest-timeout
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1126,6aab0217f07bff4556cc92885a14279d5b295f84,dependabot[bot],2021-10-13 21:10:03+00:00,"Update pytest-xdist requirement from <2.4,>=2.2.1 to >=2.2.1,<2.5 (#1476)

Updates the requirements on [pytest-xdist](https://github.com/pytest-dev/pytest-xdist) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-xdist/releases)
- [Changelog](https://github.com/pytest-dev/pytest-xdist/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-xdist/compare/v2.2.1...v2.4.0)

---
updated-dependencies:
- dependency-name: pytest-xdist
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1127,a673a93b57e249f06b2d0265ce33f458258feeb0,dependabot[bot],2021-10-13 21:11:00+00:00,"Update pluggy requirement from ~=0.13.0 to >=0.13,<1.1 (#1448)

Updates the requirements on [pluggy](https://github.com/pytest-dev/pluggy) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pluggy/releases)
- [Changelog](https://github.com/pytest-dev/pluggy/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pluggy/compare/0.13.0...1.0.0)

---
updated-dependencies:
- dependency-name: pluggy
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1128,e1012e7098056734d9c90f081493991009253390,dependabot[bot],2021-10-13 21:47:42+00:00,"Bump black from 21.7b0 to 21.9b0 (#1471)

Bumps [black](https://github.com/psf/black) from 21.7b0 to 21.9b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1129,2a8c6690399ee832ee62aafdede1794f5945d911,dependabot[bot],2021-10-13 22:35:36+00:00,"Update beautifulsoup4 requirement (#1463)

Updates the requirements on [beautifulsoup4](http://www.crummy.com/software/BeautifulSoup/bs4/) to permit the latest version.

---
updated-dependencies:
- dependency-name: beautifulsoup4
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20957,9242,17922,668,2.8003913894324852,55.62841707620022,51.714285714285715,81.72727272727273,575.1660924456869,2.77874872012403,3522.23712346126,195.67984019229232,0.19172203081522893
1130,b267b5775436577a91a9f9655143908aecff05da,Simon Willison,2021-10-14 18:03:44+00:00,"Upgrade to httpx 0.20

* Upgrade to httpx 0.20, closes #1488
* TestClient.post() should not default to following redirects",False,131,60,71,0.36363636363636365,0.0,0.0,20946,9247,17911,668,2.8013698630136985,55.61879907089511,51.8051948051948,81.84415584415585,576.0900307967346,2.7866177196342754,3527.032883627889,195.9462713126606,0.19203001026557814
1131,827fa823d1b919c445f3141174ecb7a82717d99c,dependabot[bot],2021-10-14 18:10:42+00:00,"Update pyyaml requirement from ~=5.3 to >=5.3,<7.0 (#1489)

Updates the requirements on [pyyaml](https://github.com/yaml/pyyaml) to permit the latest version.
- [Release notes](https://github.com/yaml/pyyaml/releases)
- [Changelog](https://github.com/yaml/pyyaml/blob/master/CHANGES)
- [Commits](https://github.com/yaml/pyyaml/compare/5.3...6.0)

---
updated-dependencies:
- dependency-name: pyyaml
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20946,9247,17911,668,2.8013698630136985,55.61879907089511,51.8051948051948,81.84415584415585,576.0900307967346,2.7866177196342754,3527.032883627889,195.9462713126606,0.19203001026557814
1132,85849935292e500ab7a99f8fe0f9546e903baad3,Simon Willison,2021-10-14 19:03:28+00:00,"--cors Access-Control-Allow-Headers: Authorization

Refs #1467, refs https://github.com/simonw/datasette-auth-tokens/issues/4",False,31,20,11,1.0,1.0,0.75,20955,9251,17918,668,2.7996089931573804,55.61851924843902,51.83116883116883,81.88311688311688,576.4881733499964,2.7865971333365156,3529.633446209642,196.09074701164687,0.19216272444999874
1133,8934507cdc0029a598cf37cdb3818fd31af5e33c,Simon Willison,2021-10-14 19:22:19+00:00,"Release 0.59

Refs #942, #1404, #1405, #1416, #1420, #1421, #1422, #1423, #1425, #1431, #1443, #1446, #1449, #1467, #1469, #1470, #1488",False,26,9,17,,,,20955,9251,17918,668,2.7996089931573804,55.61851924843902,51.83116883116883,81.88311688311688,576.4881733499964,2.7865971333365156,3529.633446209642,196.09074701164687,0.19216272444999874
1134,96a823f2834a262ae97a90ebfb6847f14763c415,Simon Willison,2021-10-24 22:19:54+00:00,"Fix compatibility with Python 3.10 (#1481)

* Run tests against Python 3.10
* Upgrade to Janus 0.6.2 for Python 3.10
* Add 3.10 to classifiers

Closes #1482",False,5,3,2,,,,20956,9251,17919,668,2.7996089931573804,55.61851924843902,51.83116883116883,81.88311688311688,576.4881733499964,2.7865971333365156,3529.633446209642,196.09074701164687,0.19216272444999874
1135,03cc697b6b3d0983618c29ee75b45b5e0ac91139,dependabot[bot],2021-10-24 22:22:39+00:00,"Update pytest-asyncio requirement from <0.16,>=0.10 to >=0.10,<0.17 (#1494)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.10.0...v0.16.0)

---
updated-dependencies:
- dependency-name: pytest-asyncio
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,20956,9251,17919,668,2.7996089931573804,55.61851924843902,51.83116883116883,81.88311688311688,576.4881733499964,2.7865971333365156,3529.633446209642,196.09074701164687,0.19216272444999874
1136,e6e44372b34414eac2f36a4c1120af4f755aa423,Simon Willison,2021-10-24 22:29:56+00:00,"Release 0.59.1

Refs #1482, #1496",False,10,9,1,,,,20956,9251,17919,668,2.7996089931573804,55.61851924843902,51.83116883116883,81.88311688311688,576.4881733499964,2.7865971333365156,3529.633446209642,196.09074701164687,0.19216272444999874
1137,c306b696de0a582e322f9eb7cb4125c83301e3a9,Simon Willison,2021-11-14 04:44:54+00:00,"Correct facet links for columns with a leading underscore, closes #1506",False,222,179,43,0.022556390977443608,0.9774436090225563,1.0,21092,9261,18053,668,2.798828125,55.586914162168256,51.883116883116884,81.96103896103897,577.0152399651753,2.7865800113681733,3529.898285432502,196.10546030180575,0.19233841332172508
1138,c9e3cfecc8e966e5137d72e3f2150be9602d55f5,Simon Willison,2021-11-14 04:53:00+00:00,"Columns in filters now ignore ?_nocol, closes #1503",False,22,21,1,0.0,1.0,1.0,21112,9266,18070,669,2.797073170731707,55.586914162168256,51.935064935064936,82.03896103896103,577.8417325422943,2.786522153523067,3534.8856010639142,196.38253339243974,0.19261391084743137
1139,1c13e1af0664a4dfb1e69714c56523279cae09e4,Simon Willison,2021-11-14 05:08:33+00:00,"Ensure query columns are included too, ref #1503",False,13,11,2,0.0,0.0,1.0,21121,9267,18076,673,2.797073170731707,55.589781513555984,51.98701298701299,82.11688311688312,578.5920303723226,2.785835697122325,3539.8780320774863,196.65989067097152,0.19286401012410745
1140,de1e031713f47fbd51eb7239db3e7e6025fbf81a,Simon Willison,2021-11-14 05:14:43+00:00,"Release 0.59.2

Refs #1497, #1503, #1506",False,12,11,1,,,,21121,9267,18076,673,2.797073170731707,55.589781513555984,51.98701298701299,82.11688311688312,578.5920303723226,2.785835697122325,3539.8780320774863,196.65989067097152,0.19286401012410745
1141,07044bd130542870d5eb2e545988d0a24eb573ec,Simon Willison,2021-11-15 23:41:07+00:00,"SQL view-friendly arraycontains/arraynotcontains implementation, refs #448",False,21,9,12,,,,21118,9267,18073,673,2.797073170731707,55.58711510881493,51.98701298701299,82.11688311688312,578.5920303723226,2.785835697122325,3539.8780320774863,196.65989067097152,0.19286401012410745
1142,55024b5301892306b786fc37a8ab3c096be5c227,Simon Willison,2021-11-16 01:19:33+00:00,"_facet_array no longer confused by duplicate array items, closes #448",False,81,77,4,0.0,0.7878787878787878,1.0,21191,9279,18142,674,2.7962962962962963,55.565897961822444,52.01298701298701,82.15584415584415,578.8596471151146,2.785828330694085,3540.0124497779543,196.66735832099755,0.19295321570503818
1143,0156c6b5e52d541e93f0d68e9245f20ae83bc933,Simon Willison,2021-11-16 01:31:33+00:00,"Facet in predictable order for tests, refs #448",False,2,1,1,,,,21191,9279,18142,674,2.7962962962962963,55.565897961822444,52.01298701298701,82.15584415584415,578.8596471151146,2.785828330694085,3540.0124497779543,196.66735832099755,0.19295321570503818
1144,6e971b4ac175df95ac7fe5dc2b57b53ad7f533fc,Simon Willison,2021-11-19 03:07:21+00:00,"Test confirming plugins can over-ride default routes, closes #1517",False,29,28,1,0.2608695652173913,1.0,1.0,21218,9287,18164,675,2.794547224926972,55.57039956699749,52.064935064935064,82.23376623376623,579.5954840001172,2.7857510229850737,3543.717048641761,196.87316936898677,0.19319849466670566
1145,30255055150d7bc0affc8156adc18295495020ff,Simon Willison,2021-11-19 03:19:43+00:00,functools.wraps to help investigate #1517,False,2,2,0,1.0,1.0,1.0,21220,9289,18166,675,2.794547224926972,55.57039956699749,52.064935064935064,82.23376623376623,579.5954840001172,2.7857510229850737,3543.717048641761,196.87316936898677,0.19319849466670566
1146,ff0dd4da38d48c2fa9250ecf336002c9ed724e36,Simon Willison,2021-11-19 20:29:37+00:00,"repr() method for Request, refs #1519",False,11,11,0,1.0,1.0,1.0,21231,9294,18174,675,2.7910592808551993,55.557358609756314,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1147,c617e1769ea27e045b0f2907ef49a9a1244e577d,Simon Willison,2021-11-19 23:13:17+00:00,Fixed test I broke with new repr() in ##1519,False,2,1,1,,,,21231,9294,18174,675,2.7910592808551993,55.557358609756314,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1148,fe687fd0207c4c56c4778d3e92e3505fc4b18172,Simon Willison,2021-11-20 00:53:11+00:00,"Fixed a whole bunch of broken base_url links

Refs #1519, #838",False,59,40,19,0.0,0.0,0.0,21252,9298,18195,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1149,640031edfd40ba66aee3c4f7008c78c6a78a3e69,Simon Willison,2021-11-20 01:01:17+00:00,Fixed bug introduced in #1519,False,2,1,1,,,,21252,9298,18195,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1150,08947fa76433d18988aa1ee1d929bd8320c75fe2,Simon Willison,2021-11-20 19:03:08+00:00,"Fix more broken base_url links

Refs #1519, #838",False,13,7,6,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1151,250db8192cb8aba5eb8cd301ccc2a49525bc3d24,Simon Willison,2021-11-20 19:09:05+00:00,"Hopefully last fix relating to #1519, #838",False,2,1,1,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1152,48f11998b73350057b74fe6ab464d4ac3071637c,Simon Willison,2021-11-20 23:40:21+00:00,"Release 0.59.3

Refs #448, #838, #1519",False,11,10,1,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1153,1beb7d939999da79bb77c4d3c777657c8a16bcd9,dependabot[bot],2021-11-30 02:29:54+00:00,"Update aiofiles requirement from <0.8,>=0.4 to >=0.4,<0.9 (#1537)

Updates the requirements on [aiofiles](https://github.com/Tinche/aiofiles) to permit the latest version.
- [Release notes](https://github.com/Tinche/aiofiles/releases)
- [Commits](https://github.com/Tinche/aiofiles/compare/v0.4.0...v0.8.0)

---
updated-dependencies:
- dependency-name: aiofiles
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1154,cc4c70b3670ce2a85bb883b8d5626574590efe14,dependabot[bot],2021-11-30 02:35:28+00:00,"Bump black from 21.9b0 to 21.11b1 (#1516)

Bumps [black](https://github.com/psf/black) from 21.9b0 to 21.11b1.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1155,83eb29deced2430f40c3374ff9085d65d86d8281,dependabot[bot],2021-11-30 02:37:13+00:00,"Update janus requirement from <0.7,>=0.6.2 to >=0.6.2,<0.8 (#1529)

Updates the requirements on [janus](https://github.com/aio-libs/janus) to permit the latest version.
- [Release notes](https://github.com/aio-libs/janus/releases)
- [Changelog](https://github.com/aio-libs/janus/blob/master/CHANGES.rst)
- [Commits](https://github.com/aio-libs/janus/compare/v0.6.2...v0.7.0)

---
updated-dependencies:
- dependency-name: janus
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21253,9298,18196,675,2.792031098153547,55.55568228263204,52.09090909090909,82.27272727272727,579.8633777782421,2.785411493233779,3544.259644965422,196.90331360919015,0.1932877925927473
1156,06762776f712526fdb40a18ed26f259be62bb214,Simon Willison,2021-11-30 03:04:35+00:00,"Fix for incorrect hidden for fields for _columns, refs #1527",False,19,18,1,0.6923076923076923,0.6923076923076923,1.0,21270,9305,18209,677,2.79126213592233,55.55497396270499,52.142857142857146,82.35064935064935,580.652606311954,2.78504986288846,3549.260307708746,197.1811282060415,0.19355086877065128
1157,69244a617b1118dcbd04a8f102173f04680cf08c,Simon Willison,2021-11-30 06:20:42+00:00,"Rename city_id to _city_id in fixtures, refs #1525",False,140,70,70,,,,21270,9305,18209,677,2.79126213592233,55.55497396270499,52.142857142857146,82.35064935064935,580.652606311954,2.78504986288846,3549.260307708746,197.1811282060415,0.19355086877065128
1158,a37ee74891f14898d5810127c7ca3355e77ff57d,Simon Willison,2021-11-30 06:34:31+00:00,"Correct link to _ prefix on row page, closes #1525",False,40,38,2,0.5789473684210527,0.5789473684210527,0.0,21306,9321,18243,677,2.7904946653734237,55.55122462866428,52.25974025974026,82.54545454545455,582.6544882934834,2.7847719924269874,3562.845937889104,197.93588543828363,0.19421816276449444
1159,35b12746ba2bf9f254791bddac03d25b19be9b77,Simon Willison,2021-11-30 06:37:22+00:00,Fixed CSV test I broke in #1525,False,44,23,21,1.0,1.0,1.0,21308,9320,18245,677,2.7904946653734237,55.55182707729588,52.25974025974026,82.54545454545455,582.6544882934834,2.7847719924269874,3562.845937889104,197.93588543828363,0.19421816276449444
1160,ca6624643842f4b80644b83c3f4ad7c2265c15d8,Simon Willison,2021-11-30 06:45:04+00:00,Updated JSON foreign key tables test for #1525,False,5,5,0,0.0,1.0,1.0,21313,9320,18250,677,2.7904946653734237,55.55182707729588,52.25974025974026,82.54545454545455,582.6544882934834,2.7847719924269874,3562.845937889104,197.93588543828363,0.19421816276449444
1161,7c02be2ee94cc64b120cc58b7a72cd387031f287,Simon Willison,2021-11-30 06:45:37+00:00,"Release 0.59.4

Refs #1525, #1527",False,11,10,1,,,,21313,9320,18250,677,2.7904946653734237,55.55182707729588,52.25974025974026,82.54545454545455,582.6544882934834,2.7847719924269874,3562.845937889104,197.93588543828363,0.19421816276449444
1162,36b596e3832f6126bb0e4e90cf9257b9e9c9a55e,Simon Willison,2021-12-07 19:41:56+00:00,Framework :: Datasette Trove classifier,False,1,1,0,,,,21314,9320,18251,677,2.7904946653734237,55.55182707729588,52.25974025974026,82.54545454545455,582.6544882934834,2.7847719924269874,3562.845937889104,197.93588543828363,0.19421816276449444
1163,737115ea14cd51ffb55dea886e6a684c148db2c9,Simon Willison,2021-12-07 20:03:42+00:00,"Label column finder is now case-insensitive

Closes #1544",False,2,1,1,,,,21314,9320,18251,677,2.7904946653734237,55.55172471071762,52.27272727272727,82.54545454545455,582.6848132773864,2.7836316415497944,3562.0196963376093,197.88998312986723,0.1942282710924621
1164,1876975e3b120298cec2ff14825260f4a19a0568,Simon Willison,2021-12-12 03:06:45+00:00,"Refactor table view HTML tests to test_table_html.py

Refs #1518",False,2133,1070,1063,,,,21321,9326,18260,678,2.7904946653734237,55.235507688892575,51.050632911392405,80.45569620253164,555.2362534081268,2.7685586665579676,3261.008747054587,181.16715261414382,0.18507875113604227
1165,492f9835aa7e90540dd0c6324282b109f73df71b,Simon Willison,2021-12-12 03:07:19+00:00,"Refactor table view API tests to test_table_api.py

Refs #1518",False,2415,1211,1204,,,,21328,9330,18267,679,2.7904946653734237,54.854424867273735,50.4875,79.45,540.2617127866089,2.7735427732644182,3043.2778346680107,169.0709908148896,0.18008723759553635
1166,a6ff123de5464806441f6a6f95145c9a83b7f20b,Simon Willison,2021-12-12 20:01:51+00:00,"keep_blank_values=True when parsing query_string, closes #1551

Refs #1518",False,29,20,9,1.0,1.0,1.0,21339,9337,18278,678,2.7887596899224807,54.833656055231,50.5375,79.525,540.7846105651004,2.772987217708863,3044.337651972911,169.1298695540507,0.18026153685503352
1167,8b411a6b70e93e044820d613a28607ba5d6fe416,dependabot[bot],2021-12-13 23:22:21+00:00,"Update pytest-xdist requirement from <2.5,>=2.2.1 to >=2.2.1,<2.6 (#1548)

Updates the requirements on [pytest-xdist](https://github.com/pytest-dev/pytest-xdist) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-xdist/releases)
- [Changelog](https://github.com/pytest-dev/pytest-xdist/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-xdist/compare/v2.2.1...v2.5.0)

---
updated-dependencies:
- dependency-name: pytest-xdist
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21339,9337,18278,678,2.7887596899224807,54.833656055231,50.5375,79.525,540.7846105651004,2.772987217708863,3044.337651972911,169.1298695540507,0.18026153685503352
1168,f5538e7161cce92a4dfaa7c5b71fcb6755d96c05,dependabot[bot],2021-12-13 23:22:29+00:00,"Bump black from 21.11b1 to 21.12b0 (#1543)

Bumps [black](https://github.com/psf/black) from 21.11b1 to 21.12b0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21339,9337,18278,678,2.7887596899224807,54.833656055231,50.5375,79.525,540.7846105651004,2.772987217708863,3044.337651972911,169.1298695540507,0.18026153685503352
1169,4f02c8d4d7f8672cc98e5f8d435b5dc8fb5211dc,Simon Willison,2021-12-14 20:29:05+00:00,"Test for JSON in query_string name, refs #621

Plus simplified implementation of test_request_blank_values",False,26,14,12,,,,21341,9337,18278,678,2.7870280735721202,54.82997914539372,50.5625,79.5625,541.0494614421302,2.772749122470768,3044.874659042853,169.15970328015862,0.18034982048071016
1170,eb53837d2aeacaffd8d37f81a6639139c6a0b4d4,Simon Willison,2021-12-15 17:58:01+00:00,"Always show count of distinct facet values, closes #1556

Refs #1423",False,16,5,11,1.0,0.16666666666666666,0.0,21335,9331,18271,679,2.7850919651500483,54.84045261741816,50.5125,79.45,540.032172057822,2.772598505804823,3037.358829057489,168.7421571698606,0.18001072401927404
1171,20a2ed6bec367d2f6759be4a879364a72780b59d,Simon Willison,2021-12-16 18:47:40+00:00,"Fixed bug with metadata config of array/date facets, closes #1552

Thanks @davidbgk for spotting the fix for the bug.",False,47,43,4,0.0,1.0,1.0,21358,9336,18292,679,2.7843326885880075,54.82881493421577,50.55,79.4875,540.3189738570181,2.7789809347453915,3039.9517368978823,168.88620760543802,0.18010632461900608
1172,992496f2611a72bd51e94bfd0b17c1d84e732487,Simon Willison,2021-12-16 19:24:54+00:00,"?_nosuggest=1 parameter for table views, closes #1557",False,20,20,0,0.8461538461538461,0.8461538461538461,0.8461538461538461,21375,9349,18306,680,2.785507246376812,54.81276584949438,50.7,79.7125,542.436591540133,2.7785729300655433,3049.426272722935,169.41257070682985,0.18081219718004438
1173,95d0dd7a1cf6be6b7da41e1404184217eb93f64a,Simon Willison,2021-12-16 20:12:04+00:00,"Fix for colliding facet types bug, closes #625

Refs #830",False,119,67,52,0.0,0.0,0.5333333333333333,21390,9356,18321,680,2.7884057971014493,54.80543741195093,50.7125,79.7875,543.0550252009128,2.779698587645649,3059.123903427274,169.95132796818197,0.18101834173363765
1174,0d4145d0f4d8b2a7edc1ba4aac1be56cd536a10a,Simon Willison,2021-12-16 20:30:31+00:00,Additional test for #625,False,13,13,0,1.0,1.0,1.0,21403,9359,18332,680,2.7866795366795367,54.79838196296733,50.7375,79.825,543.3174311760446,2.77968676731468,3059.387362169834,169.96596456499088,0.18110581039201487
1175,2c07327d23d9c5cf939ada9ba4091c1b8b2ba42d,Simon Willison,2021-12-16 21:43:44+00:00,"Move columns_to_select to TableView class, add lots of comments, refs #1518",False,117,63,54,1.0,1.0,1.0,21412,9356,18329,692,2.7693050193050195,54.814561092885256,50.7375,79.825,543.3174311760446,2.77968676731468,3059.387362169834,169.96596456499088,0.18110581039201487
1176,0663d5525cc41e9260ac7d1f6386d3a6eb5ad2a9,Simon Willison,2021-12-16 22:00:29+00:00,"More comments in TableView.data(), refs #1518",False,4,3,1,,,,21414,9356,18329,693,2.7693050193050195,54.81575399620807,50.7375,79.825,543.3174311760446,2.77968676731468,3059.387362169834,169.96596456499088,0.18110581039201487
1177,aa7f0037a46eb76ae6fe9bf2a1f616c58738ecdf,Simon Willison,2021-12-17 19:02:14+00:00,"filters_from_request plugin hook, now used in TableView

- New `filters_from_request` plugin hook, closes #473
- Used it to extract the logic from TableView that handles `_search` and
`_through` and `_where` - refs #1518

Also needed for this plugin work: https://github.com/simonw/datasette-leaflet-freedraw/issues/7",False,466,354,112,0.3333333333333333,0.927536231884058,1.0,21603,9463,18479,696,2.731614135625597,54.3890253094191,51.2375,80.575,546.4008211189531,2.805497897869409,3049.9536693727105,169.44187052070623,0.18213360703965104
1178,92a5280d2e75c39424a75ad6226fc74400ae984f,Simon Willison,2021-12-17 19:13:51+00:00,"Release 0.60a0

Refs #473, #625, #1544, #1551, #1552, #1556, #1557",False,15,14,1,,,,21603,9463,18479,696,2.731614135625597,54.3890253094191,51.2375,80.575,546.4008211189531,2.805497897869409,3049.9536693727105,169.44187052070623,0.18213360703965104
1179,f000a7bd75ac512478070f2e2a09c8fb9604c82d,Simon Willison,2021-12-17 20:15:29+00:00,Use load_extension(?) instead of fstring,False,2,1,1,,,,21603,9463,18479,696,2.731614135625597,54.3890253094191,51.2375,80.575,546.4008211189531,2.805497897869409,3049.9536693727105,169.44187052070623,0.18213360703965104
1180,35cba9e85a574cebf2986b64107fa84d02bd86ad,dependabot[bot],2021-12-17 23:08:28+00:00,"Update janus requirement from <0.8,>=0.6.2 to >=0.6.2,<1.1 (#1562)

Updates the requirements on [janus](https://github.com/aio-libs/janus) to permit the latest version.
- [Release notes](https://github.com/aio-libs/janus/releases)
- [Changelog](https://github.com/aio-libs/janus/blob/master/CHANGES.rst)
- [Commits](https://github.com/aio-libs/janus/compare/v0.6.2...v1.0.0)

---
updated-dependencies:
- dependency-name: janus
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21603,9463,18479,696,2.731614135625597,54.3890253094191,51.2375,80.575,546.4008211189531,2.805497897869409,3049.9536693727105,169.44187052070623,0.18213360703965104
1181,d0f24f9bbc596873f261ed4e0267c4aa5a0bac2b,Simon Willison,2021-12-17 23:55:06+00:00,"Clarifying comment

The new filters stuff is a little bit action-at-a-distance",False,3,2,1,,,,21604,9463,18479,697,2.731614135625597,54.39030013050835,51.2375,80.575,546.4008211189531,2.805497897869409,3049.9536693727105,169.44187052070623,0.18213360703965104
1182,c35b84a2aabe2f14aeacf6cda4110ae1e94d6059,Simon Willison,2021-12-18 01:54:39+00:00,"Remove undocumented sqlite_functions mechanism, closes #1567",False,11,7,4,1.0,1.0,1.0,21607,9464,18480,697,2.7290076335877864,54.95471808695479,50.60493827160494,79.58024691358025,539.6551319693364,2.7708621213525024,3012.299920368109,167.34999557600614,0.1798850439897788
1183,83bacfa9452babe7bd66e3579e23af988d00f6ac,Simon Willison,2021-12-18 01:58:39+00:00,"Call _prepare_connection() on write connections, closes #1564",False,7,7,0,0.6666666666666666,1.0,1.0,21614,9468,18484,698,2.7273593898951383,54.958283431415694,50.60493827160494,79.58024691358025,539.6551319693364,2.7708621213525024,3012.299920368109,167.34999557600614,0.1798850439897788
1184,359140cedaf69242d6356479fb8a9d3aa591e618,Simon Willison,2021-12-18 02:09:00+00:00,"Datasette() constructor no longer requires files=, closes #1563",False,21,19,2,1.0,1.0,1.0,21631,9475,18499,698,2.7266666666666666,54.89060399030929,50.641975308641975,79.65432098765432,540.1928147482914,2.770684480420883,3016.54772861298,167.58598492294342,0.18006427158276384
1185,3a0cae4d7f77b5c2a103ea74ca7fa7a0d9ff2e66,Simon Willison,2021-12-18 02:19:09+00:00,Fix bug introduced by refactor in c35b84a2aabe2f14aeacf6cda4110ae1e94d6059,False,7,7,0,,,,21638,9475,18506,698,2.7266666666666666,54.89030579480389,50.641975308641975,79.65432098765432,540.1928147482914,2.770684480420883,3016.54772861298,167.58598492294342,0.18006427158276384
1186,7c8f8aa209e4ba7bf83976f8495d67c28fbfca24,Simon Willison,2021-12-18 02:19:36+00:00,"Documentation for Datasette() constructor, closes #1563",False,23,22,1,,,,21638,9475,18506,698,2.7266666666666666,54.89030579480389,50.641975308641975,79.65432098765432,540.1928147482914,2.770684480420883,3016.54772861298,167.58598492294342,0.18006427158276384
1187,f81d9d0cd9f567e73a1a54be34b653db8ae2c1cf,Simon Willison,2021-12-18 02:42:29+00:00,"Trace write SQL queries in addition to read ones, closes #1568",False,17,16,1,0.15384615384615385,0.0,0.8461538461538461,21653,9481,18519,699,2.7295238095238097,54.88310961776224,50.666666666666664,79.69135802469135,540.5301496647292,2.770643531211439,3018.414435022115,167.68969083456201,0.1801767165549097
1188,2e4ba71b53a45a7d2273afd30e400002c7f39755,Simon Willison,2021-12-18 18:34:15+00:00,"Optimize create table calls using executescript=True

Refs #1555, #1569",False,61,18,43,1.0,0.0,0.0,21653,9491,18514,699,2.726235741444867,54.86711154502929,50.7037037037037,79.75308641975309,541.0154164492844,2.7701346112321663,3021.131116309214,167.8406175727342,0.18033847214976148
1189,9e094b7c9d575320a2f0c956eb547bfcf6d64d39,Simon Willison,2021-12-18 18:34:15+00:00,"db.execute_write(executescript=True) option, closes #1569",False,35,31,4,1.0,1.0,0.9473684210526315,21678,9494,18540,699,2.726235741444867,54.86758927731643,50.7037037037037,79.75308641975309,541.0154164492844,2.7701346112321663,3021.131116309214,167.8406175727342,0.18033847214976148
1190,5cadc244895fc47e0534c6e90df976d34293921e,Simon Willison,2021-12-18 18:57:22+00:00,"db.execute_write_script() and db.execute_write_many(), closes #1570

Refs #1555",False,81,58,23,1.0,1.0,0.5,21668,9503,18526,699,2.7229601518026567,54.85657977538126,50.69135802469136,79.72839506172839,540.7996444576578,2.7706317171645374,3018.819955836916,167.71221976871763,0.18026654815255258
1191,d637ed46762fdbbd8e32b86f258cd9a53c1cfdc7,Simon Willison,2021-12-18 19:11:08+00:00,"Use execute_write_many to optimize internal DB, refs #1555, #1570",False,144,81,63,0.0,1.0,1.0,21686,9511,18545,696,2.7229601518026567,54.85657977538126,50.69135802469136,79.72839506172839,540.7996444576578,2.7706317171645374,3018.819955836916,167.71221976871763,0.18026654815255258
1192,97b1723dd09cf000485d4e050efc5bb4f5184a06,Simon Willison,2021-12-19 03:49:11+00:00,"Optimize init_internal_db by running PRAGMA in a single function

Refs #1555",False,102,62,40,0.0,1.0,1.0,21708,9515,18565,696,2.7191650853889944,54.85657977538126,50.69135802469136,79.72839506172839,540.7996444576578,2.7706317171645374,3018.819955836916,167.71221976871763,0.18026654815255258
1193,f65817000fdf87ce8a0c23edc40784ebe33b5842,Simon Willison,2021-12-19 20:30:34+00:00,"Include count in execute_write_many traces, closes #1571",False,37,28,9,0.6666666666666666,0.6666666666666666,0.8,21727,9527,18579,698,2.7210626185958255,54.846923256479734,50.71604938271605,79.76543209876543,541.0961603985143,2.7702880874349427,3020.4544579710005,167.80302544283342,0.18036538679950473
1194,5fac26aa221a111d7633f2dd92014641f7c0ade9,Simon Willison,2021-12-19 20:54:12+00:00,"Another populate_schema_tables optimization, refs #1555",False,42,11,31,1.0,0.045454545454545456,0.0,21707,9523,18556,698,2.7210626185958255,54.84696993935838,50.71604938271605,79.76543209876543,541.0961603985143,2.7702880874349427,3020.4544579710005,167.80302544283342,0.18036538679950473
1195,4094741c2881c2ada3f3f878b532fdaec7914953,Simon Willison,2021-12-19 21:11:57+00:00,"Fixed bug with custom templates for writable canned queries, closes #1547",False,33,26,7,0.4444444444444444,1.0,1.0,21726,9531,18574,698,2.7194312796208533,54.82704473686091,50.839506172839506,79.95061728395062,542.5624651296521,2.7771374548622254,3031.6166162245268,168.4231453458071,0.18085415504321734
1196,dbaac79946034e0b00714e2da39f934d693883d2,Simon Willison,2021-12-19 22:08:10+00:00,"Release 0.60a1

Refs #1547, #1555, #1562, #1563, #1564, #1567, #1568, #1569, #1570, #1571, #1572",False,14,13,1,,,,21726,9531,18574,698,2.7194312796208533,54.82704473686091,50.839506172839506,79.95061728395062,542.5624651296521,2.7771374548622254,3031.6166162245268,168.4231453458071,0.18085415504321734
1197,f36e010b3b69ada104b79d83c7685caf9359049e,Simon Willison,2021-12-20 01:25:40+00:00,"Upgrade to Pluggy>=1.0, refs #1575",False,2,1,1,,,,21726,9531,18574,698,2.7194312796208533,54.82704473686091,50.839506172839506,79.95061728395062,542.5624651296521,2.7771374548622254,3031.6166162245268,168.4231453458071,0.18085415504321734
1198,ace86566b28280091b3844cf5fbecd20158e9004,Simon Willison,2021-12-22 20:23:05+00:00,"Remove concept of special_args, re-arrange TableView a bit, refs #1518",False,79,38,41,1.0,1.0,1.0,21723,9528,18571,698,2.7194312796208533,54.82786905972,50.839506172839506,79.9753086419753,542.7506639400091,2.7776096939501294,3034.8489050821872,168.60271694901044,0.18091688798000297
1199,00a2895cd2dc42c63846216b36b2dc9f41170129,Simon Willison,2021-12-23 19:03:49+00:00,"execute_write defaut is now block=True, closes #1579",False,24,12,12,,,,21723,9528,18571,698,2.7194312796208533,54.82786905972,50.839506172839506,79.9753086419753,542.7506639400091,2.7776096939501294,3034.8489050821872,168.60271694901044,0.18091688798000297
1200,8c401ee0f054de2f568c3a8302c9223555146407,Simon Willison,2021-12-23 19:18:20+00:00,"Fixed remaining code and docs for new block=True default, closes #1579",False,58,19,39,1.0,0.0,0.0,21703,9528,18551,698,2.7194312796208533,54.82903677862222,50.839506172839506,79.9753086419753,542.7506639400091,2.7776096939501294,3034.8489050821872,168.60271694901044,0.18091688798000297
1201,63537dd3decfd59636f4a42b336785ef49f0cec0,Simon Willison,2022-01-13 20:34:55+00:00,"Allow 'explain query plan' with more whitespace, closes #1588",False,10,6,4,,,,21705,9528,18553,698,2.7194312796208533,54.828798861369364,50.839506172839506,79.9753086419753,542.7506639400091,2.7776096939501294,3034.8489050821872,168.60271694901044,0.18091688798000297
1202,4b23f01f3e668c8f2a2f1a294be49f49b4073969,Simon Willison,2022-01-13 21:35:54+00:00,"CLI reference docs, maintained by cog - refs #1594",False,360,360,0,,,,21706,9528,18554,698,2.7194312796208533,54.828798861369364,50.839506172839506,79.9753086419753,542.7506639400091,2.7776096939501294,3034.8489050821872,168.60271694901044,0.18091688798000297
1203,3658e57ac2de0bec0ea5de36e3ddd09784ecf65e,Simon Willison,2022-01-13 22:20:07+00:00,"Fixed bug with table title element, closes #1560",False,22,20,2,1.0,1.0,0.0,21725,9533,18571,698,2.7178030303030303,54.82397528813539,50.864197530864196,80.01234567901234,543.1024615744426,2.777558678747599,3036.6210070511966,168.70116705839985,0.1810341538581475
1204,88bc2ceae1151ec859f477d527b40f7e36012017,Simon Willison,2022-01-14 00:07:30+00:00,"--help summary for 'datasette inspect', closes #1597",False,13,12,1,,,,21731,9534,18571,698,2.7178030303030303,54.837428174870595,50.864197530864196,80.01234567901234,543.1024615744426,2.777558678747599,3036.6210070511966,168.70116705839985,0.1810341538581475
1205,8f5c44a1669427019b288f5b5debec67a90f908b,Simon Willison,2022-01-14 00:09:38+00:00,Better --help summaries for install and uninstall,False,13,6,7,,,,21731,9534,18571,698,2.7178030303030303,54.837428174870595,50.864197530864196,80.01234567901234,543.1024615744426,2.777558678747599,3036.6210070511966,168.70116705839985,0.1810341538581475
1206,8cf4b77a92f5170c33e0079f2bab48a4f36b6934,Simon Willison,2022-01-14 00:11:07+00:00,Better copy for 'datasette plugins --help',False,6,3,3,,,,21731,9534,18571,698,2.7178030303030303,54.837428174870595,50.864197530864196,80.01234567901234,543.1024615744426,2.777558678747599,3036.6210070511966,168.70116705839985,0.1810341538581475
1207,515f8d38ebae203efc15ca79a8b42848276b35e5,Simon Willison,2022-01-14 00:12:54+00:00,Help summaries for publish cloudrun/heroku,False,10,8,2,0.0,0.0,0.0,21733,9536,18571,698,2.7178030303030303,54.83472018598467,50.864197530864196,80.01234567901234,543.1024615744426,2.777558678747599,3036.6210070511966,168.70116705839985,0.1810341538581475
1208,3a0f7d64889cd79d5d00d3251e8ab77ff52de60d,Simon Willison,2022-01-14 00:27:21+00:00,Fixed hidden form fields bug #1527,False,24,18,6,0.0,0.0,0.0,21745,9537,18583,700,2.7178030303030303,54.83724914053419,50.864197530864196,80.0246913580247,543.196560979621,2.778030917835503,3038.9498387782637,168.83054659879247,0.18106552032654033
1209,ab7d6a7179e9939c2764989e508bfa8eba31f3b1,Simon Willison,2022-01-14 00:38:16+00:00,Updated settings help URL to avoid redirect,False,9,5,4,,,,21745,9537,18583,700,2.7178030303030303,54.83724914053419,50.864197530864196,80.0246913580247,543.196560979621,2.778030917835503,3038.9498387782637,168.83054659879247,0.18106552032654033
1210,3664ddd400062123e99500d28b160c7944408c1a,Simon Willison,2022-01-14 00:47:53+00:00,"Replace update-docs-help.py with cog, closes #1598",False,217,28,189,0.0,0.0,0.0,21700,9515,18548,698,2.72011385199241,54.75631931661267,51.2625,80.7625,548.7267608719475,2.7815063043084467,3071.8555492352325,170.65864162417964,0.18290892029064917
1211,cb29119db9115b1f40de2fb45263ed77e3bfbb3e,Simon Willison,2022-01-14 01:36:51+00:00,"Release 0.60

Refs #473, #625, #1527, #1544, #1547, #1551, #1552, #1555, #1556, #1557,
#1563, #1564, #1568, #1570, #1575, #1579, #1588, #1594",False,39,25,14,,,,21700,9515,18548,698,2.72011385199241,54.75631931661267,51.2625,80.7625,548.7267608719475,2.7815063043084467,3071.8555492352325,170.65864162417964,0.18290892029064917
1212,58652dd925bb7509b43905423ec00083bd374dc1,Simon Willison,2022-01-20 04:12:46+00:00,"Hidden tables sqlite1/2/3/4, closes #1587",False,16,15,1,0.8181818181818182,0.8181818181818182,1.0,21714,9525,18560,698,2.7194312796208533,54.74695810226442,51.2875,80.8,549.068842873054,2.7814656981014023,3073.7484348265034,170.76380193480583,0.18302294762435134
1213,fae3983c51f4a3aca8335f3e01ff85ef27076fbf,Simon Willison,2022-01-20 04:31:22+00:00,"Drop support for Python 3.6, closes #1577

Refs #1606",False,25,12,13,,,,21713,9525,18559,698,2.7194312796208533,54.74695810226442,51.2875,80.8,549.068842873054,2.7814656981014023,3073.7484348265034,170.76380193480583,0.18302294762435134
1214,14e320329f756b7d8e298c4e2251d8a0b194c9c4,Simon Willison,2022-01-20 04:38:49+00:00,"Hidden tables data_licenses, KNN, KNN2 for SpatiaLite, closes #1601",False,3,3,0,0.0,0.0,1.0,21716,9525,18562,698,2.7194312796208533,54.74640818490891,51.2875,80.8,549.068842873054,2.7814656981014023,3073.7484348265034,170.76380193480583,0.18302294762435134
1215,43c30ce0236ebbc7e9cec98a3822265eb2691430,Simon Willison,2022-01-20 05:04:09+00:00,"Use cog to maintain default plugin list in plugins.rst, closes #1600

Also fixed a bug I spotted where datasette.filters showed the same hook three times.",False,99,91,8,,,,21716,9525,18562,698,2.7194312796208533,54.74640818490891,51.2875,80.8,549.068842873054,2.7814656981014023,3073.7484348265034,170.76380193480583,0.18302294762435134
1216,e1770766ce3ae6669305662ba618be610367af77,Simon Willison,2022-01-20 05:14:04+00:00,Return plugins and hooks in predictable order,False,47,23,24,0.0,0.0,0.0,21715,9526,18561,698,2.7194312796208533,54.747616091875315,51.2875,80.8,549.068842873054,2.7814656981014023,3073.7484348265034,170.76380193480583,0.18302294762435134
1217,0467723ee57c2cbc0f02daa47cef632dd4651df0,Simon Willison,2022-01-20 05:46:03+00:00,"New, improved favicon - refs #1603",False,15,13,2,1.0,1.0,1.0,21726,9530,18571,698,2.7194312796208533,54.742883128390226,51.4125,80.9875,550.89564893534,2.7809580220367325,3084.7118971599107,171.37288317555067,0.18363188297844668
1218,b2eebf5ebf222b61a21625527851b77347d3d662,Simon Willison,2022-01-20 05:52:00+00:00,"No need to send this, it's got a default, refs #1603",False,1,0,1,0.0,0.0,0.0,21725,9530,18570,698,2.7194312796208533,54.742883128390226,51.4125,80.9875,550.89564893534,2.7809580220367325,3084.7118971599107,171.37288317555067,0.18363188297844668
1219,7c67483f5e61f7c46410a433a55280d62280327f,Simon Willison,2022-01-20 05:57:14+00:00,"Make test_favicon flexible to changing icon sizes, refs #1603",False,2,1,1,,,,21725,9530,18570,698,2.7194312796208533,54.742883128390226,51.4125,80.9875,550.89564893534,2.7809580220367325,3084.7118971599107,171.37288317555067,0.18363188297844668
1220,68cc1e2dbb0b841af7a7691ea6b4e7d31b09cc5e,Simon Willison,2022-01-25 18:28:15+00:00,"Move queries to top of database page, refs #1612",False,54,39,15,0.0,1.0,1.0,21745,9535,18583,702,2.720379146919431,54.74202337627876,51.4625,81.1,551.9286060283085,2.7812888522630628,3091.0295719540127,171.72386510855637,0.18397620200943618
1221,3ef47a0896c7e63404a34e465b7160c80eaa571d,Simon Willison,2022-02-02 07:49:09+00:00,"Link rel=alternate header for tables and rows

Also added Access-Control-Expose-Headers: Link to --cors mode.

Closes #1533

Refs https://github.com/simonw/datasette-notebook/issues/2

LL#	metadata.json.1",False,92,86,6,0.34146341463414637,0.7560975609756098,0.5121951219512195,21803,9548,18639,703,2.7206439393939394,54.72779213379211,51.55,81.25,553.2781396525357,2.7816663772136616,3099.38367778023,172.18798209890176,0.18442604655084524
1222,b72b2423c79dea4600b2337949db98269d0b6215,Simon Willison,2022-02-02 21:22:45+00:00,"rel=alternate JSON for queries and database pages, closes #1620",False,122,91,31,0.0,0.5,0.75,21861,9553,18696,709,2.7206439393939394,54.72921667170808,51.5875,81.325,553.8678046520514,2.7820289101148736,3101.6423895556563,172.31346608642542,0.18462260155068383
1223,8d5779acf0041cfd0db7f68f468419f9008b86ec,Simon Willison,2022-02-02 21:32:47+00:00,"Refactored alternate_url_json mechanism, refs #1620, #1533",False,89,27,62,1.0,0.7317073170731707,0.0,21827,9552,18663,710,2.7206439393939394,54.73571736751878,51.575,81.2875,553.5744786602321,2.7815108215235047,3098.7784869462675,172.15436038590383,0.1845248262200774
1224,23a09b0f6af33c52acf8c1d9002fe475b42fee10,Simon Willison,2022-02-02 21:48:52+00:00,"Remove JSON rel=alternate from some pages, closes #1623",False,18,18,0,1.0,1.0,1.0,21845,9563,18679,710,2.719016083254494,54.72140303182766,51.625,81.3625,554.3047957363785,2.7814354979109472,3102.0872586534088,172.33818103630057,0.1847682652454595
1225,b5e6b1a9e1332fca3effe45d55dd06ee4249f163,dependabot[bot],2022-02-02 22:23:51+00:00,"Bump black from 21.12b0 to 22.1.0 (#1616)

Bumps [black](https://github.com/psf/black) from 21.12b0 to 22.1.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/commits/22.1.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,21845,9563,18679,710,2.719016083254494,54.72140303182766,51.625,81.3625,554.3047957363785,2.7814354979109472,3102.0872586534088,172.33818103630057,0.1847682652454595
1226,1af1041f91a9b91b321078d354132d1df5204660,Robert Christie,2022-02-03 01:58:35+00:00,"Jinja template_name should use ""/"" even on Windows (#1617)

Closes #1545. Thanks, Robert Christie",False,5,3,2,,,,21846,9563,18679,711,2.719016083254494,54.72140303182766,51.65,81.4,554.6726004349621,2.7812959444819194,3104.652135825838,172.48067421254663,0.18489086681165404
1227,ac239d34ab2de6987afac43f5d38b576b26e9457,Simon Willison,2022-02-05 04:45:13+00:00,"Refactor test_trace into separate test module, refs #1576",False,104,53,51,,,,21848,9565,18681,711,2.719016083254494,54.87991064726726,51.06172839506173,80.39506172839506,546.328630383112,2.775540234509175,3025.2386582053296,168.06881434474062,0.18210954346103736
1228,da53e0360da4771ffb56a8e3eb3f7476f3168299,Simon Willison,2022-02-05 05:19:49+00:00,"tracer.trace_child_tasks() for asyncio.gather tracing

Also added documentation for datasette.tracer module.

Closes #1576",False,118,111,7,0.9285714285714286,1.0,1.0,21881,9590,18709,711,2.7186024551463643,54.7941528324393,51.19753086419753,80.58024691358025,547.4496149140718,2.780231592533866,3030.011734005655,168.33398522253646,0.1824832049713573
1229,8a25ea9bcae7ae4c9a4bd99f90c955828ff5676d,Simon Willison,2022-02-06 06:34:33+00:00,"Implemented import shortcuts, closes #957",False,30,29,1,1.0,1.0,1.0,21892,9598,18717,714,2.7186024551463643,54.8030713755269,51.19753086419753,80.58024691358025,547.4496149140718,2.780231592533866,3030.011734005655,168.33398522253646,0.1824832049713573
1230,d9b508ffaa91f9f1840b366f5d282712d445f16b,Simon Willison,2022-02-07 06:31:06+00:00,"@documented decorator plus unit test plus sphinx.ext.autodoc

New mechanism for marking datasette.utils functions that should be covered by the
documentation, then testing that they have indeed been documented.

Also enabled sphinx.ext.autodoc which can now be used to embed the documented
versions of those functions.

Refs #1176",False,47,43,4,1.0,1.0,1.0,21920,9616,18735,715,2.7156308851224105,54.77149323705399,51.24691358024691,80.65432098765432,547.9027135085181,2.780231592533866,3030.9179311945472,168.38432951080824,0.1826342378361727
1231,0cd982fc6af45b60e0c9306516dd412ae948c89b,Simon Willison,2022-02-07 23:28:59+00:00,"De-duplicate 'datasette db.db db.db', closes #1632

Refs https://github.com/simonw/datasette-publish-fly/pull/12",False,15,15,0,0.9090909090909091,0.9090909090909091,0.9090909090909091,21935,9627,18744,716,2.714016933207902,54.758657420243615,51.32098765432099,80.76543209876543,548.797528326568,2.7798886570057455,3034.0808575312335,168.56004764062413,0.18293250944218933
1232,fa5fc327adbbf70656ac533912f3fc0526a3873d,Simon Willison,2022-02-07 23:34:01+00:00,"Release 0.60.2

Refs #1632",False,16,15,1,,,,21935,9627,18744,716,2.714016933207902,54.758657420243615,51.32098765432099,80.76543209876543,548.797528326568,2.7798886570057455,3034.0808575312335,168.56004764062413,0.18293250944218933
1233,5bfd001b55357106dba090c83a1c88912a004665,Simon Willison,2022-02-07 23:42:37+00:00,"Use de-dupe idiom that works with Python 3.6, refs #1632",False,4,3,1,0.0,0.0,0.0,21937,9629,18746,716,2.7168391345249296,54.747541687993674,51.382716049382715,80.8641975308642,549.4853228749956,2.779495899454982,3036.859300231374,168.71440556840975,0.18316177429166522
1234,1b2f0ab6bbc9274dac1ba5fe126b1d6b8587ea96,Simon Willison,2022-02-07 23:43:45+00:00,"Revert ""Use de-dupe idiom that works with Python 3.6, refs #1632""

This reverts commit 5bfd001b55357106dba090c83a1c88912a004665.

No need for this on the main branch because it doesn't support Python 3.6 any more.",False,4,1,3,1.0,1.0,1.0,21935,9627,18744,716,2.714016933207902,54.758657420243615,51.32098765432099,80.76543209876543,548.797528326568,2.7798886570057455,3034.0808575312335,168.56004764062413,0.18293250944218933
1235,458f03ad3a454d271f47a643f4530bd8b60ddb76,Simon Willison,2022-02-09 06:32:19+00:00,"More SpatiaLite details on /-/versions, closes #1607",False,65,65,0,0.5714285714285714,0.5714285714285714,1.0,22000,9655,18801,718,2.7145539906103284,54.878804483679374,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1236,5010d1359b9e9db90a5a69a3ca22d12862893e00,Simon Willison,2022-03-05 19:46:59+00:00,"Fix for test failure caused by SQLite 3.37.0+, closes #1647",False,12,10,2,1.0,1.0,0.0,22008,9656,18807,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1237,a22ec96c3ac555337eb49121450723a273fb52d1,dependabot[bot],2022-03-06 01:29:53+00:00,"Update pytest-asyncio requirement from <0.17,>=0.10 to >=0.10,<0.19 (#1631)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.10.0...v0.18.0)

---
updated-dependencies:
- dependency-name: pytest-asyncio
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22008,9656,18807,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1238,b21839dd1a005f6269c4e9a9f763195fe7aa9c86,dependabot[bot],2022-03-06 01:30:05+00:00,"Update pytest requirement from <6.3.0,>=5.2.2 to >=5.2.2,<7.1.0 (#1629)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...7.0.0)

---
updated-dependencies:
- dependency-name: pytest
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22008,9656,18807,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1239,73f2d25f70d741c6b53f7312674c91f0aec83e17,dependabot[bot],2022-03-06 01:30:27+00:00,"Update asgiref requirement from <3.5.0,>=3.2.10 to >=3.2.10,<3.6.0 (#1610)

Updates the requirements on [asgiref](https://github.com/django/asgiref) to permit the latest version.
- [Release notes](https://github.com/django/asgiref/releases)
- [Changelog](https://github.com/django/asgiref/blob/main/CHANGELOG.txt)
- [Commits](https://github.com/django/asgiref/compare/3.2.10...3.5.0)

---
updated-dependencies:
- dependency-name: asgiref
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22008,9656,18807,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1240,7b78279b93b6e7a5fce6b53e5a85ca421a801496,dependabot[bot],2022-03-06 01:41:49+00:00,"Update pytest-timeout requirement from <2.1,>=1.4.2 to >=1.4.2,<2.2 (#1602)

Updates the requirements on [pytest-timeout](https://github.com/pytest-dev/pytest-timeout) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-timeout/releases)
- [Commits](https://github.com/pytest-dev/pytest-timeout/compare/1.4.2...2.1.0)

---
updated-dependencies:
- dependency-name: pytest-timeout
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22008,9656,18807,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1241,de810f49cc57a4f88e4a1553d26c579253ce4531,Dan Peterson,2022-03-06 19:39:15+00:00,"Add /opt/homebrew to where spatialite extension can be found (#1649)

Helps homebrew on Apple Silicon setups find spatialite without needing
a full path.

Similar to #1114

Thanks, @danp",False,1,1,0,,,,22009,9656,18808,720,2.715492957746479,54.887577054286915,50.78048780487805,79.89024390243902,542.6339207494012,2.751951019196382,2999.669940086008,166.64833000477827,0.18087797358313376
1242,1baa030eca375f839f3471237547ab403523e643,Simon Willison,2022-03-07 15:38:29+00:00,"Switch to dash encoding for table/database/row-pk in paths

* Dash encoding functions, tests and docs, refs #1439
* dash encoding is now like percent encoding but with dashes
* Use dash-encoding for row PKs and ?_next=, refs #1439
* Use dash encoding for table names, refs #1439
* Use dash encoding for database names, too, refs #1439

See also https://simonwillison.net/2022/Mar/5/dash-encoding/",False,226,173,53,1.0,1.0,0.6363636363636364,22103,9687,18882,726,2.7096171802054156,54.87098404642639,50.9390243902439,80.10975609756098,544.5852545546567,2.750841606134567,3007.5341293912006,167.08522941062228,0.18152841818488558
1243,644d25d1de78a36b105cca479e7b3e4375a6eadc,Simon Willison,2022-03-07 16:01:42+00:00,"Redirect old % URLs to new - encoded URLs, closes #1650

Refs #1439",False,13,13,0,0.5,0.5,0.5,22116,9695,18890,729,2.708955223880597,54.86571704737449,51.0,80.21951219512195,545.6277706817667,2.7510211811433067,3014.5637761056787,167.47576533920443,0.18187592356058893
1244,020effe47bf89f35182960a9645f2383a42ebd54,Simon Willison,2022-03-07 16:18:07+00:00,"Preserve query string in % to - redirects, refs #1650",False,19,16,3,0.0,0.0,0.0,22129,9698,18903,730,2.7098880597014925,54.86631381221498,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1245,c85d669de387b40e667fd6942c6cc1c15b4f5964,Simon Willison,2022-03-07 19:26:08+00:00,"Fix bug with percentage redirects, close #1650",False,11,10,1,1.0,1.0,1.0,22138,9702,18911,731,2.7098880597014925,54.86595795355523,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1246,bb499942c15c4e2cfa4b6afab8f8debe5948c009,Simon Willison,2022-03-07 19:33:31+00:00,"Fixed tests for urlsafe_components, refs #1650",False,4,2,2,,,,22138,9702,18911,731,2.7098880597014925,54.86595795355523,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1247,5a353a32b9c4d75acbe3193fd72f735a8e78516a,Simon Willison,2022-03-15 15:37:14+00:00,"Revert ""Fixed tests for urlsafe_components, refs #1650""

This reverts commit bb499942c15c4e2cfa4b6afab8f8debe5948c009.

Refs #1658",False,4,2,2,,,,22138,9702,18911,731,2.7098880597014925,54.86595795355523,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1248,77e718c3ffb30473759a8b1ed347f73cb2ff5cfe,Simon Willison,2022-03-15 15:37:31+00:00,"Revert ""Fix bug with percentage redirects, close #1650""

This reverts commit c85d669de387b40e667fd6942c6cc1c15b4f5964.

Refs #1658",False,11,1,10,0.0,0.0,0.0,22129,9698,18903,730,2.7098880597014925,54.86631381221498,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1249,c10cd48baf106659bf3f129ad7bfb2226be73821,Simon Willison,2022-03-15 15:43:47+00:00,"Min pytest-asyncio of 0.17

So that the asyncio_mode in pytest.ini does not produce
a warning on older versions of that library.",False,2,1,1,,,,22129,9698,18903,730,2.7098880597014925,54.86631381221498,51.02439024390244,80.2560975609756,545.9875724863081,2.750887685384557,3017.07284427315,167.61515801517507,0.18199585749543604
1250,a35393b29cfb5b8abdc6a94e577af1c9a5c13652,Simon Willison,2022-03-15 18:01:57+00:00,"Tilde encoding (#1659)

Closes #1657

Refs #1439",False,266,125,141,0.0,0.0,0.0,22131,9699,18905,734,2.7130841121495326,54.878831836904794,50.97560975609756,80.1829268292683,545.4510045067578,2.750986808288288,3016.1247224959716,167.56248458310958,0.1818170015022526
1251,77a904fea14f743560af9cc668146339bdbbd0a9,dependabot[bot],2022-03-15 18:03:01+00:00,"Update pytest requirement from <7.1.0,>=5.2.2 to >=5.2.2,<7.2.0 (#1656)

Updates the requirements on [pytest](https://github.com/pytest-dev/pytest) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest/releases)
- [Changelog](https://github.com/pytest-dev/pytest/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest/compare/5.2.2...7.1.0)

---
updated-dependencies:
- dependency-name: pytest
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22131,9699,18905,734,2.7130841121495326,54.878831836904794,50.97560975609756,80.1829268292683,545.4510045067578,2.750986808288288,3016.1247224959716,167.56248458310958,0.1818170015022526
1252,d4f60c2388c01ddce1b16f95c16d310e037c9912,Simon Willison,2022-03-19 00:12:03+00:00,"Remove hashed URL mode

Also simplified how view class routing works.

Refs #1661",False,345,79,266,0.6029411764705882,0.5,1.0,21944,9602,18756,729,2.711320754716981,54.95850384483064,50.25609756097561,78.8780487804878,534.9239055598698,2.7487835746843428,2961.7096016458613,164.53942231365897,0.17830796851995662
1253,8658c66438ec71edc7e9adc495f4692b937a0f57,Simon Willison,2022-03-19 00:19:31+00:00,"Show error if --setting hash_urls 1 used, refs #1661",False,43,35,8,0.38461538461538464,0.38461538461538464,0.38461538461538464,21971,9617,18781,729,2.713477851083883,54.93716320786194,50.329268292682926,79.02439024390245,535.9820675723782,2.7589497423998406,2970.2117917647697,165.01176620915393,0.17866068919079273
1254,9979dcd07f9921ac30c4c0b5ea60d09cd1e10556,Simon Willison,2022-03-19 00:25:14+00:00,"Also remove default_cache_ttl_hashed setting, refs #1661",False,51,16,35,0.2222222222222222,0.0,0.7777777777777778,21952,9608,18763,729,2.711592836946277,54.96367404812611,50.19512195121951,78.76829268292683,533.8101711466016,2.7420684655306684,2940.974657796101,163.3874809886723,0.17793672371553387
1255,4e47a2d894b96854348343374c8e97c9d7055cf6,Simon Willison,2022-03-19 01:37:54+00:00,"Fixed bug where tables with a column called n caused 500 errors

Closes #1228",False,96,59,37,0.0,1.0,1.0,21974,9608,18785,729,2.711592836946277,54.96202879756008,50.19512195121951,78.76829268292683,533.8101711466016,2.7420684655306684,2940.974657796101,163.3874809886723,0.17793672371553387
1256,711767bcd3c1e76a0861fe7f24069ff1c8efc97a,Simon Willison,2022-03-19 04:03:08+00:00,"Refactored URL routing to add tests, closes #1666

Refs #1660",False,96,72,24,1.0,1.0,0.9375,22022,9629,18823,729,2.7070422535211267,55.08165211192041,49.68674698795181,77.96385542168674,527.9959325946247,2.7269231328988184,2908.997372265143,161.61096512584132,0.17599864419820824
1257,764738dfcb16cd98b0987d443f59d5baa9d3c332,Simon Willison,2022-03-19 16:30:22+00:00,"test_routes also now asserts matches, refs #1666",False,41,25,16,1.0,1.0,0.0,22031,9631,18832,729,2.7070422535211267,55.048794773575835,49.71084337349398,78.0,528.1493703957514,2.7249151007703043,2909.1552398102062,161.6197355450115,0.17604979013191713
1258,61419388c134001118aaf7dfb913562d467d7913,Simon Willison,2022-03-19 16:52:08+00:00,"Rename route match groups for consistency, refs #1667, #1660",False,76,36,40,1.0,1.0,0.0,22027,9631,18828,729,2.7070422535211267,55.048794773575835,49.71084337349398,78.0,528.1493703957514,2.7249151007703043,2909.1552398102062,161.6197355450115,0.17604979013191713
1259,b9c2b1cfc8692b9700416db98721fa3ec982f6be,Simon Willison,2022-03-19 20:29:10+00:00,"Consistent treatment of format in route capturing, refs #1667

Also refs #1660",False,66,36,30,1.0,1.0,0.0,22033,9630,18836,728,2.7061032863849763,55.048794773575835,49.602409638554214,77.81927710843374,526.4104802311737,2.725208718411049,2895.54763790728,160.8637576615156,0.17547016007705793
1260,798f075ef9b98819fdb564f9f79c78975a0f71e8,Simon Willison,2022-03-19 20:32:29+00:00,"Read format from route captures, closes #1667

Refs #1660",False,57,1,56,0.0,0.4838709677419355,0.7419354838709677,21978,9602,18792,725,2.707822808671065,55.0668488447156,49.373493975903614,77.4578313253012,523.3205247093864,2.7188375150307085,2867.5030858381065,159.30572699100594,0.17444017490312883
1261,7a6654a253dee243518dc542ce4c06dbb0d0801d,Simon Willison,2022-03-20 00:11:17+00:00,"Databases can now have a .route separate from their .name, refs #1668",False,137,111,26,0.10344827586206896,0.0,0.5344827586206896,22060,9649,18866,725,2.713345864661654,54.93719516736745,49.433734939759034,77.62650602409639,524.5474659239671,2.7183781726681193,2880.7672951470763,160.0426275081709,0.17484915530798906
1262,cdbae2b93f441653616dd889644c63e4150ceec1,Simon Willison,2022-03-20 00:31:23+00:00,"Fixed internal links to respect db.route, refs #1668",False,30,17,13,1.0,1.0,0.0,22064,9653,18869,726,2.7142857142857144,54.9730978479329,49.506024096385545,77.73493975903614,525.1264858037981,2.7349014084684637,2883.322436662725,160.18457981459585,0.17504216193459934
1263,5471e3c4914837de957e206d8fb80c9ec383bc2e,Simon Willison,2022-03-20 01:14:40+00:00,"Release 0.61a0

Refs #957, #1533, #1545, #1576, #1577, #1587, #1601, #1603, #1607, #1612, #1621, #1649, #1654, #1657, #1661, #1668",False,33,30,3,,,,22064,9653,18869,726,2.7142857142857144,54.9730978479329,49.506024096385545,77.73493975903614,525.1264858037981,2.7349014084684637,2883.322436662725,160.18457981459585,0.17504216193459934
1264,e627510b760198ccedba9e5af47a771e847785c9,Simon Willison,2022-03-21 17:13:16+00:00,"BaseView.check_permissions is now datasette.ensure_permissions, closes #1675

Refs #1660",False,107,71,36,0.0,0.0,0.0,22073,9654,18874,726,2.713345864661654,54.997870373648446,49.506024096385545,77.73493975903614,525.3209994345455,2.7352641085458123,2885.4789165439406,160.30438425244114,0.17510699981151515
1265,194e4f6c3fffde69eb196f8535ca45386b40ec2d,Simon Willison,2022-03-21 18:41:56+00:00,"Removed check_permission() from BaseView, closes #1677

Refs #1660",False,38,16,22,0.0,0.0,1.0,22067,9651,18869,727,2.7149576669802444,55.00613077812723,49.53012048192771,77.78313253012048,525.8184281806127,2.7355134425579015,2890.5876911548617,160.58820506415898,0.1752728093935376
1266,1a7750eb29fd15dd2eea3b9f6e33028ce441b143,Simon Willison,2022-03-21 19:01:37+00:00,"Documented datasette.check_visibility() method, closes #1678",False,86,52,34,1.0,1.0,0.5,22059,9651,18862,727,2.7149576669802444,55.00835583151073,49.53012048192771,77.78313253012048,525.8455146415511,2.735573074019942,2889.9160444883714,160.55089136046507,0.17528183821385032
1267,72bfd75fb7241893c931348e6aca712edc67ab04,Simon Willison,2022-03-21 21:55:50+00:00,"Drop n=1 threshold down to <= 20ms, closes #1679",False,9,5,4,,,,22060,9651,18862,728,2.7149576669802444,55.00835583151073,49.54216867469879,77.78313253012048,525.8739886629231,2.7426335740847176,2908.380424350904,161.5766902417169,0.17529132955430765
1268,d7c793d7998388d915f8d270079c68a77a785051,Simon Willison,2022-03-23 18:12:26+00:00,"Release 0.61

Refs #957, #1228, #1533, #1545, #1576, #1577, #1587, #1601, #1603, #1607, #1612, #1621, #1649, #1654, #1657, #1661, #1668, #1675, #1678",False,24,15,9,,,,22060,9651,18862,728,2.7149576669802444,55.00835583151073,49.54216867469879,77.78313253012048,525.8739886629231,2.7426335740847176,2908.380424350904,161.5766902417169,0.17529132955430765
1269,0159662ab8ccb363c59647861360e0cb7a6f930d,Simon Willison,2022-03-23 18:48:10+00:00,"Fix for bug running ?sql= against databases with a different route, closes #1682",False,8,7,1,0.0,0.0,0.0,22066,9656,18868,728,2.7168391345249296,55.00336656636328,49.54216867469879,77.78313253012048,525.8739886629231,2.7426335740847176,2908.380424350904,161.5766902417169,0.17529132955430765
1270,d431a9055e977aefe48689a2e5866ea8d3558a6c,Simon Willison,2022-03-23 18:54:10+00:00,"Release 0.61.1

Refs #1682

Refs https://github.com/simonw/datasette-hashed-urls/issues/13",False,9,8,1,,,,22066,9656,18868,728,2.7168391345249296,55.00336656636328,49.54216867469879,77.78313253012048,525.8739886629231,2.7426335740847176,2908.380424350904,161.5766902417169,0.17529132955430765
1271,c496f2b663ff0cef908ffaaa68b8cb63111fb5f2,Simon Willison,2022-03-24 19:16:19+00:00,"Don't show facet in cog menu if not allow_facet, closes #1683",False,28,26,2,0.5789473684210527,0.5789473684210527,1.0,22083,9666,18883,728,2.7171052631578947,54.9901800595696,49.57831325301205,77.89156626506023,526.8231282566015,2.7432980637180697,2915.769445530214,161.98719141834525,0.1756077094188671
1272,5c5e9b365790d7c75cf2611e650d1013f587d316,Simon Willison,2022-04-01 02:01:58+00:00,"Request.fake(... url_vars), plus .fake() is now documented

Also made 'from datasette import Request' shortcut work.

Closes #1697",False,40,38,2,1.0,1.0,0.7142857142857143,22092,9676,18890,728,2.716431924882629,54.96971320419976,49.6144578313253,77.96385542168674,527.3113734453851,2.7435275531041854,2917.0363038964806,162.05757243869337,0.17577045781512837
1273,90d1be9952db9aaddc21a536e4d00a8de44765d7,Simon Willison,2022-04-06 15:55:01+00:00,"Tilde encoding now encodes space as plus, closes #1701

Refs #1657",False,25,18,7,1.0,1.0,1.0,22101,9683,18898,728,2.7183098591549295,54.96958997407971,49.626506024096386,78.0,527.617534226754,2.744034324020869,2921.761832816562,162.32010182314235,0.17587251140891794
1274,247e460e08bf823142f7b84058fe44e43626787f,dependabot[bot],2022-04-08 22:51:04+00:00,"Update beautifulsoup4 requirement (#1703)

Updates the requirements on [beautifulsoup4](https://www.crummy.com/software/BeautifulSoup/bs4/) to permit the latest version.

---
updated-dependencies:
- dependency-name: beautifulsoup4
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22101,9683,18898,728,2.7183098591549295,54.96958997407971,49.626506024096386,78.0,527.617534226754,2.744034324020869,2921.761832816562,162.32010182314235,0.17587251140891794
1275,138e4d9a53e3982137294ba383303c3a848cfca4,dependabot[bot],2022-04-08 23:05:09+00:00,"Update click requirement from <8.1.0,>=7.1.1 to >=7.1.1,<8.2.0 (#1694)

Updates the requirements on [click](https://github.com/pallets/click) to permit the latest version.
- [Release notes](https://github.com/pallets/click/releases)
- [Changelog](https://github.com/pallets/click/blob/main/CHANGES.rst)
- [Commits](https://github.com/pallets/click/compare/7.1.1...8.1.0)

---
updated-dependencies:
- dependency-name: click
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22101,9683,18898,728,2.7183098591549295,54.96958997407971,49.626506024096386,78.0,527.617534226754,2.744034324020869,2921.761832816562,162.32010182314235,0.17587251140891794
1276,143c105f875f4c8d4512233fa856477a938b38ca,Simon Willison,2022-04-12 18:43:32+00:00,Removed rogue print,False,1,0,1,0.0,0.0,0.0,22100,9682,18897,728,2.7183098591549295,54.96958997407971,49.626506024096386,78.0,527.617534226754,2.744034324020869,2921.761832816562,162.32010182314235,0.17587251140891794
1277,0bc5186b7bb4fc82392df08f99a9132f84dcb331,Simon Willison,2022-04-12 18:44:12+00:00,"Tooltip and commas for byte length display, closes #1712",False,46,42,4,0.6190476190476191,0.6190476190476191,0.19047619047619047,22138,9701,18931,729,2.717636022514071,54.952143016023996,49.72289156626506,78.21686746987952,529.5131814557685,2.7444788380191776,2935.2669333635213,163.07038518686227,0.1765043938185895
1278,3001e1e394b6cb605c2cd81eed671a7da419c1b3,Tim Sherratt,2022-04-24 14:03:08+00:00,"Add timeout option to Cloudrun build (#1717)

* Add timeout option for build phase
* Make the --timeout setting optional
* Add test for --timeout setting

Thanks, @wragge",False,43,30,13,0.0,0.25,0.25,22155,9707,18948,729,2.7195121951219514,54.939642837901054,49.74698795180723,78.25301204819277,529.7582179908477,2.7443953439597797,2935.8843762798138,163.10468757110075,0.17658607266361587
1279,e64d14e413a955a10df88e106a8b5f1572ec8613,Simon Willison,2022-04-24 14:09:08+00:00,"Use type integer for --timeout, refs #1717",False,3,2,1,0.0,1.0,1.0,22156,9707,18949,729,2.7195121951219514,54.939502304179165,49.74698795180723,78.25301204819277,529.7582179908477,2.7443953439597797,2935.8843762798138,163.10468757110075,0.17658607266361587
1280,36573638b0948174ae237d62e6369b7d55220d7f,Simon Willison,2022-04-24 15:50:43+00:00,"Apply Black to code examples in documentation, refs #1718

Uses blacken-docs. This has a deliberate error which I hope will fail CI.",False,122,81,41,,,,22157,9707,18950,729,2.7195121951219514,54.939502304179165,49.74698795180723,78.25301204819277,529.7582179908477,2.7443953439597797,2935.8843762798138,163.10468757110075,0.17658607266361587
1281,579f59dcec43a91dd7d404e00b87a00afd8515f2,Simon Willison,2022-04-25 18:33:35+00:00,"Refactor to remove RowTableShared class, closes #1719

Refs #1715",False,644,329,315,0.0,0.14285714285714285,0.7142857142857143,22171,9711,18964,729,2.6938967136150236,54.92355300889337,49.23809523809524,77.35714285714286,522.2388401809394,2.7525320846034567,2888.1483033246564,160.45268351803645,0.1740796133936464
1282,8a0c38f0b89543e652a968a90d480859cb102510,Simon Willison,2022-04-26 22:50:02+00:00,"Rename database->database_name and table-> table_name, refs #1715",False,143,76,67,0.0,0.2222222222222222,0.2222222222222222,22180,9711,18973,729,2.6938967136150236,54.92257299994602,49.23809523809524,77.35714285714286,522.2388401809394,2.7525320846034567,2888.1483033246564,160.45268351803645,0.1740796133936464
1283,942411ef946e9a34a2094944d3423cddad27efd3,Simon Willison,2022-04-26 22:50:02+00:00,"Execute some TableView queries in parallel

Use ?_noparallel=1 to opt out (undocumented, useful for benchmark comparisons)

Refs #1723, #1715",False,93,67,26,0.8529411764705882,0.47058823529411764,1.0,22221,9728,19005,732,2.679174484052533,54.931317478903374,49.29761904761905,77.35714285714286,522.4105998788583,2.74914272886116,2880.2994267869904,160.01663482149945,0.17413686662628608
1284,4afc1afc721ac0d14f58b0f8339c1bf431d5313c,Simon Willison,2022-05-02 19:13:11+00:00,"Depend on click-default-group-wheel>=1.2.2

Refs #1733",False,2,1,1,,,,22221,9728,19005,732,2.679174484052533,54.931317478903374,49.29761904761905,77.35714285714286,522.4105998788583,2.74914272886116,2880.2994267869904,160.01663482149945,0.17413686662628608
1285,7e03394734307a5761e4c98d902b6a8cab188562,Simon Willison,2022-05-02 19:20:14+00:00,"Optional uvicorn import for Pyodide, refs #1733",False,12,10,2,0.0,0.0,1.0,22229,9732,19009,734,2.680112570356473,54.931317478903374,49.29761904761905,77.35714285714286,522.4105998788583,2.74914272886116,2880.2994267869904,160.01663482149945,0.17413686662628608
1286,687907aa2b1bde4de6ae7155b0e2a949ca015ca9,Simon Willison,2022-05-02 19:39:06+00:00,"Remove python-baseconv dependency, refs #1733, closes #1734",False,68,63,5,0.23076923076923078,0.23076923076923078,0.23076923076923078,22287,9766,19040,737,2.6788048552754433,55.21769676958199,48.917647058823526,76.76470588235294,517.5629633710337,2.774553883922686,2852.787370239275,158.48818723551526,0.1725209877903445
1287,a29c1277896b6a7905ef5441c42a37bc15f67599,Simon Willison,2022-05-02 19:44:09+00:00,"Rename to_decimal/from_decimal to decode/encode, refs #1734",False,4,2,2,,,,22287,9766,19040,737,2.6788048552754433,55.21769676958199,48.917647058823526,76.76470588235294,517.5629633710337,2.774553883922686,2852.787370239275,158.48818723551526,0.1725209877903445
1288,3f00a29141bdea5be747f6d1c93871ccdb792167,Simon Willison,2022-05-02 20:15:27+00:00,"Clean up compatibility with Pyodide (#1736)

* Optional uvicorn import for Pyodide, refs #1733
* --setting num_sql_threads 0 to disable threading, refs #1735",False,46,42,4,0.5384615384615384,0.0,0.6153846153846154,22323,9797,19067,742,2.6828358208955225,55.156289620930394,49.07058823529412,77.04705882352941,519.7277869996931,2.775289601637543,2867.0187030073293,159.27881683374048,0.1732425956665643
1289,943aa2e1f7341cb51e60332cde46bde650c64217,Simon Willison,2022-05-02 21:38:34+00:00,"Release 0.62a0

Refs #1683, #1701, #1712, #1717, #1718, #1733",False,16,15,1,,,,22323,9797,19067,742,2.6828358208955225,55.156289620930394,49.07058823529412,77.04705882352941,519.7277869996931,2.775289601637543,2867.0187030073293,159.27881683374048,0.1732425956665643
1290,280ff372ab30df244f6c54f6f3002da57334b3d7,Simon Willison,2022-05-03 14:59:46+00:00,"ETag support for .db downloads, closes #1739",False,37,34,3,0.0,0.0,0.42857142857142855,22354,9811,19095,745,2.689365671641791,55.132071562789754,49.16470588235294,77.25882352941177,521.5500437439631,2.776349318354302,2878.1600333134575,159.89777962852537,0.17385001458132102
1291,3508bf7875f8d62b2725222f3b07747974d54b97,Simon Willison,2022-05-17 19:40:25+00:00,"--nolock mode to ignore locked files, closes #1744",False,16,15,1,0.0,0.0,0.3333333333333333,22365,9815,19106,745,2.6902985074626864,55.127338672282605,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1292,7d1e004ff679b3fb4dca36d1d751a1ad16688fe6,Simon Willison,2022-05-17 20:09:07+00:00,Fix test I broke in #1744,False,1,1,0,0.0,1.0,1.0,22366,9815,19107,745,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1293,1465fea4798599eccfe7e8f012bd8d9adfac3039,Simon Willison,2022-05-20 19:11:28+00:00,"sphinx-copybutton for docs, closes #1748",False,10,8,2,,,,22372,9815,19113,745,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1294,1d33fd03b3c211e0f48a8f3bde83880af89e4e69,Simon Willison,2022-05-20 20:34:51+00:00,"Switch docs theme to Furo, refs #1746",False,102,45,57,1.0,1.0,1.0,22358,9814,19108,739,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1295,b010af7bb85856aeb44f69e7e980f617c1fc0db1,Simon Willison,2022-05-20 22:23:09+00:00,Updated copyright years in documentation footer,False,2,1,1,,,,22358,9814,19108,739,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1296,8dd816bc76937f1e37f86acce10dc2cb4fa31e52,Simon Willison,2022-05-30 22:42:38+00:00,Applied Black,False,4,1,3,,,,22356,9814,19106,739,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1297,9f1eb0d4eac483b953392157bd9fd6cc4df37de7,dependabot[bot],2022-06-28 17:40:24+00:00,"Bump black from 22.1.0 to 22.6.0 (#1763)

Bumps [black](https://github.com/psf/black) from 22.1.0 to 22.6.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.1.0...22.6.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22356,9814,19106,739,2.6902985074626864,55.127119388044036,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1298,6373bb341457e5becfd5b67792ac2c8b9ed7c384,Simon Willison,2022-07-07 16:30:49+00:00,"Expose current SQLite row to render_cell hook, closes #1300",False,21,14,7,0.25,0.5,0.75,22360,9814,19110,739,2.6902985074626864,55.12669654167888,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1299,8188f55efc0fcca1be692b0d0c875f2d1ee99f17,Simon Willison,2022-07-17 22:24:16+00:00,"Rename handle_500 to handle_exception, refs #1770",False,8,4,4,,,,22360,9814,19110,739,2.6902985074626864,55.12669654167888,49.188235294117646,77.29411764705883,521.8378414275386,2.776019139507427,2879.7426713068476,159.9857039614915,0.17394594714251282
1300,c09c53f3455a7b9574cf7695478f2b87d20897db,Simon Willison,2022-07-17 23:24:39+00:00,"New handle_exception plugin hook, refs #1770

Also refs:
- https://github.com/simonw/datasette-sentry/issues/1
- https://github.com/simonw/datasette-show-errors/issues/2",False,312,216,96,1.0,1.0,1.0,22446,9862,19176,740,2.6737720111214087,55.64188409589918,48.160919540229884,75.62068965517241,510.4876024444457,2.7235099597675974,2815.67672631626,156.4264847953477,0.17016253414814853
1301,6d5e1955470424cf4faf5d35788d328ebdd6d463,Simon Willison,2022-07-18 00:59:20+00:00,"Release 0.62a1

Refs #1300, #1739, #1744, #1746, #1748, #1759, #1770",False,16,15,1,,,,22446,9862,19176,740,2.6737720111214087,55.64188409589918,48.160919540229884,75.62068965517241,510.4876024444457,2.7235099597675974,2815.67672631626,156.4264847953477,0.17016253414814853
1302,ea6161f8475d9fa41c4879049511c58f692cce04,dependabot[bot],2022-07-18 01:06:26+00:00,"Bump furo from 2022.4.7 to 2022.6.21 (#1760)

Bumps [furo](https://github.com/pradyunsg/furo) from 2022.4.7 to 2022.6.21.
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2022.04.07...2022.06.21)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22446,9862,19176,740,2.6737720111214087,55.64188409589918,48.160919540229884,75.62068965517241,510.4876024444457,2.7235099597675974,2815.67672631626,156.4264847953477,0.17016253414814853
1303,22354c48ce4d514d7a1b321e5651c7f1340e3f5e,dependabot[bot],2022-07-18 01:06:37+00:00,"Update pytest-asyncio requirement from <0.19,>=0.17 to >=0.17,<0.20 (#1769)

Updates the requirements on [pytest-asyncio](https://github.com/pytest-dev/pytest-asyncio) to permit the latest version.
- [Release notes](https://github.com/pytest-dev/pytest-asyncio/releases)
- [Changelog](https://github.com/pytest-dev/pytest-asyncio/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/pytest-asyncio/compare/v0.17.0...v0.19.0)

---
updated-dependencies:
- dependency-name: pytest-asyncio
  dependency-type: direct:development
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22446,9862,19176,740,2.6737720111214087,55.64188409589918,48.160919540229884,75.62068965517241,510.4876024444457,2.7235099597675974,2815.67672631626,156.4264847953477,0.17016253414814853
1304,01369176b0a8943ab45292ffc6f9c929b80a00e8,Chris Amico,2022-07-18 01:12:45+00:00,"Keep track of datasette.config_dir (#1766)

Thanks, @eyeseast - closes #1764",False,10,10,0,0.8333333333333334,0.8333333333333334,0.8333333333333334,22456,9869,19183,740,2.672222222222222,55.62755772528727,48.195402298850574,75.65517241379311,510.7788833977162,2.7298239669431146,2821.0540197229134,156.72522331793954,0.17025962779923873
1305,df4fd2d7ddca8956d8a51c72ce007b8c75227f32,Simon Willison,2022-08-14 15:44:02+00:00,"_sort= works even if sort column not selected, closes #1773",False,24,23,1,0.0,0.0,0.0,22478,9875,19204,742,2.675925925925926,55.62093489192539,48.195402298850574,75.71264367816092,511.2134950312922,2.731203277287942,2829.2038570757286,157.17799205976263,0.17040449834376403
1306,080d4b3e065d78faf977c6ded6ead31aae24e2ae,Simon Willison,2022-08-14 15:49:14+00:00,Switch to python:3.10.6-slim-bullseye for datasette publish - refs #1768,False,12,6,6,,,,22478,9875,19204,742,2.675925925925926,55.62093489192539,48.195402298850574,75.71264367816092,511.2134950312922,2.731203277287942,2829.2038570757286,157.17799205976263,0.17040449834376403
1307,1563c22a8c65e6cff5194aa07df54d0ab8d4eecb,Simon Willison,2022-08-14 16:13:12+00:00,"Don't duplicate _sort_desc, refs #1738",False,3,2,1,,,,22479,9875,19205,742,2.675925925925926,55.62087276853381,48.195402298850574,75.71264367816092,511.2134950312922,2.731203277287942,2829.2038570757286,157.17799205976263,0.17040449834376403
1308,c1396bf86033a7bd99fa0c0431f585475391a11a,Simon Willison,2022-08-14 16:34:31+00:00,"Don't allow canned write queries on immutable DBs, closes #1728",False,50,49,1,0.02702702702702703,0.9459459459459459,0.9459459459459459,22523,9890,19243,744,2.674676524953789,55.600099865924186,48.28735632183908,75.93103448275862,512.8589398206796,2.7327506565342397,2837.4182253062436,157.6343458503468,0.17095297994022657
1309,82167105ee699c850cc106ea927de1ad09276cfe,Simon Willison,2022-08-14 17:07:30+00:00,"--min-instances and --max-instances Cloud Run publish options, closes #1779",False,71,56,15,0.0,0.45454545454545453,0.45454545454545453,22562,9896,19282,744,2.674676524953789,55.58288106790106,48.298850574712645,75.96551724137932,513.0153978618785,2.7346663653465004,2838.1044103345753,157.67246724080968,0.17100513262062617
1310,815162cf029fab9f1c9308c1d6ecdba7ee369ebe,Simon Willison,2022-08-14 17:32:42+00:00,"Release 0.62

Refs #903, #1300, #1683, #1701, #1712, #1717, #1718, #1728, #1733, #1738, #1739, #1744, #1746, #1748, #1759, #1766, #1768, #1770, #1773, #1779

Closes #1782",False,53,36,17,,,,22562,9896,19282,744,2.674676524953789,55.58288106790106,48.298850574712645,75.96551724137932,513.0153978618785,2.7346663653465004,2838.1044103345753,157.67246724080968,0.17100513262062617
1311,a3e6f1b16757fb2d39e7ddba4e09eda2362508bf,Simon Willison,2022-08-18 16:06:02+00:00,"Increase height of non-JS textarea to fit query

Closes #1786",False,9,4,5,0.0,0.0,0.0,22560,9897,19280,744,2.674676524953789,55.58101690322829,48.310344827586206,76.0,513.3255942487992,2.7348274439767355,2840.274046072761,157.7930025595978,0.17110853141626645
1312,6c0ba7c00c2ae3ecbb5309efa59079cea1c850b3,Simon Willison,2022-08-18 21:52:04+00:00,"Improved CLI reference documentation, refs #1787",False,383,259,124,,,,22560,9897,19280,744,2.674676524953789,55.58101690322829,48.310344827586206,76.0,513.3255942487992,2.7348274439767355,2840.274046072761,157.7930025595978,0.17110853141626645
1313,1d64c9a8dac45b9a3452acf8e76dfadea2b0bc49,Alex Garcia,2022-08-23 18:34:30+00:00,"Add new entrypoint option to --load-extensions. (#1789)

Thanks, @asg017",False,142,140,2,0.6440677966101694,0.9322033898305084,0.5932203389830508,22644,9944,19335,757,2.672493100275989,55.767548841911214,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1314,fd1086c6867f3e3582b1eca456e4ea95f6cecf8b,Simon Willison,2022-08-23 18:35:41+00:00,"Applied Black, refs #1789",False,5,3,2,,,,22645,9944,19335,757,2.672493100275989,55.767548841911214,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1315,ba35105eee2d3ba620e4f230028a02b2e2571df2,Simon Willison,2022-08-24 00:11:45+00:00,"Test `--load-extension` in GitHub Actions (#1792)

* Run the --load-extension test, refs #1789
* Ran cog, refs #1789",False,9,6,3,,,,22645,9944,19335,757,2.672493100275989,55.767548841911214,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1316,51030df1869b3b574dd3584d1563415776b9cd4e,Simon Willison,2022-09-05 18:35:40+00:00,"Don't use upper bound dependencies any more

See https://iscinumpy.dev/post/bound-version-constraints/ for the rationale behind this change.

Closes #1800",False,36,18,18,,,,22645,9944,19335,757,2.672493100275989,55.767548841911214,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1317,294ecd45f7801971dbeef383d0c5456ee95ab839,dependabot[bot],2022-09-05 18:51:51+00:00,"Bump black from 22.6.0 to 22.8.0 (#1797)

Bumps [black](https://github.com/psf/black) from 22.6.0 to 22.8.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.6.0...22.8.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22645,9944,19335,757,2.672493100275989,55.767548841911214,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1318,b2b901e8c4b939e50ee1117ffcd2881ed8a8e3bf,Simon Willison,2022-09-06 00:09:57+00:00,"Skip SpatiaLite test if no conn.enable_load_extension()

Ran into this problem while working on #1802",False,10,10,0,1.0,1.0,1.0,22655,9950,19341,757,2.670955882352941,55.72016909725092,48.02272727272727,75.64772727272727,509.91336140206226,2.720055968606639,2816.831817670311,156.4906565372394,0.1699711204673541
1319,64288d827f7ff97f825e10f714da3f781ecf9345,Simon Willison,2022-09-06 00:40:19+00:00,"Workaround for test failure: RuntimeError: There is no current event loop (#1803)

* Remove ensure_eventloop hack
* Hack to recover from intermittent RuntimeError calling asyncio.Lock()",False,37,19,18,0.0,0.0,1.0,22656,9952,19343,758,2.673413063477461,55.717594924128974,48.04545454545455,75.68181818181819,510.2498573596184,2.7199318497602882,2819.175680954986,156.62087116416586,0.17008328578653947
1320,d80775a48d20917633792fdc9525f075d3bc2c7a,Simon Willison,2022-09-06 15:29:07+00:00,"Raise error if it's not about loops, refs #1802",False,2,2,0,0.0,0.0,0.0,22658,9954,19345,758,2.673413063477461,55.717594924128974,48.04545454545455,75.68181818181819,510.2498573596184,2.7199318497602882,2819.175680954986,156.62087116416586,0.17008328578653947
1321,8430c3bc7dd22b173c1a8c6cd7180e3b31240cd1,Simon Willison,2022-09-06 15:59:19+00:00,"table facet_size in metadata, refs #1804",False,31,28,3,0.0,0.2608695652173913,1.0,22683,9970,19368,760,2.678012879484821,55.70093342093408,48.13636363636363,75.81818181818181,511.26386082987915,2.717025500840146,2821.7048893646247,156.76138274247907,0.1704212869432931
1322,303c6c733d95a6133558ec1b468f5bea5827d0d2,Simon Willison,2022-09-06 18:05:00+00:00,"Fix for incorrectly handled _facet_size=max, refs #1804",False,19,13,6,0.0,0.0,1.0,22690,9976,19374,761,2.6807727690892365,55.695878737949336,48.13636363636363,75.875,511.6121155467509,2.7202034669418405,2826.684931815893,157.03805176754952,0.17053737184891704
1323,d0476897e10249bb4867473722270d02491c2c1f,Simon Willison,2022-09-06 18:24:30+00:00,Fixed Sphinx warning about language = None,False,2,1,1,,,,22690,9976,19374,761,2.6807727690892365,55.695878737949336,48.13636363636363,75.875,511.6121155467509,2.7202034669418405,2826.684931815893,157.03805176754952,0.17053737184891704
1324,d0737e4de51ce178e556fc011ccb8cc46bbb6359,Simon Willison,2022-09-06 23:50:43+00:00,"truncate_cells_html now affects URLs too, refs #1805",False,82,68,14,0.36666666666666664,0.5,0.8,22744,9997,19422,763,2.682277318640955,55.68620049885949,48.43181818181818,76.44318181818181,516.7003576275384,2.720994748278408,2880.8877350254475,160.0493186125248,0.17223345254251285
1325,5aa359b86907d11b3ee601510775a85a90224da8,Simon Willison,2022-09-06 23:58:30+00:00,"Apply cell truncation on query page too, refs #1805",False,26,25,1,0.0,0.7391304347826086,1.0,22768,10010,19445,763,2.6807339449541283,55.673336049642664,48.56818181818182,76.64772727272727,518.5144797668189,2.727387584128964,2895.328435407526,160.85157974486245,0.172838159922273
1326,fb7e70d5e72a951efe4b29ad999d8915c032d021,Simon Willison,2022-09-09 16:19:20+00:00,"Database(is_mutable=) now defaults to True, closes #1808

Refs https://github.com/simonw/datasette-upload-dbs/issues/6",False,15,8,7,1.0,,1.0,22768,10010,19445,763,2.6807339449541283,55.670400807126654,48.56818181818182,76.68181818181819,518.7158510371238,2.727985670253366,2895.953746194262,160.88631923301446,0.17290528367904132
1327,b40872f5e5ae5dad331c58f75451e2d206565196,Simon Willison,2022-09-14 21:31:54+00:00,"prepare_jinja2_environment(datasette) argument, refs #1809",False,21,14,7,1.0,1.0,1.0,22770,10013,19447,763,2.6807339449541283,55.66885511692776,48.56818181818182,76.68181818181819,518.7158510371238,2.727985670253366,2895.953746194262,160.88631923301446,0.17290528367904132
1328,2ebcffe2226ece2a5a86722790d486a480338632,dependabot[bot],2022-09-16 19:50:52+00:00,"Bump furo from 2022.6.21 to 2022.9.15 (#1812)

Bumps [furo](https://github.com/pradyunsg/furo) from 2022.6.21 to 2022.9.15.
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2022.06.21...2022.09.15)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22770,10013,19447,763,2.6807339449541283,55.66885511692776,48.56818181818182,76.68181818181819,518.7158510371238,2.727985670253366,2895.953746194262,160.88631923301446,0.17290528367904132
1329,ddc999ad1296e8c69cffede3e367dda059b8adad,Simon Willison,2022-09-17 03:38:24+00:00,"Async support for prepare_jinja2_environment, closes #1809",False,85,76,9,0.9032258064516129,0.9032258064516129,0.6451612903225806,22805,10041,19479,763,2.681943171402383,55.6487750318332,48.57954545454545,76.70454545454545,518.9307090588774,2.727924282953908,2897.5215053951038,160.9734169663946,0.17297690301962582
1330,df851c117db031dec50dd4ef1ca34745920ac77a,Simon Willison,2022-09-19 23:46:39+00:00,"Validate settings.json keys on startup, closes #1816

Refs #1814",False,24,22,2,0.8666666666666667,0.8,0.8,22825,10057,19496,764,2.6806953339432753,55.62938066530014,48.625,76.8409090909091,519.9586503709146,2.7296121031320215,2903.599691081142,161.31109394895225,0.17331955012363823
1331,cb1e093fd361b758120aefc1a444df02462389a3,Simon Willison,2022-09-20 01:15:40+00:00,"Fixed error message, closes #1816",False,7,5,2,0.3333333333333333,0.3333333333333333,0.3333333333333333,22828,10058,19499,764,2.6806953339432753,55.625653590521146,48.64772727272727,76.875,520.2261005775032,2.7294542443980485,2904.4102765797984,161.35612647665536,0.17340870019250113
1332,212137a90b4291db9605e039f198564dae59c5d0,Simon Willison,2022-09-26 21:14:25+00:00,"Release 0.63a0

Refs #1786, #1787, #1789, #1794, #1800, #1804, #1805, #1808, #1809, #1816",False,19,18,1,,,,22828,10058,19499,764,2.6806953339432753,55.625653590521146,48.64772727272727,76.875,520.2261005775032,2.7294542443980485,2904.4102765797984,161.35612647665536,0.17340870019250113
1333,5f9f567acbc58c9fcd88af440e68034510fb5d2b,Simon Willison,2022-09-26 23:06:01+00:00,"Show SQL query when reporting time limit error, closes #1819",False,48,35,13,0.782608695652174,0.782608695652174,0.8260869565217391,22850,10064,19520,764,2.6809872029250457,55.61873906420078,48.64772727272727,76.875,520.2261005775032,2.7294542443980485,2904.4102765797984,161.35612647665536,0.17340870019250113
1334,c92c4318e9892101f75fa158410c0a12c1d80b6e,dependabot[bot],2022-09-30 17:55:40+00:00,"Bump furo from 2022.9.15 to 2022.9.29 (#1827)

Bumps [furo](https://github.com/pradyunsg/furo) from 2022.9.15 to 2022.9.29.
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2022.09.15...2022.09.29)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,22850,10064,19520,764,2.6809872029250457,55.61873906420078,48.64772727272727,76.875,520.2261005775032,2.7294542443980485,2904.4102765797984,161.35612647665536,0.17340870019250113
1335,bbf33a763537a1d913180b22bd3b5fe4a5e5b252,Simon Willison,2022-10-05 04:32:29+00:00,"Test for bool(results), closes #1832",False,8,8,0,1.0,1.0,1.0,22858,10070,19526,764,2.680365296803653,55.6099536830408,48.67045454545455,76.9090909090909,520.4774653872897,2.7294238332391805,2904.790328501801,161.3772404723222,0.17349248846242996
1336,eff112498ecc499323c26612d707908831446d25,Forest Gregg,2022-10-06 20:06:06+00:00,"Useuse inspect data for hash and file size on startup

Thanks, @fgregg

Closes #1834",False,10,7,3,0.0,0.0,0.0,22862,10074,19530,764,2.682191780821918,55.60412400241873,48.69318181818182,76.94318181818181,520.7563768621603,2.729119573604292,2906.3251645874943,161.4625091437496,0.1735854589540535
1337,b7fec7f9020b79c1fe60cc5a2def86b50eeb5af9,Simon Willison,2022-10-07 23:03:30+00:00,".sqlite/.sqlite3 extensions for config directory mode

Closes #1646",False,18,10,8,0.0,0.0,0.0,22864,10076,19532,764,2.6840182648401827,55.60655921414041,48.69318181818182,76.95454545454545,520.8280107342987,2.7295865723589623,2906.9551501479436,161.49750834155236,0.17360933691143296
1338,1a5e5f2aa951e5bd731067a49819efba68fbe8ef,Simon Willison,2022-10-13 21:42:52+00:00,"Refactor breadcrumbs to respect permissions, refs #1831",False,124,65,59,0.0,0.02702702702702703,0.02702702702702703,22905,10091,19569,767,2.687043795620438,55.606402843756456,48.69318181818182,76.95454545454545,520.8280107342987,2.7295865723589623,2906.9551501479436,161.49750834155236,0.17360933691143296
1339,79aa0de083d38a9975915d5a4cc68ca6c74fbe3d,Simon Willison,2022-10-13 21:51:59+00:00,"Test that breadcrumbs respect permissions, closes #1831",False,50,50,0,1.0,1.0,0.0,22955,10105,19617,767,2.6864175022789425,55.59581113573495,48.71590909090909,76.98863636363636,521.1622848965691,2.7295529483215626,2908.469522465635,161.58164013697964,0.17372076163218975
1340,6887c12ea30598e7d06d20cd6b2a2ef8256a9fa1,Simon Willison,2022-10-23 22:17:33+00:00,"Workaround for 'too many open files' error, refs #1843",False,3,3,0,0.0,0.0,0.0,22958,10107,19619,768,2.6864175022789425,55.59987864499619,48.71590909090909,76.98863636363636,521.1622848965691,2.7295529483215626,2908.469522465635,161.58164013697964,0.17372076163218975
1341,78dad236df730212aa7172f885fd8ec575f0d3ad,Simon Willison,2022-10-24 02:11:33+00:00,"check_visibility can now take multiple permissions into account

Closes #1829",False,278,196,82,0.7105263157894737,1.0,0.47368421052631576,23054,10145,19701,775,2.689717925386715,55.55171238496109,48.79545454545455,77.04545454545455,521.5233162823669,2.733432102369521,2909.072616981624,161.6151453878679,0.17384110542745573
1342,5be86d48b2e31565faca208fc4aeb0ddfaca71f9,Simon Willison,2022-10-24 02:42:30+00:00,"Fix display of padlocks on database page, closes #1848",False,56,49,7,0.0,0.7567567567567568,0.7567567567567568,23096,10161,19738,778,2.688181818181818,55.534788015457956,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1343,602c0888ce633000cfae42be00de474ef681bda7,Simon Willison,2022-10-24 03:07:09+00:00,"Release 0.63a1

Refs #1646, #1819, #1825, #1829, #1831, #1832, #1834, #1844, #1848",False,22,19,3,,,,23096,10161,19738,778,2.688181818181818,55.534788015457956,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1344,02ae1a002918eb91f794e912c32742559da34cf5,Simon Willison,2022-10-25 19:04:25+00:00,"Upgrade Docker images to Python 3.11, closes #1853",False,14,7,7,,,,23096,10161,19738,778,2.688181818181818,55.534788015457956,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1345,9676b2deb07cff20247ba91dad3e84a4ab0b00d1,Simon Willison,2022-10-25 19:04:53+00:00,"Upgrade Docker images to Python 3.11, closes #1853",False,14,7,7,,,,23096,10161,19738,778,2.688181818181818,55.534788015457956,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1346,c7dd76c26257ded5bcdfd0570e12412531b8b88f,Simon Willison,2022-10-25 19:42:45+00:00,"Poll until servers start, refs #1854",False,29,23,6,0.0,1.0,1.0,23113,10179,19756,777,2.693636363636364,55.48901578750968,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1347,f9ae92b37796f7f559d57b1ee9718aa4d43547e8,Simon Willison,2022-10-25 23:03:36+00:00,"Poll until servers start, refs #1854",False,29,23,6,0.0,1.0,1.0,23113,10179,19756,777,2.693636363636364,55.48901578750968,48.875,77.25,523.155476594467,2.7336447108573116,2915.971551918531,161.99841955102943,0.1743851588648224
1348,42f8b402e6aa56af4bbe921e346af8df42acd50f,Simon Willison,2022-10-26 00:07:58+00:00,"Initial prototype of create API token page, refs #1852",False,142,142,0,0.16,0.16,1.0,23172,10217,19811,777,2.7053490480507705,55.38445114244378,49.18181818181818,77.80681818181819,526.6079883144073,2.757333522046123,2933.1504064744086,162.9528003596893,0.17553599610480247
1349,68ccb7578b5d3bf68b86fb2f5cf8753098dfe075,Simon Willison,2022-10-26 01:40:07+00:00,"dstoke_ prefix for tokens

Refs https://github.com/simonw/datasette/issues/1852#issuecomment-1291290451",False,2,1,1,,,,23172,10217,19811,777,2.7053490480507705,55.38445114244378,49.18181818181818,77.80681818181819,526.6079883144073,2.757333522046123,2933.1504064744086,162.9528003596893,0.17553599610480247
1350,7ab091e8ef8d3af1e23b5a81ffad2bd8c96cc47c,Simon Willison,2022-10-26 02:04:05+00:00,"Tests and docs for /-/create-token, refs #1852",False,97,93,4,0.1935483870967742,1.0,0.16129032258064516,23246,10246,19880,779,2.70316742081448,55.28323211711763,49.43181818181818,78.27272727272727,529.8927862642676,2.773011389002399,2958.9923880096903,164.38846600053827,0.1766309287547559
1351,b29e487bc3fde6418bf45bda7cfed2e081ff03fb,Simon Willison,2022-10-26 02:18:41+00:00,"actor_from_request for dstok_ tokens, refs #1852",False,59,59,0,0.0,0.047619047619047616,0.47619047619047616,23305,10298,19935,779,2.711833785004517,55.126286510020755,49.64772727272727,78.68181818181819,532.8454602830839,2.78814568652306,2983.135302078852,165.72973900438058,0.17761515342769466
1352,0f013ff497df62e1dd2075777b9817555646010e,Simon Willison,2022-10-26 02:43:55+00:00,"Mechanism to prevent tokens creating tokens, closes #1857",False,19,17,2,1.0,1.0,1.0,23318,10306,19946,779,2.711191335740072,55.11259692331646,49.67045454545455,78.7159090909091,533.117778320006,2.787598773542992,2984.3299377987105,165.79610765548384,0.1777059261066687
1353,c23fa850e7f21977e367e3467656055216978e8a,Simon Willison,2022-10-26 02:55:47+00:00,"allow_signed_tokens setting, closes #1856",False,53,48,5,0.5882352941176471,0.5882352941176471,0.7058823529411765,23343,10325,19969,779,2.7123534715960327,55.0793672372877,49.72727272727273,78.82954545454545,533.9422109553016,2.7866561259232183,2988.718016622467,166.03988981235918,0.17798073698510056
1354,c36a74ece1e475291af326d493d8db9ff3afdd30,Simon Willison,2022-10-26 04:04:39+00:00,"Try shutting down executor in tests to free up thread local SQLite connections, refs #1843",False,1,1,0,0.0,0.0,0.0,23344,10326,19970,779,2.7123534715960327,55.078721909445086,49.72727272727273,78.82954545454545,533.9422109553016,2.7866561259232183,2988.718016622467,166.03988981235918,0.17798073698510056
1355,c556fad65d8a45ce85027678796a12ac9107d9ed,Simon Willison,2022-10-26 04:25:47+00:00,"Try to address too many files error again, refs #1843",False,9,5,4,0.0,0.0,0.0,23345,10327,19971,779,2.7123534715960327,55.07808002743865,49.72727272727273,78.82954545454545,533.9422109553016,2.7866561259232183,2988.718016622467,166.03988981235918,0.17798073698510056
1356,c7956eed7777c62653b4d508570c5d77cfead7d9,Simon Willison,2022-10-26 04:26:12+00:00,"datasette create-token command, refs #1859",False,138,130,8,0.1864406779661017,1.0,0.8135593220338984,23414,10377,20034,779,2.712871287128713,54.97594374555563,49.95454545454545,79.17045454545455,536.701094822299,2.807312644602174,3024.434047767356,168.02411376485298,0.17890036494076636
1357,df7bf0b2fc262f0b025b3cdd283ff8ce60653175,Simon Willison,2022-10-26 21:13:31+00:00,"Fix bug with breadcrumbs and request=None, closes #1849",False,18,15,3,0.625,0.625,0.625,23125,10188,19765,778,2.6930063578564942,55.482125931551465,48.90909090909091,77.2840909090909,523.3937129377016,2.7397089591090595,2918.0060474905217,162.1114470828067,0.1744645709792339
1358,55a709c480a1e7401b4ff6208f37a2cf7c682183,Simon Willison,2022-10-26 21:34:33+00:00,"Allow leading comments on SQL queries, refs #1860",False,34,28,6,,,,23147,10189,19785,784,2.6930063578564942,55.483977979116524,49.05681818181818,77.5909090909091,526.1688010411916,2.7409304802169445,2953.368295598857,164.07601642215866,0.1753896003470639
1359,55f860c304aea813cb7ed740cc5625560a0722a0,Simon Willison,2022-10-27 03:14:59+00:00,"Fix bug with breadcrumbs and request=None, closes #1849",False,18,15,3,0.625,0.625,0.625,23426,10386,20043,780,2.712230215827338,54.96905388959742,49.98863636363637,79.20454545454545,536.9393311655335,2.8133768928539222,3026.4685433393465,168.13714129663026,0.17897977705517787
1360,af5d5d0243631562ad83f2c318bff31a077feb5d,Simon Willison,2022-10-27 03:14:59+00:00,"Allow leading comments on SQL queries, refs #1860",False,34,28,6,,,,23448,10387,20063,786,2.712230215827338,54.97090593716248,50.13636363636363,79.51136363636364,539.7144192690234,2.8145984139618068,3061.8307914476823,170.10171063598222,0.17990480642300788
1361,382a87158337540f991c6dc887080f7b37c7c26e,Simon Willison,2022-10-27 03:14:59+00:00,"max_signed_tokens_ttl setting, closes #1858

Also redesigned token format to include creation time and optional duration.",False,124,99,25,0.0,0.0,0.6458333333333334,23507,10422,20117,791,2.7257194244604315,54.94655678581602,50.40909090909091,80.1590909090909,544.4694859684794,2.8393647344547706,3122.5448856528615,173.4747158696033,0.18148982865615979
1362,51c436fed29205721dcf17fa31d7e7090d34ebb8,Simon Willison,2022-10-27 03:57:02+00:00,"First draft of insert row write API, refs #1851",False,130,119,11,0.0,0.041666666666666664,0.041666666666666664,23563,10451,20165,798,2.733153638814016,54.92448969460686,50.52272727272727,80.36363636363636,546.3510281659761,2.838074808164844,3137.083128774053,174.28239604300282,0.1821170093886587
1363,5f6be3c48b661f74198b8fc85361d3ad6657880e,Simon Willison,2022-10-27 18:47:48+00:00,"Better comment handling in SQL regex, refs #1860",False,10,6,4,,,,23149,10189,19786,784,2.6930063578564942,55.48386530261314,49.05681818181818,77.5909090909091,526.1688010411916,2.7409304802169445,2953.368295598857,164.07601642215866,0.1753896003470639
1364,d2ca13b699d441a201c55cb72ff96919d3cd22bf,Simon Willison,2022-10-27 18:50:54+00:00,"Add test for /* multi line */ comment, refs #1860",False,1,1,0,,,,23150,10189,19787,784,2.6930063578564942,55.483752898880944,49.05681818181818,77.5909090909091,526.1688010411916,2.7409304802169445,2953.368295598857,164.07601642215866,0.1753896003470639
1365,b597bb6b3e7c4b449654bbfa5b01ceff3eb3cb33,Simon Willison,2022-10-27 18:52:06+00:00,"Better comment handling in SQL regex, refs #1860",False,10,6,4,,,,23565,10451,20166,798,2.733153638814016,54.92437701810348,50.52272727272727,80.36363636363636,546.3510281659761,2.838074808164844,3137.083128774053,174.28239604300282,0.1821170093886587
1366,6958e21b5c2012adf5655d2512cb4106490d10f2,Simon Willison,2022-10-27 18:52:06+00:00,"Add test for /* multi line */ comment, refs #1860",False,1,1,0,,,,23566,10451,20167,798,2.733153638814016,54.92426461437128,50.52272727272727,80.36363636363636,546.3510281659761,2.838074808164844,3137.083128774053,174.28239604300282,0.1821170093886587
1367,a51608090b5ee37593078f71d18b33767ef3af79,Simon Willison,2022-10-27 19:06:18+00:00,"Slight tweak to insert row API design, refs #1851

https://github.com/simonw/datasette/issues/1851#issuecomment-1292997608",False,14,7,7,,,,23566,10451,20167,798,2.733153638814016,54.92426461437128,50.52272727272727,80.36363636363636,546.3510281659761,2.838074808164844,3137.083128774053,174.28239604300282,0.1821170093886587
1368,a2a5dff709c6f1676ac30b5e734c2763002562cf,Simon Willison,2022-10-27 19:08:26+00:00,"Missing tests for insert row API, refs #1851",False,38,38,0,0.32142857142857145,1.0,1.0,23604,10477,20201,798,2.730044843049327,54.95355397494055,50.056179775280896,79.59550561797752,540.6396581867776,2.819027418667005,3102.323467295273,172.35130373862614,0.18021321939559254
1369,6e788b49edf4f842c0817f006eb9d865778eea5e,Simon Willison,2022-10-27 20:18:05+00:00,"New URL design /db/table/-/insert, refs #1851",False,99,86,13,0.03389830508474576,0.03389830508474576,1.0,23675,10516,20262,804,2.7415026833631484,54.92365600768589,50.17977528089887,79.79775280898876,542.533673558323,2.8162776631082607,3116.778431729378,173.15435731829865,0.18084455785277437
1370,b912d92b651c4f0b5137da924d135654511f0fe0,Forest Gregg,2022-10-27 20:51:20+00:00,"Make hash and size a lazy property (#1837)

* use inspect data for hash and file size
* make hash and cached_size lazy properties
* move hash property near size",False,36,24,12,1.0,1.0,1.0,23162,10200,19798,784,2.695099818511797,55.47024366236842,49.07954545454545,77.61363636363636,526.3731223369955,2.7406398951723885,2954.4098776140286,164.1338820896682,0.17545770744566516
1371,2c36e45447494cd7505440943367e29ec57c8e72,dependabot[bot],2022-10-27 20:51:45+00:00,"Bump black from 22.8.0 to 22.10.0 (#1839)

Bumps [black](https://github.com/psf/black) from 22.8.0 to 22.10.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.8.0...22.10.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,23162,10200,19798,784,2.695099818511797,55.47024366236842,49.07954545454545,77.61363636363636,526.3731223369955,2.7406398951723885,2954.4098776140286,164.1338820896682,0.17545770744566516
1372,bf00b0b59b6692bdec597ac9db4e0b497c5a47b4,Simon Willison,2022-10-27 22:11:26+00:00,"Release 0.63

Refs #1646, #1786, #1787, #1789, #1794, #1800, #1804, #1805, #1808, #1809, #1816, #1819, #1825, #1829, #1831, #1834, #1844, #1853, #1860

Closes #1869",False,4,3,1,,,,23162,10200,19798,784,2.695099818511797,55.47024366236842,49.07954545454545,77.61363636363636,526.3731223369955,2.7406398951723885,2954.4098776140286,164.1338820896682,0.17545770744566516
1373,2ea60e12d90b7cec03ebab728854d3ec4d553f54,Forest Gregg,2022-10-28 00:58:41+00:00,"Make hash and size a lazy property (#1837)

* use inspect data for hash and file size
* make hash and cached_size lazy properties
* move hash property near size",False,36,24,12,1.0,1.0,1.0,23687,10527,20273,804,2.7435210008936552,54.91029856034766,50.20224719101124,79.82022471910112,542.7356991092302,2.8159903430642044,3117.80831057584,173.21157280976874,0.18091189970307672
1374,641bc4453b5ef1dff0b2fc7dfad0b692be7aa61c,dependabot[bot],2022-10-28 00:58:41+00:00,"Bump black from 22.8.0 to 22.10.0 (#1839)

Bumps [black](https://github.com/psf/black) from 22.8.0 to 22.10.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.8.0...22.10.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,23687,10527,20273,804,2.7435210008936552,54.91029856034766,50.20224719101124,79.82022471910112,542.7356991092302,2.8159903430642044,3117.80831057584,173.21157280976874,0.18091189970307672
1375,61171f01549549e5fb25c72b13280d941d96dbf1,Simon Willison,2022-10-28 00:58:41+00:00,"Release 0.63

Refs #1646, #1786, #1787, #1789, #1794, #1800, #1804, #1805, #1808, #1809, #1816, #1819, #1825, #1829, #1831, #1834, #1844, #1853, #1860

Closes #1869",False,4,3,1,,,,23687,10527,20273,804,2.7435210008936552,54.91029856034766,50.20224719101124,79.82022471910112,542.7356991092302,2.8159903430642044,3117.80831057584,173.21157280976874,0.18091189970307672
1376,c9b5f5d598e7f85cd3e1ce020351a27da334408b,Simon Willison,2022-10-28 00:58:41+00:00,"Depend on sqlite-utils>=3.30

Decided to use the most recent version in case I decide later to
use the flatten() utility function.

Refs #1850",False,1,1,0,,,,23688,10527,20274,804,2.7435210008936552,54.91029856034766,50.20224719101124,79.82022471910112,542.7356991092302,2.8159903430642044,3117.80831057584,173.21157280976874,0.18091189970307672
1377,c35859ae3df163406f1a1895ccf9803e933b2d8e,Simon Willison,2022-10-30 06:03:45+00:00,"API for bulk inserts, closes #1866",False,371,320,51,0.3958333333333333,0.46875,0.20833333333333334,23900,10612,20471,807,2.7542297417631345,54.74978131974526,50.60674157303371,80.52808988764045,547.677857627175,2.8378896865845804,3173.841496273117,176.32452757072863,0.18255928587572495
1378,f6bf2d8045cc239fe34357342bff1440561c8909,Simon Willison,2022-10-30 06:20:11+00:00,"Initial prototype of API explorer at /-/api, refs #1871",False,88,87,1,0.3333333333333333,0.3333333333333333,1.0,23913,10618,20481,807,2.752,54.744390160496174,50.60674157303371,80.52808988764045,547.677857627175,2.8378896865845804,3173.841496273117,176.32452757072863,0.18255928587572495
1379,9eb9ffae3ddd4e8ff0b713bf6fd6a0afed3368d7,Simon Willison,2022-10-30 20:09:55+00:00,"Drop API token requirement from API explorer, refs #1871",False,22,13,9,1.0,1.0,1.0,23922,10624,20487,808,2.753108348134991,54.73790357576409,50.674157303370784,80.62921348314607,548.4661752203999,2.833987328910152,3178.1458134759077,176.56365630421698,0.18282205840679996
1380,2865d3956f3bedeb0bca15c798b18bcfbae05235,Simon Willison,2022-10-30 22:17:21+00:00,"/db/table/-/drop API, closes #1874",False,125,114,11,0.0847457627118644,0.3898305084745763,1.0,23996,10670,20550,810,2.7541998231653406,54.64840159637366,50.89887640449438,81.11235955056179,551.7299438100658,2.852187004592362,3197.3201335187773,177.62889630659865,0.18390998127002195
1381,00632ded30e7cf9f0cf9478680645d1dabe269ae,Simon Willison,2022-10-30 23:16:00+00:00,"Initial attempt at /db/table/row/-/delete, refs #1864",False,148,144,4,0.06976744186046512,0.3372093023255814,1.0,24105,10729,20640,813,2.756161971830986,54.55829305275233,51.157303370786515,81.65168539325843,555.4888847224803,2.8528666218227414,3212.50283476326,178.47237970906988,0.18516296157416012
1382,2ec5583629005b32cb0877786f9681c5d43ca33f,Simon Willison,2022-11-01 17:22:26+00:00,"Show interrupted query in resizing textarea, closes #1876",False,14,11,3,0.0,0.5,1.0,23170,10200,19806,784,2.695099818511797,55.46955720752178,49.07954545454545,77.61363636363636,526.3731223369955,2.7406398951723885,2954.4098776140286,164.1338820896682,0.17545770744566516
1383,93a02281dad2f23da84210f6ae9c63777ad8af5e,Simon Willison,2022-11-01 17:38:24+00:00,"Show interrupted query in resizing textarea, closes #1876",False,14,11,3,0.0,0.5,1.0,24113,10729,20648,813,2.756161971830986,54.55761506528931,51.157303370786515,81.65168539325843,555.4888847224803,2.8528666218227414,3212.50283476326,178.47237970906988,0.18516296157416012
1384,9bec7c38eb93cde5afb16df9bdd96aea2a5b0459,Simon Willison,2022-11-01 18:08:17+00:00,"ignore and replace options for bulk inserts, refs #1873

Also removed the rule that you cannot include primary keys in the rows you insert.

And added validation that catches invalid parameters in the incoming JSON.

And renamed ""inserted"" to ""rows"" in the returned JSON for return_rows: true",False,128,111,17,0.0,0.044444444444444446,0.08888888888888889,24207,10758,20735,813,2.762532981530343,54.50694630795461,51.258426966292134,81.82022471910112,556.8647184514008,2.8519577069727773,3218.4704849621066,178.80391583122804,0.18562157281713357
1385,497290beaf32e6b779f9683ef15f1c5bc142a41a,Simon Willison,2022-11-01 19:59:17+00:00,"Handle database errors in /-/insert, refs #1866, #1873

Also improved API explorer to show HTTP status of response, refs #1871",False,30,24,6,0.0,0.5714285714285714,0.42857142857142855,24221,10763,20749,813,2.7651715039577835,54.500005995212966,51.26966292134831,81.85393258426966,557.1071791503999,2.852269701282001,3219.716985861923,178.87316588121783,0.1857023930501334
1386,000eeb44640517cdb1fbe125a1ede3857bc01003,Simon Willison,2022-11-02 05:45:05+00:00,"Link to Datasette API docs from /-/api, refs #1871",False,17,8,9,,,0.0,24221,10763,20749,813,2.7651715039577835,54.50013642394557,51.26966292134831,81.85393258426966,557.1071791503999,2.852269701282001,3219.716985861923,178.87316588121783,0.1857023930501334
1387,719e75725240f75b994cf22bf3f6d1a502bb3d07,Simon Willison,2022-11-03 03:12:13+00:00,"Return method not allowed error in JSON in some situations

Added this while playing with the new API explorer, refs #1871",False,16,11,5,1.0,1.0,1.0,24227,10769,20754,813,2.765377855887522,54.49108981282442,51.31460674157304,81.92134831460675,557.6456536441759,2.851750869302495,3222.966181808566,179.05367676714246,0.18588188454805868
1388,9b5a73ba4c9942ebab168e6b3e1d90270f2cffe7,Simon Willison,2022-11-03 04:46:05+00:00,Applied Black,False,9,7,2,1.0,1.0,1.0,24232,10769,20759,813,2.765377855887522,54.490451160696814,51.31460674157304,81.92134831460675,557.6456536441759,2.851750869302495,3222.966181808566,179.05367676714246,0.18588188454805868
1389,c51d9246b996a2831c9bd6a1e205f6cb48b9a5f3,Simon Willison,2022-11-03 05:10:07+00:00,"Permission check testing tool, refs #1881",False,139,138,1,0.10344827586206896,1.0,1.0,24283,10792,20807,813,2.7673397717295876,54.973795526406484,50.75555555555555,81.03333333333333,551.5984083762622,2.819915175882895,3187.619242424756,177.08995791248634,0.18386613612542074
1390,2355067ef568b4011ad3202ce26a46647c2419c3,Simon Willison,2022-11-03 20:36:11+00:00,"Tests now close SQLite database connections and files explicitly, refs #1843

Also added a db.close() method to the Database class.",False,28,23,5,0.375,0.5,0.625,24294,10798,20813,817,2.768421052631579,54.97861155028784,50.766666666666666,81.05555555555556,551.7452013895186,2.819854200273139,3188.2894380574594,177.12719100319208,0.18391506712983954
1391,867e0abd3429f837d5f15e6843a38f848ee562f0,Simon Willison,2022-11-03 20:37:26+00:00,"Tests now close SQLite database connections and files explicitly, refs #1843

Also added a db.close() method to the Database class.",False,30,23,7,0.42857142857142855,0.5714285714285714,0.7142857142857143,23179,10205,19811,787,2.6962828649138713,55.470585498986814,49.09090909090909,77.63636363636364,526.5232515550986,2.74057753375332,2955.095304965657,164.17196138698088,0.1755077505183662
1392,fb8b6b2311674c71ae12294cec5d9e6b30dc4258,Simon Willison,2022-11-03 23:36:43+00:00,Refactor _error helper function,False,16,6,10,0.0,0.0,0.0,24290,10795,20811,817,2.7699736611062336,54.981934868713374,50.766666666666666,81.05555555555556,551.7452013895186,2.819854200273139,3188.2894380574594,177.12719100319208,0.18391506712983954
1393,bcc781f4c50a8870e3389c4e60acb625c34b0317,Simon Willison,2022-11-04 00:12:23+00:00,"Implementation and tests for _r field on actor, refs #1855

New mechanism for restricting permissions further for a given actor.

This still needs documentation. It will eventually be used by the mechanism to issue
signed API tokens that are only able to perform a subset of actions.

This also adds tests that exercise the POST /-/permissions tool, refs #1881",False,144,142,2,0.12857142857142856,0.6285714285714286,0.15714285714285714,24430,10858,20934,832,2.7802101576182134,54.951565767644105,50.98888888888889,81.54444444444445,555.42312955135,2.821242545025762,3217.7613531800116,178.76451962111167,0.1851410431837834
1394,bbaab3b38ec2ce5944239ffbe2dd53328df40fff,Simon Willison,2022-11-11 06:20:40+00:00,"Test form actions use prefix, refs #1883",False,2,2,0,0.0,0.0,0.0,23181,10207,19813,787,2.6971894832275614,55.46689584243127,49.09090909090909,77.63636363636364,526.5232515550986,2.74057753375332,2955.095304965657,164.17196138698088,0.1755077505183662
1395,8d9a957c6329d26cc1e417b5d6911640d74765eb,Simon Willison,2022-11-11 06:49:54+00:00,"Fix for redirects ignoring base_url, refs #1883",False,28,20,8,0.8,0.8,0.8,23193,10212,19823,787,2.6956521739130435,55.461350518530296,49.13636363636363,77.70454545454545,527.1926894125126,2.740511621732988,2958.128034025425,164.3404463347458,0.17573089647083756
1396,9f54f00a50a4d950cfd69a0ff3526ae82c858826,Simon Willison,2022-11-11 07:01:20+00:00,"Release 0.63.1

Refs ##1843, #1876, #1883",False,12,11,1,,,,23193,10212,19823,787,2.6956521739130435,55.461350518530296,49.13636363636363,77.70454545454545,527.1926894125126,2.740511621732988,2958.128034025425,164.3404463347458,0.17573089647083756
1397,26262d08f3ed727ddbb8c8d32b3887603a74cdb0,Simon Willison,2022-11-12 20:29:59+00:00,"Test form actions use prefix, refs #1883",False,2,2,0,0.0,0.0,0.0,24432,10860,20936,832,2.7810858143607704,54.94795810345646,50.98888888888889,81.54444444444445,555.42312955135,2.821242545025762,3217.7613531800116,178.76451962111167,0.1851410431837834
1398,fa9cc9efaf442be9d1399be1cefcc37c7b29ff72,Simon Willison,2022-11-12 20:29:59+00:00,"Fix for redirects ignoring base_url, refs #1883",False,28,20,8,0.8,0.8,0.8,24444,10865,20946,832,2.779527559055118,54.94256791627029,51.03333333333333,81.61111111111111,556.0776910119326,2.821178097716993,3220.7266882606737,178.92926045892625,0.1853592303373109
1399,f832435b882def6e0bbcd24006053521f8b96351,Simon Willison,2022-11-12 20:29:59+00:00,"Release 0.63.1

Refs ##1843, #1876, #1883",False,12,11,1,,,,24444,10865,20946,832,2.779527559055118,54.94256791627029,51.03333333333333,81.61111111111111,556.0776910119326,2.821178097716993,3220.7266882606737,178.92926045892625,0.1853592303373109
1400,db796771e25dff116db14dab6ff41d9344efe5a8,Simon Willison,2022-11-14 04:58:45+00:00,"Example links for API explorer, closes #1871",False,150,146,4,0.1651376146788991,0.1651376146788991,1.0,24555,10906,21055,832,2.7954545454545454,54.87838779815439,51.27777777777778,81.97777777777777,558.8028872379422,2.832468420297638,3238.0154522860375,179.88974734922425,0.18626762907931413
1401,612da8eae6d20cccbeb25e2bf7689960517bcb8c,Simon Willison,2022-11-14 05:17:18+00:00,"confirm: true mechanism for drop table API, closes #1887",False,72,64,8,0.0,0.0,1.0,24593,10921,21089,834,2.798076923076923,54.881841964943185,51.333333333333336,82.08888888888889,559.6914776456118,2.840201545803275,3250.1318916889304,180.56288287160717,0.18656382588187068
1402,65521f03db62085d49557c3dc4e0c5005648daad,Simon Willison,2022-11-14 05:40:10+00:00,"Error for drop against immutable database, closes #1874",False,42,30,12,0.3333333333333333,0.3333333333333333,1.0,24609,10931,21106,834,2.8024475524475525,54.86689074394384,51.36666666666667,82.21111111111111,560.5981275771061,2.841696581209582,3256.7385661014105,180.9299203389672,0.18686604252570202
1403,264d0ab4714980b630face9157fc05611095e33e,Simon Willison,2022-11-14 05:49:23+00:00,"Renamed return_rows to return in insert API

Refs https://github.com/simonw/datasette/issues/1866#issuecomment-1313128913",False,16,8,8,,,,24609,10931,21106,834,2.8024475524475525,54.86689074394384,51.36666666666667,82.21111111111111,560.5981275771061,2.841696581209582,3256.7385661014105,180.9299203389672,0.18686604252570202
1404,575a29c424893b82b1b3c7472e1b8e4622c05c95,Simon Willison,2022-11-14 06:01:56+00:00,"API explorer: respect immutability, closes #1888",False,13,9,4,0.0,0.0,1.0,24614,10931,21109,835,2.8033216783216783,54.878796865208614,51.388888888888886,82.24444444444444,560.8543684356397,2.848660226882905,3262.8367776091022,181.26870986717233,0.18695145614521325
1405,187d91d68617ca48e34c1fb0c6722a40f8567d45,Simon Willison,2022-11-15 05:57:28+00:00,"/db/-/create API endpoint, closes #1882",False,575,572,3,0.10344827586206896,0.2413793103448276,0.8620689655172413,25062,11033,21532,857,2.843205574912892,54.81566747017295,51.74444444444445,82.92222222222222,566.2219754322027,2.855281183282342,3300.370055683242,183.35389198240225,0.18874065847740099
1406,6f610e1d94b7b8ec605b5b7fcb01537f6adf9c5b,Simon Willison,2022-11-16 03:04:24+00:00,"Updated test, refs #1890",False,4,2,2,,,,23193,10212,19823,787,2.6956521739130435,55.461350518530296,49.13636363636363,77.70454545454545,527.1926894125126,2.740511621732988,2958.128034025425,164.3404463347458,0.17573089647083756
1407,3e61a41b9b8b44a0605773cd8a7f0dbb7d69873c,Simon Willison,2022-11-18 01:19:37+00:00,"Include SQL schema for CodeMirror on query pages, closes #1897

Refs #1893",False,50,41,9,0.0,0.7307692307692307,0.8461538461538461,23225,10231,19851,789,2.6968325791855206,55.44544636692497,49.19318181818182,77.80681818181819,528.0727270248269,2.7399702043226384,2960.7322129120007,164.48512293955557,0.176024242341609
1408,b35522c6dd8a1609b0159772a81db3b6a1e6be63,Simon Willison,2022-11-18 01:23:35+00:00,"Updated test, refs #1890",False,4,2,2,,,,25062,11033,21532,857,2.843205574912892,54.81566747017295,51.74444444444445,82.92222222222222,566.2219754322027,2.855281183282342,3300.370055683242,183.35389198240225,0.18874065847740099
1409,98611b3da05b1eab914fb0bdc8d65e963760ce46,Simon Willison,2022-11-18 01:24:44+00:00,"Include SQL schema for CodeMirror on query pages, closes #1897

Refs #1893",False,49,40,9,0.0,0.7307692307692307,0.8461538461538461,25093,11051,21559,859,2.8442123585726717,54.80180240680237,51.8,83.02222222222223,567.0854393372335,2.854799058968442,3302.9351734971874,183.49639852762144,0.1890284797790778
1410,52bf222d48e3a8dadc4116687e9ffe1f25f23830,Simon Willison,2022-11-18 01:24:46+00:00,"/db/-/create API endpoint, closes #1882",False,129,129,0,0.12244897959183673,0.12244897959183673,1.0,25222,11137,21666,862,2.884548611111111,54.71537176111557,52.01111111111111,83.6,571.6558141634281,2.8591099978142647,3338.1157474553142,185.4508748586285,0.19055193805447604
1411,83a6872d1b81a750ba46f6adc16f2030f0115979,Simon Willison,2022-11-18 02:53:48+00:00,"Include views in SQL autocomplete, refs #1897",False,5,5,0,0.75,1.0,1.0,25227,11141,21670,863,2.8854166666666665,54.71278483247081,52.03333333333333,83.63333333333334,571.9565552490062,2.8588315238515802,3338.7903431042364,185.48835239467974,0.19065218508300205
1412,b29ccb59c765ddd1635eff585a54247a0ef3b1ae,Simon Willison,2022-11-18 22:13:48+00:00,Add test for db.view_names(),False,11,11,0,1.0,1.0,1.0,25238,11145,21679,863,2.8837814397224633,54.70677106737696,52.05555555555556,83.66666666666667,572.203885728273,2.8588037383556095,3339.1641985665533,185.50912214258625,0.19073462857609108
1413,c588a89f267af63bbc310f8844244255f619d2ae,Simon Willison,2022-11-18 22:16:38+00:00,"db.view_exists() method, needed by #1896",False,22,22,0,1.0,1.0,0.625,25257,11153,21695,863,2.8805194805194807,54.69694588187018,52.077777777777776,83.7,572.4527192595674,2.858777717018113,3339.5402343967608,185.53001302204223,0.19081757308652247
1414,ee64130fa8a5ff4a24791916c696e10cf2375102,Simon Willison,2022-11-18 22:46:25+00:00,"Refactor to use new resolve_database/table/row methods, refs #1896",False,387,254,133,1.0,1.0,1.0,25300,11163,21723,865,2.86106346483705,54.725333988375475,52.1,83.74444444444444,573.0516081408072,2.8591379214357775,3346.4662818235124,185.91479343463956,0.19101720271360242
1415,72ac9bf82fae8a8bc34c6285785ddbef1d0dfe05,Simon Willison,2022-11-19 00:34:33+00:00,"--generate-dir option to publish heroku, refs #1905",False,70,70,0,0.0,0.8214285714285714,0.8214285714285714,23289,10259,19912,790,2.6971066907775767,55.386346506685804,49.31818181818182,77.97727272727273,529.0639549512794,2.7456520225044567,2963.202377399373,164.6223542999651,0.1763546516504265
1416,733447d7c71805efe6189f728a0f620e239fe4ac,Simon Willison,2022-11-19 00:44:46+00:00,"Upgrade to Python 3.11 on Heroku, refs #1905",False,13,10,3,0.0,1.0,0.0,23296,10263,19919,790,2.6971066907775767,55.38156102985402,49.31818181818182,77.97727272727273,529.0639549512794,2.7456520225044567,2963.202377399373,164.6223542999651,0.1763546516504265
1417,21f8aab53164a4f096737743d8cc624d2186327a,Simon Willison,2022-11-19 00:59:05+00:00,"Release 0.63.2

Refs #1904, #1905",False,10,9,1,,,,23296,10263,19919,790,2.6971066907775767,55.38156102985402,49.31818181818182,77.97727272727273,529.0639549512794,2.7456520225044567,2963.202377399373,164.6223542999651,0.1763546516504265
1418,484bef0d3b628c77e7331ddd633d68c4a66817f3,Simon Willison,2022-11-29 18:06:19+00:00,"/db/table/pk/-/update endpoint, closes #1863",False,312,269,43,0.3826086956521739,0.2,0.5565217391304348,25459,11250,21854,865,2.867860187553282,54.565921512940704,52.53333333333333,84.54444444444445,579.204291502206,2.8658686906665474,3383.9946753994814,187.99970418886005,0.19306809716740198
1419,1154048f7953fb178424e36a99e98b3742d40bb5,Simon Willison,2022-11-29 18:47:48+00:00,"Compound primary key support for /db/-/create - closes #1911

Needed for tests in #1864",False,72,69,3,0.0,0.0,1.0,25523,11259,21917,869,2.875532821824382,54.5572165392072,52.6,84.68888888888888,580.4076292470896,2.8663108382404783,3392.561917723953,188.4756620957751,0.1934692097490299
1420,6bda2257868a2cbd70b84b7a86a5bcb47dcc4874,Simon Willison,2022-11-29 18:53:55+00:00,"Tests for rowid and compound pk row deletion, closes #1864",False,90,70,20,0.0,1.0,0.0,25573,11273,21960,873,2.8756388415672913,54.550534359639165,52.63333333333333,84.72222222222223,580.7289970664198,2.865551104147411,3393.048102064052,188.50267233689172,0.19357633235547322
1421,4d49a5a39739476e1ada43f70a0029abcef07977,Simon Willison,2022-11-29 19:22:54+00:00,"Release 1.0a0

Refs #1850, #1851, #1852, #1856, #1858, #1863, #1864, #1871, #1874, #1882

Closes #1891",False,32,31,1,,,,25573,11273,21960,873,2.8756388415672913,54.550534359639165,52.63333333333333,84.72222222222223,580.7289970664198,2.865551104147411,3393.048102064052,188.50267233689172,0.19357633235547322
1422,6b47734c04e669c3f8775e6d84cbb7737a29b91d,Simon Willison,2022-11-30 05:06:52+00:00,"_memory database should not be mutable, closes #1917",False,6,4,2,0.0,0.0,0.0,25646,11305,22030,874,2.875744680851064,54.48806869672535,52.75555555555555,84.88888888888889,581.6981977056176,2.8711066597029666,3395.4633740072604,188.63685411151442,0.19389939923520588
1423,55183973387dcf6c3b7c2950b86e244679e8b0e4,Simon Willison,2022-11-30 05:07:51+00:00,"Show mutable DBs first in API explorer, closes #1918",False,2,2,0,0.0,0.0,1.0,25648,11307,22031,875,2.875744680851064,54.49765926759372,52.75555555555555,84.91111111111111,581.8353071500942,2.8719003104966174,3396.7414299004163,188.70785721668972,0.19394510238336476
1424,8404b21556d133c89eda4bd1bf5335ed9a0785d6,Simon Willison,2022-11-30 05:15:13+00:00,"405 method not allowed for GET to POST endpoints, closes #1916",False,27,26,1,1.0,1.0,0.8461538461538461,25673,11316,22053,875,2.872557349192863,54.48664208730626,52.8,84.97777777777777,582.4198641806402,2.871435679728956,3399.04378129251,188.83576562736167,0.19413995472688003
1425,48725bb4ea05583a7465839850a6d46bee6c6bee,Simon Willison,2022-11-30 17:27:10+00:00,"CORS headers for write APIs, refs #1922",False,39,29,10,0.0,1.0,0.3333333333333333,25692,11323,22069,880,2.8758503401360542,54.49047378473302,52.855555555555554,85.11111111111111,583.5430726719819,2.87833314273107,3418.4467055485,189.91370586380557,0.19451435755732732
1426,4c18730e71e0b9109312fdfc2295d9c4ab6fbdcb,Simon Willison,2022-11-30 18:29:48+00:00,"Update tests to export 200 for OPTIONS calls, refs #1922",False,6,3,3,,,,25692,11323,22069,880,2.8758503401360542,54.49047378473302,52.855555555555554,85.11111111111111,583.5430726719819,2.87833314273107,3418.4467055485,189.91370586380557,0.19451435755732732
1427,6bfd71f5c62324c18297cf31f79746d8c05dc680,Simon Willison,2022-11-30 20:25:12+00:00,"Access-Control-Allow-Methods: GET, POST, HEAD, OPTIONS - refs #1922",False,4,4,0,0.3333333333333333,1.0,0.3333333333333333,25695,11326,22072,880,2.8758503401360542,54.48563832487204,52.888888888888886,85.17777777777778,584.1196862809678,2.878555336738181,3421.703493210705,190.09463851170582,0.19470656209365594
1428,2cd7ecaa0a8ce51b9bebb65c39f07c7027884800,Simon Willison,2022-11-30 21:54:47+00:00,"Apply Black, refs #1922",False,4,3,1,0.0,1.0,0.0,25697,11326,22074,880,2.8758503401360542,54.485548997150374,52.888888888888886,85.17777777777778,584.1196862809678,2.878555336738181,3421.703493210705,190.09463851170582,0.19470656209365594
1429,f0fadc28ddb9f82e5cc1ecaa51e8a342eb6dc528,Simon Willison,2022-11-30 23:11:18+00:00,"Access-Control-Allow-Headers: Authorization, Content-Type - refs #1922",False,6,3,3,,,,25697,11326,22074,880,2.8758503401360542,54.485548997150374,52.888888888888886,85.17777777777778,584.1196862809678,2.878555336738181,3421.703493210705,190.09463851170582,0.19470656209365594
1430,31d6a0bc5e0b8641b67c85ae6b7b5e0719acf2fe,Simon Willison,2022-11-30 23:17:39+00:00,"Applied Black, refs #1922",False,5,4,1,0.0,1.0,0.0,25700,11326,22077,880,2.8758503401360542,54.48541553345683,52.888888888888886,85.17777777777778,584.1196862809678,2.878555336738181,3421.703493210705,190.09463851170582,0.19470656209365594
1431,9a1536b52a07e32da5900652da1bd7894c58fa9f,Simon Willison,2022-11-30 23:48:32+00:00,"Move CORS headers into base class, refs #1922",False,12,5,7,0.0,0.0,1.0,25698,11324,22075,880,2.875,54.487831234888006,52.888888888888886,85.17777777777778,584.1196862809678,2.878555336738181,3421.703493210705,190.09463851170582,0.19470656209365594
1432,7fde34cfcbcdcfbb5706ec4875340e0d26c5793f,Simon Willison,2022-12-01 02:05:29+00:00,"Documentation and test for UNIQUE constraint failed, refs #1924",False,21,20,1,0.0,1.0,0.0,25706,11327,22082,881,2.875,54.484943769269115,52.93333333333333,85.27777777777777,584.9417160007239,2.878831553450761,3426.478420298174,190.35991223878742,0.19498057200024135
1433,f3c8da7acd98a0efa4a5f45b66421565f5492cb2,Simon Willison,2022-12-01 21:29:31+00:00,MAke the sign in as root button bigger on latest.datasette.io,False,5,4,1,0.0,1.0,1.0,25709,11327,22085,881,2.875,54.4846422676335,52.93333333333333,85.27777777777777,584.9417160007239,2.878831553450761,3426.478420298174,190.35991223878742,0.19498057200024135
1434,692fbfc40a150913045618db5bdd8e32679250e6,Simon Willison,2022-12-01 21:30:39+00:00,"Release 1.0a1

Refs #1922, #1917, #1915, #1916, #1918, #1924",False,14,13,1,,,,25709,11327,22085,881,2.875,54.4846422676335,52.93333333333333,85.27777777777777,584.9417160007239,2.878831553450761,3426.478420298174,190.35991223878742,0.19498057200024135
1435,27efa8c381bc1c9b8b3e6056e7e544ce6bedaedc,Simon Willison,2022-12-02 01:29:44+00:00,"todomvc permissions and fixed DATASETTE_SECRET for new demo

Refs https://github.com/simonw/todomvc-datasette/issues/2",False,17,15,2,1.0,0.0,1.0,25719,11329,22093,883,2.876700680272109,54.49206246147158,53.0,85.37777777777778,585.6284947704428,2.8854188550380626,3430.951235776921,190.6084019876067,0.19520949825681427
1436,d7e5e3c9f98d194fdfb12f1ecc60ed5b3afbc464,Simon Willison,2022-12-02 01:38:23+00:00,"Fix for todomvc permission check

Refs https://github.com/simonw/todomvc-datasette/issues/2",False,5,4,1,0.0,0.0,1.0,25722,11332,22096,883,2.877551020408163,54.48860373442073,53.0,85.37777777777778,585.6284947704428,2.8854188550380626,3430.951235776921,190.6084019876067,0.19520949825681427
1437,93ababe6f7150454d2cf278dae08569e505d2a5b,Simon Willison,2022-12-03 07:00:18+00:00,"Initial attempt at insert/replace for /-/create, refs #1927",False,235,111,124,0.7966101694915254,1.0,0.0,25709,11272,22092,888,2.8458262350936967,54.55407445864112,52.955555555555556,85.11111111111111,583.6161027510334,2.8815504024189287,3410.7673496045995,189.4870749780333,0.19453870091701103
1438,272982e8a6f45700ff93c3917b4688a86de0e672,Simon Willison,2022-12-08 01:12:15+00:00,"/db/table/-/upsert API

Close #1878

Also made a few tweaks to how _r works in tokens and actors,
refs #1855 - I needed that mechanism for the tests.",False,445,401,44,0.0,0.0,0.0,25956,11353,22314,904,2.8759558198810535,54.507640542560836,53.36666666666667,85.93333333333334,590.8097234981547,2.8818866135430072,3466.600801483293,192.5889334157385,0.19693657449938481
1439,6b27537988ed849682afb9fa3b713dbf33174651,Simon Willison,2022-12-08 01:18:40+00:00,"ignore/replace to create requires pk, refs #1927",False,32,32,0,0.0,0.0,1.0,25988,11356,22344,906,2.881053525913339,54.500175777947526,53.43333333333333,86.11111111111111,592.2378781934048,2.883420632316976,3477.9722520683667,193.22068067046482,0.1974126260644682
1440,9342b60f148e01a6eee491e32d4a946693b49a3d,Simon Willison,2022-12-08 01:27:01+00:00,"test_create_table_error_if_pk_changed, refs #1927",False,51,49,2,0.0,0.7857142857142857,1.0,26035,11376,22387,908,2.8887945670628183,54.47516241310196,53.63333333333333,86.43333333333334,595.0675983033883,2.889734837659654,3506.751509477939,194.81952830432994,0.1983558661011294
1441,dee18ed8ce7af2ab8699bcb5a51a99f48301bc42,Simon Willison,2022-12-08 01:29:24+00:00,"test_create_table_error_rows_twice_with_duplicates, refs #1927",False,39,38,1,0.0,0.8787878787878788,1.0,26072,11389,22421,909,2.8871925360474977,54.4642148965841,53.68888888888889,86.53333333333333,595.9468718495237,2.889579687880444,3511.006738480405,195.05592991557802,0.1986489572831745
1442,34cffff02a79dc4f90fe5c8ff0d6f6fc5ae5351d,Simon Willison,2022-12-08 01:39:07+00:00,Refactor _headers() for write API tests,False,105,27,78,1.0,0.39622641509433965,0.4716981132075472,26021,11379,22368,909,2.885593220338983,54.47047536251583,53.68888888888889,86.53333333333333,595.9468718495237,2.889579687880444,3511.006738480405,195.05592991557802,0.1986489572831745
1443,bffefc7db0c25acb03e3b44ff357d50bb7f04dd7,dependabot[bot],2022-12-08 21:12:07+00:00,"Bump furo from 2022.9.29 to 2022.12.7 (#1935)

Bumps [furo](https://github.com/pradyunsg/furo) from 2022.9.29 to 2022.12.7.
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2022.09.29...2022.12.07)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,26021,11379,22368,909,2.885593220338983,54.47047536251583,53.68888888888889,86.53333333333333,595.9468718495237,2.889579687880444,3511.006738480405,195.05592991557802,0.1986489572831745
1444,8bf06a76b51bc9ace7cf72cf0cca8f1da7704ea7,Simon Willison,2022-12-13 02:05:54+00:00,"register_permissions() plugin hook (#1940)

* Docs for permissions: in metadata, refs #1636
* Refactor default_permissions.py to help with implementation of #1636
* register_permissions() plugin hook, closes #1939 - also refs #1938
* Tests for register_permissions() hook, refs #1939
* Documentation for datasette.permissions, refs #1939
* permission_allowed() falls back on Permission.default, refs #1939
* Raise StartupError on duplicate permissions
* Allow dupe permisisons if exact matches",False,601,513,88,0.07083333333333333,0.7083333333333334,0.7791666666666667,26322,11476,22636,922,2.899915895710681,54.370430113300436,54.22222222222222,87.31111111111112,603.1250185277312,2.8962467555318945,3555.560575774964,197.53114309860908,0.20104167284257699
1445,c5d30b58a1cd1c66bbddcf3561db005543ecaf25,Simon Willison,2022-12-13 02:40:45+00:00,"Implemented metadata permissions: property, closes #1636",False,206,195,11,0.0,0.0,0.0,26506,11509,22817,936,2.9133725820016823,54.31917629080388,54.4,87.65555555555555,605.9051626138887,2.902767771285391,3592.061028178575,199.55894600992082,0.20196838753796292
1446,3e6a208ba3bd2faf18e553182b1fd8c52782644f,Simon Willison,2022-12-13 03:27:34+00:00,"Rename 't' to 'r' in '_r' actor format, refs #1855",False,8,4,4,,,,26506,11509,22817,936,2.9133725820016823,54.31917629080388,54.4,87.65555555555555,605.9051626138887,2.902767771285391,3592.061028178575,199.55894600992082,0.20196838753796292
1447,c6a811237c00684c9f1e3a28a717425046cab3da,Simon Willison,2022-12-13 04:11:51+00:00,"/-/actor.json no longer requires view-instance, closes #1945",False,41,38,3,0.25806451612903225,0.9354838709677419,0.7419354838709677,26541,11522,22850,936,2.9126050420168066,54.30577141715441,54.44444444444444,87.72222222222223,606.5099423665998,2.902135587377345,3593.6902488624423,199.64945827013568,0.20216998078886658
1448,9cc1a7c4c8798ebd49b43e2e63c2d96a6e23b307,Simon Willison,2022-12-13 04:15:56+00:00,"create-token command can now create restricted tokens, refs #1855",False,96,93,3,0.0,0.5166666666666667,0.7,26631,11547,22911,939,2.9126050420168066,54.32112712846798,54.51111111111111,87.82222222222222,607.3675402836437,2.900484669597395,3598.5939768946605,199.9218876052589,0.20245584676121456
1449,e95b490d88fa256569823b7edf995e842ca860c9,Simon Willison,2022-12-13 04:18:42+00:00,"Move create-token command into cli.py, refs #1855",False,252,123,129,1.0,0.0,0.0,26625,11542,22906,939,2.921848739495798,54.321014178254245,54.51111111111111,87.82222222222222,607.2273006706982,2.9017434305146,3596.9389887966126,199.829943822034,0.2024091002235661
1450,c13dada2f858a36a33fe90508aeadb3395cd9652,Simon Willison,2022-12-13 04:36:42+00:00,"datasette --get --token option, closes #1946, refs #1855",False,44,43,1,0.0,0.8125,0.8125,26664,11556,22942,939,2.922753988245172,54.24163285306498,54.58888888888889,87.94444444444444,608.0092159099922,2.900169097077521,3599.527483695439,199.97374909419108,0.2026697386366641
1451,809fad2392c609d68b1694f5d63aa117b3cc6f61,Simon Willison,2022-12-13 04:44:19+00:00,"Tests for datasette create-token restrictions, refs #1855",False,85,85,0,0.0,1.0,1.0,26749,11568,23025,940,2.9211409395973154,54.22724417278058,54.65555555555556,88.04444444444445,608.9194721892276,2.8992960812045054,3602.0074630475196,200.1115257248622,0.20297315739640917
1452,260fbb598ed6936131fbcbb8e869439c09e90843,Simon Willison,2022-12-13 05:00:40+00:00,"Fix some failing tests, refs #1855",False,37,22,15,0.0,1.0,1.0,26756,11568,23032,940,2.9211409395973154,54.22656760324487,54.65555555555556,88.04444444444445,608.9194721892276,2.8992960812045054,3602.0074630475196,200.1115257248622,0.20297315739640917
1453,a1a372f17974af91e2d710faba0cf41e88b53f9b,Simon Willison,2022-12-13 05:06:30+00:00,"/-/actor no longer requires view-instance, refs #1945",False,1,0,1,,,,26755,11568,23031,940,2.9211409395973154,54.22664694463394,54.65555555555556,88.04444444444445,608.9194721892276,2.8992960812045054,3602.0074630475196,200.1115257248622,0.20297315739640917
1454,34ad574baccfb3e732c6cb7eee6f55c63775ba3b,Simon Willison,2022-12-13 05:14:40+00:00,"Don't hard-code permissions in permission_allowed_actor_restrictions, refs #1855",False,2,1,1,,,,26755,11568,23031,940,2.9211409395973154,54.227297517564566,54.63333333333333,88.0111111111111,608.634933303915,2.8998947656741576,3600.391262025266,200.02173677918145,0.20287831110130503
1455,45979eb7239842aba512fc798ff0e772ef42b3da,Simon Willison,2022-12-13 05:21:01+00:00,"Rename permission created by demo plugin

It was showing up as 'new-permission' on https://latest.datasette.io/-/permissions
which I thought was confusing",False,10,5,5,,,,26755,11568,23031,940,2.9211409395973154,54.227297517564566,54.63333333333333,88.0111111111111,608.634933303915,2.8998947656741576,3600.391262025266,200.02173677918145,0.20287831110130503
1456,d4b98d3924dec625a99236e65b1b169ff957381f,dependabot[bot],2022-12-13 05:23:30+00:00,"Bump black from 22.10.0 to 22.12.0 (#1944)

Bumps [black](https://github.com/psf/black) from 22.10.0 to 22.12.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.10.0...22.12.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,26755,11568,23031,940,2.9211409395973154,54.227297517564566,54.63333333333333,88.0111111111111,608.634933303915,2.8998947656741576,3600.391262025266,200.02173677918145,0.20287831110130503
1457,f84acae98ed99c3045d6a00e04cc72984cfa68dd,Simon Willison,2022-12-13 22:23:17+00:00,"Return 400 errors for ?_sort errors, closes #1950",False,38,35,3,0.0,0.8888888888888888,0.0,26787,11579,23061,940,2.9212070410729254,54.21445567880289,54.7,88.11111111111111,609.5965729225865,2.8997242415449933,3605.2323128375747,200.2906840465319,0.20319885764086215
1458,d4cc1374f4faaa1850a42c7508a196a277216bbc,Simon Willison,2022-12-13 22:28:59+00:00,"Improved --help for create-token, refs #1947",False,23,17,6,,,,26793,11579,23061,940,2.9212070410729254,54.220548112922046,54.7,88.11111111111111,609.5965729225865,2.8997242415449933,3605.2323128375747,200.2906840465319,0.20319885764086215
1459,fdf7c27b5438f02153c3a7f8ad1b320e4b29e4f4,Simon Willison,2022-12-14 02:42:01+00:00,"datasette.create_token() method, closes #1951",False,144,113,31,0.0,0.0,0.0,26831,11598,23095,940,2.9288107202680065,54.23124069934456,54.71111111111111,88.13333333333334,610.0239354712319,2.8996986605904906,3609.6263655930566,200.53479808850304,0.2033413118237439
1460,d98a8effb10ce8fe04a03eae42baa8a9cb0ca3f7,Simon Willison,2022-12-14 05:03:17+00:00,"UI for restricting permissions on /-/create-token, refs #1947

Also fixes test failures I introduced in #1951",False,197,150,47,0.0,0.0,1.0,26893,11631,23151,942,2.9422594142259415,54.19714480964764,54.888888888888886,88.42222222222222,612.2853059976848,2.898492582717746,3620.5145876393235,201.1396993132957,0.2040951019992282
1461,420d0a0ee29fe89116796185229cb706807ea12f,Simon Willison,2022-12-14 05:13:20+00:00,"Tests for /-/create-token with restrictions, closes #1947",False,41,23,18,0.0,0.0,0.0,26898,11634,23156,943,2.9430962343096234,54.196254656503775,54.91111111111111,88.45555555555555,612.5699849584931,2.898016392241556,3622.1746434396314,201.23192463553505,0.20418999498616439
1462,1a3dcf494376e32f7cff110c86a88e5b0a3f3924,Simon Willison,2022-12-14 05:19:31+00:00,"Don't include _memory on /-/create-token, refs #1947",False,14,13,1,0.0,0.0,0.0,26910,11638,23167,944,2.9439330543933053,54.1936713003884,54.91111111111111,88.45555555555555,612.5699849584931,2.898016392241556,3622.1746434396314,201.23192463553505,0.20418999498616439
1463,e238df3959a0e32837ac8d5c3e49ecbcfe394de4,Simon Willison,2022-12-14 20:04:23+00:00,"Handle non-initials in permission_allowed_actor_restrictions, closes #1956",False,32,27,5,0.0,0.0,0.0,26932,11641,23186,946,2.9447698744769872,54.193688141889524,54.922222222222224,88.38888888888889,612.1538003174916,2.8940906078809885,3613.6106313045307,200.75614618358497,0.2040512667724972
1464,c094dde3ff2bae030f261e6440d4fb082eb860a9,Simon Willison,2022-12-14 20:21:18+00:00,"Extra permission rules for /-/create, closes #1937",False,65,64,1,0.5833333333333334,0.5833333333333334,0.4166666666666667,26990,11658,23238,951,2.9498327759197323,54.17719342873573,55.03333333333333,88.6,613.9942497101634,2.894200015225293,3624.1970373537197,201.34427985298439,0.20466474990338782
1465,8cac6ff3017b86ea1e9dd3b06962302a6ce74f4d,Simon Willison,2022-12-15 02:01:02+00:00,"Release 1.0a2

Refs #1636, #1855, #1878, #1927, #1937, #1940, #1947, #1951

Closes #1953",False,18,17,1,,,,26990,11658,23238,951,2.9498327759197323,54.17719342873573,55.03333333333333,88.6,613.9942497101634,2.894200015225293,3624.1970373537197,201.34427985298439,0.20466474990338782
1466,dc18f62089e5672d03176f217d7840cdafa5c447,Simon Willison,2022-12-15 17:34:07+00:00,"Replace AsgiLifespan with AsgiRunOnFirstRequest, refs #1955",False,72,22,50,0.11538461538461539,0.9615384615384616,0.8461538461538461,26961,11633,23209,951,2.9372909698996654,54.21196758115555,54.888888888888886,88.34444444444445,612.1621293635011,2.8931651568374948,3615.92350968024,200.88463942667994,0.20405404312116704
1467,0b68996cc511b3a801f0cd0157bd66332d75f46f,Simon Willison,2022-12-15 21:06:45+00:00,"Revert ""Replace AsgiLifespan with AsgiRunOnFirstRequest, refs #1955""

This reverts commit dc18f62089e5672d03176f217d7840cdafa5c447.",False,72,50,22,0.8846153846153846,0.038461538461538464,0.15384615384615385,26990,11658,23238,951,2.9498327759197323,54.17719342873573,55.03333333333333,88.6,613.9942497101634,2.894200015225293,3624.1970373537197,201.34427985298439,0.20466474990338782
1468,013496862f4d4b441ab61255242b838b24287607,Simon Willison,2022-12-16 00:55:17+00:00,"Try click.echo() instead

This ensures the URL is output correctly when running under Docker.

Closes #1958",False,2,1,1,,,,26990,11658,23238,951,2.9498327759197323,54.17719342873573,55.03333333333333,88.6,613.9942497101634,2.894200015225293,3624.1970373537197,201.34427985298439,0.20466474990338782
1469,89cffcf14cda830871c8ee81742eaa1e2dff017b,Simon Willison,2022-12-17 21:47:55+00:00,"Reset _metadata_local in a couple of tests

Refs https://github.com/simonw/datasette/pull/1960#issuecomment-1356476886",False,78,44,34,0.0,1.0,1.0,27313,11915,23541,960,2.944166666666667,54.03150687708967,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1470,9c43b4164db4f60a0be912cfdb07ef8c58b36b22,Simon Willison,2022-12-17 21:47:55+00:00,"Removed @pytest.mark.ds_client mark - refs #1959

I don't need it - can run 'pytest -k ds_client' instead.

See https://github.com/simonw/datasette/pull/1960#issuecomment-1355685828",False,234,0,234,,,,27303,11907,23531,960,2.944166666666667,54.03576690515807,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1471,0e42444866fc6e2d45b77471badda2524e95d412,Simon Willison,2022-12-17 21:47:55+00:00,"invoke_startup() inside ds_client fixture, refs #1959",False,1,1,0,0.0,1.0,1.0,27536,12140,23764,960,2.944166666666667,53.9080987608774,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1472,e70974a4f1d397be7c39c46ba710caa731e8e354,Simon Willison,2022-12-17 21:47:55+00:00,"Ran Black, refs #1959",False,38,24,14,0.6,1.0,1.0,27535,12139,23763,960,2.944166666666667,53.9093084145046,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1473,42a66c2f041080845c8751add4ebe2a1b1fd49d7,Simon Willison,2022-12-17 21:47:55+00:00,"A bunch of remaining ds_client conversions, refs #1959",False,31,17,14,,,,27525,12139,23753,960,2.944166666666667,53.9093084145046,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1474,be95359a80b57b2daf5270c1597303d639c48a19,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_permissions.py, refs #1959",False,27,16,11,,,,27522,12138,23752,958,2.944166666666667,53.932465959861766,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1475,ef74d0ff706fa1484d5cfaedeb5395b911bec006,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_internal_db.py, refs #1959",False,51,30,21,,,,27517,12134,23748,957,2.944166666666667,53.932746680453086,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1476,4a151b15cc4d2a1be39aa9c034b2a4fd0381a86f,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_filters.py, refs #1959",False,23,13,10,,,,27508,12125,23739,957,2.944166666666667,53.954108874558,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1477,30f1a0705bc9ca09411479f4cf0103d591c2cc44,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_plugins.py, refs #1959",False,425,255,170,1.0,1.0,1.0,27505,12122,23736,957,2.944166666666667,53.96155701080696,55.111111111111114,88.65555555555555,614.4386452436618,2.8930666583213105,3622.729501935886,201.26275010754912,0.20481288174788723
1478,d94d363ec079e2b5f18631a075bffdd5c68eb4da,Simon Willison,2022-12-17 21:47:55+00:00,"Don't use pytest_asyncio.fixture(scope=""session"") any more, refs #1959

Also got rid of the weird memory=False hack:

https://github.com/simonw/datasette/pull/1960#issuecomment-1354053151",False,27,14,13,1.0,1.0,1.0,27209,11845,23442,958,2.9433333333333334,54.06008210571293,55.05555555555556,88.62222222222222,614.1524661471587,2.8939165886656224,3623.9813740905715,201.3322985605873,0.2047174887157196
1479,bc88491cb78e674690783d962c725c3b779e47d8,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_table_api.py, refs #1959",False,504,308,196,0.0,1.0,0.8333333333333334,27406,12026,23637,958,2.944166666666667,53.998559418157946,55.077777777777776,88.65555555555555,614.364807853145,2.8937334384824727,3624.623607962378,201.36797822013204,0.20478826928438165
1480,1335bcb8939e903a4a7680493624055faecc3da4,Simon Willison,2022-12-17 21:47:55+00:00,"Use my own global variable instead of scope=session

Refs https://github.com/simonw/datasette/pull/1960#issuecomment-1354148139",False,9,8,1,0.0,1.0,1.0,27294,11926,23525,958,2.944166666666667,54.02730784875161,55.077777777777776,88.65555555555555,614.364807853145,2.8937334384824727,3624.623607962378,201.36797822013204,0.20478826928438165
1481,ebd3358e4901b07bf66727cb69e46672133ac6eb,Simon Willison,2022-12-17 21:47:55+00:00,ds_client for test_table_html.py,False,382,230,152,0.0,1.0,1.0,27287,11921,23520,958,2.9433333333333334,54.03779857683159,55.05555555555556,88.62222222222222,614.1524661471587,2.8939165886656224,3623.9813740905715,201.3322985605873,0.2047174887157196
1482,b998c2793fec24e965e561fdbdca5c987223d536,Simon Willison,2022-12-17 21:47:55+00:00,"test_facets.py using ds_client, refs #1959",False,62,38,24,,,,27420,12040,23651,957,2.944166666666667,53.98256404471502,55.077777777777776,88.65555555555555,614.364807853145,2.8937334384824727,3624.623607962378,201.36797822013204,0.20478826928438165
1483,95900b9d02c01de46dc510693ab3b316988bf64c,Simon Willison,2022-12-17 21:47:55+00:00,"Port app_client to ds_client for most of test_html.py, refs #1959",False,414,252,162,1.0,1.0,0.6666666666666666,27208,11846,23439,958,2.9425478767693587,54.0620441266689,55.06666666666667,88.66666666666667,614.6322724094625,2.8944189719361515,3630.629025358633,201.70161251992403,0.2048774241364875
1484,3001eec66a7ec2ba91f5c0acd7cf3c0b79ab2c00,Simon Willison,2022-12-17 21:47:55+00:00,"ds_client for test_csv.py and test_canned_queries.py, refs #1959",False,101,65,36,1.0,1.0,1.0,27118,11761,23352,957,2.945788156797331,54.088124563587854,55.05555555555556,88.66666666666667,614.6065421387311,2.8945998343932575,3631.2513796979115,201.73618776099505,0.20486884737957706
1485,425ac4357ffb722a6ca86d08faba02ee38ad8689,Simon Willison,2022-12-17 21:47:55+00:00,"Ported app_client to ds_client where possible in test_auth.py, refs #1959",False,158,91,67,1.0,0.0,0.0,27089,11738,23323,957,2.945788156797331,54.12316129526096,55.05555555555556,88.66666666666667,614.6065421387311,2.8945998343932575,3631.2513796979115,201.73618776099505,0.20486884737957706
1486,b077e63dc6255d154ede16df1a507b09ba6075b1,Simon Willison,2022-12-17 21:47:55+00:00,"Ported test_api.py app_client test to ds_client, refs #1959",False,236,156,80,0.32142857142857145,1.0,1.0,27065,11714,23305,953,2.9474123539232053,54.13780953007723,55.05555555555556,88.66666666666667,614.6065421387311,2.8945998343932575,3631.2513796979115,201.73618776099505,0.20486884737957706
1487,63fb750f39cac6f49b451387fdff659ecd9edc5c,Simon Willison,2022-12-17 22:14:34+00:00,"Replace AsgiLifespan with AsgiRunOnFirstRequest, refs #1955",False,71,22,49,0.12,1.0,0.88,27285,11891,23513,960,2.9316666666666666,54.06307927083868,54.96666666666667,88.4,612.6065248969995,2.8920317999335112,3614.4559742624065,200.80310968124468,0.20420217496566645
1488,8b73fc6b47dffd8836f5c58aae1e57c1f66a5754,Simon Willison,2022-12-18 01:22:00+00:00,"Put AsgiLifestyle back so server starts up again, refs #1955",False,64,45,19,1.0,0.0,0.0,27311,11914,23535,959,2.9377076411960132,54.02026729340296,55.18888888888889,88.74444444444444,615.0762090105964,2.9045318597865117,3628.163044461656,201.56461358120308,0.2050254030035321
1489,d1d369456a7319b9de39175605568cbc9b852478,Simon Willison,2022-12-18 02:33:07+00:00,"Move HTTPS test to a bash script

See https://github.com/simonw/datasette/issues/1955#issuecomment-1356627931",False,79,33,46,0.7894736842105263,0.0,0.0,27265,11891,23495,957,2.940099833610649,54.10464673608335,55.111111111111114,88.58888888888889,614.2099098100791,2.901754082008734,3624.3551325795324,201.35306292108504,0.20473663660335972
1490,234230e59574ccb8d8a24c45ccd325f725812377,Simon Willison,2022-12-31 18:52:37+00:00,"Default JSON shape is now objects - refs #1914, #1709",False,129,69,60,0.5,1.0,1.0,27275,11892,23505,957,2.940099833610649,54.10362889786586,55.111111111111114,88.58888888888889,614.2099098100791,2.901754082008734,3624.3551325795324,201.35306292108504,0.20473663660335972
1491,8aa9cf629c888a8c117216fd243166981d7b4e06,Simon Willison,2022-12-31 18:52:37+00:00,"Store null instead of 'None' in _internal database table, closes #1970",False,22,17,5,0.36363636363636365,0.0,1.0,27287,11902,23517,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1492,994ce46ed4a5d680bee58242efd95181946c25e9,Chris Holdgraf,2022-12-31 19:00:31+00:00,"Add favicon to documentation (#1967)

Co-authored-by: Simon Willison <swillison@gmail.com>",False,1,1,0,,,,27288,11903,23518,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1493,3af313e165215696af899e772f47bf7c27873ae3,Simon Willison,2022-12-31 19:13:14+00:00,"Fix for Sphinx extlinks warning, closes #1972",False,2,1,1,,,,27288,11903,23518,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1494,ca07fff3e253e4ee4c7f05df4c05046243c489e3,Simon Willison,2022-12-31 19:13:56+00:00,"Pin Sphinx 5.3.0, refs #1971

Furo is not yet compatible with Sphinx 6.0",False,1,1,0,,,,27289,11903,23519,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1495,a2dca62360ad4a961d4c46f68eae41b7d5c7b2c9,Simon Willison,2022-12-31 19:21:15+00:00,"Fix for extension tests I broke, refs #782",False,12,6,6,,,,27289,11903,23519,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1496,5bbe2bcc50490480e82c20c07033eb8e8c1b9bda,Simon Willison,2022-12-31 20:52:57+00:00,"Rename filtered_table_rows_count to count, refs #782",False,27,14,13,,,,27289,11903,23519,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1497,3c352b7132ef09b829abb69a0da0ad00be5edef9,Simon Willison,2022-12-31 21:17:54+00:00,"Applied Black, refs #782",False,6,3,3,,,,27289,11903,23519,957,2.9409317803660566,54.08228600329226,55.18888888888889,88.68888888888888,614.9686067907204,2.9073468442345933,3628.199152632295,201.56661959068296,0.2049895355969068
1498,d94a3c4326e8a219c1c378706d89fdf92189e055,Simon Willison,2023-01-01 01:42:48+00:00,"No need to link to _shape=objects any more

It's the default now. Refs #782",False,1,0,1,1.0,1.0,0.0,27288,11903,23518,957,2.9409317803660566,54.08322346797573,55.166666666666664,88.65555555555555,614.6996168459195,2.907550000977835,3626.986019820263,201.49922332334788,0.20489987228197318
1499,572bdb5b8095bbdc5ec2aa95400055e49ea028cb,Simon Willison,2023-01-01 03:32:07+00:00,"Applied Black, refs #782",False,2,1,1,,,,27288,11903,23518,957,2.9409317803660566,54.08322346797573,55.166666666666664,88.65555555555555,614.6996168459195,2.907550000977835,3626.986019820263,201.49922332334788,0.20489987228197318
1500,c41278b46f7936b4b1a8a14bf285bed82c81c609,Simon Willison,2023-01-05 00:51:26+00:00,"default_allow_sql setting, closes #1409

Refs #1410",False,65,61,4,0.0,0.8260869565217391,1.0,27322,11918,23547,959,2.940980881130507,54.06541899336461,55.28888888888889,88.91111111111111,616.7100621164269,2.9087352652026843,3640.394467636606,202.24413709092246,0.20557002070547567
1501,7b48664d751e59222c01c97a2739d53d6363bdda,Simon Willison,2023-01-07 23:56:03+00:00,"Better error for --load-extensions, refs #1979",False,23,22,1,1.0,1.0,1.0,27343,11929,23565,960,2.940980881130507,54.059772988363896,55.32222222222222,88.94444444444444,616.974042473009,2.914497570124653,3644.559959463988,202.4755533035548,0.20565801415766968
1502,8e7073404379d79a2d269167a12bbb58439edd39,Simon Willison,2023-01-10 02:02:32+00:00,"Upgrade Sphinx, closes #1971",False,2,1,1,,,,27343,11929,23565,960,2.940980881130507,54.059772988363896,55.32222222222222,88.94444444444444,616.974042473009,2.914497570124653,3644.559959463988,202.4755533035548,0.20565801415766968
1503,50fd94e04fea12e9b3e415e4652f7aafe1c74cc1,Simon Willison,2023-01-11 18:13:20+00:00,"Raise ValueError if Datasette(files=) is a string, refs #1985",False,11,10,1,0.6666666666666666,0.6666666666666666,0.6666666666666666,27352,11935,23571,961,2.941029900332226,54.05843315985474,55.37777777777778,89.04444444444445,617.8224940049053,2.9207715441881708,3653.851303959949,202.99173910888592,0.2059408313349684
1504,0b4a28691468b5c758df74fa1d72a823813c96bf,Simon Willison,2023-01-28 03:34:14+00:00,"render_cell(..., request) argument, closes #2007",False,48,30,18,0.3333333333333333,0.5555555555555556,0.7777777777777778,27361,11938,23580,961,2.941029900332226,54.056303445948664,55.37777777777778,89.04444444444445,617.8224940049053,2.9207715441881708,3653.851303959949,202.99173910888592,0.2059408313349684
1505,a53b893c46453f35decc8c145c138671cee6140c,Dustin Rodrigues,2023-03-06 21:01:19+00:00,"Add Python 3.11 classifier (#2028)

Thanks, @dtrodrigues",False,1,1,0,,,,27362,11938,23581,961,2.941029900332226,54.056303445948664,55.37777777777778,89.04444444444445,617.8224940049053,2.9207715441881708,3653.851303959949,202.99173910888592,0.2059408313349684
1506,1ad92a1d87d79084ebe524ed186c900ff042328c,Simon Willison,2023-03-06 22:27:30+00:00,"datasette install -r requirements.txt, closes #2033",False,50,44,6,1.0,1.0,0.35294117647058826,27390,11957,23605,961,2.9402985074626864,54.02817634005941,55.5,89.25555555555556,619.4311962527041,2.9212343239146623,3661.3088221293388,203.40604567385202,0.20647706541756802
1507,bd39cb48050396c0c99212d282b2283428684a05,Simon Willison,2023-03-08 20:25:55+00:00,"Use service-specific image ID for Cloud Run deploys, refs #2036",False,8,4,4,,,,27390,11957,23605,961,2.9402985074626864,54.02817634005941,55.5,89.25555555555556,619.4311962527041,2.9212343239146623,3661.3088221293388,203.40604567385202,0.20647706541756802
1508,25fdbe6b27888b7ccf1284c0304a8eb282dbb428,Simon Willison,2023-03-08 20:33:23+00:00,"use tmpdir instead of isolated_filesystem, refs #2037

Should hopefully get tests passing for #2036 too.",False,11,5,6,0.0,0.0,0.0,27389,11956,23604,961,2.9402985074626864,54.02886606751024,55.5,89.25555555555556,619.4311962527041,2.9212343239146623,3661.3088221293388,203.40604567385202,0.20647706541756802
1509,d97e82df3c8a3f2e97038d7080167be9bb74a68d,Simon Willison,2023-03-22 22:49:39+00:00,"?_extra= support and TableView refactor to table_view

* Implemented ?_extra= option for JSON views, refs #262
* New dependency: asyncinject
* Remove now-obsolete TableView class",False,2678,1593,1085,0.41402714932126694,0.5995475113122172,0.8212669683257918,27897,12199,24031,971,2.948190789473684,53.980307596468165,56.22222222222222,90.42222222222222,630.3261933790831,2.925397171099433,3737.428237558289,207.63490208657146,0.21010873112636094
1510,3feed1f66e2b746f349ee56970a62246a18bb164,Simon Willison,2023-03-22 22:54:35+00:00,Re-applied Black,False,2,1,1,,,,27897,12199,24031,971,2.948190789473684,53.980307596468165,56.22222222222222,90.42222222222222,630.3261933790831,2.925397171099433,3737.428237558289,207.63490208657146,0.21010873112636094
1511,651b78d8e6e0183a29e8cef0862b286ee6b048b7,Simon Willison,2023-03-29 06:07:30+00:00,"Redesign ?_extra=extras a bit, refs #262",False,32,21,11,0.0,1.0,1.0,27907,12201,24041,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1512,848a9a420de9b50a7c862db7fb34d930835bee89,dependabot[bot],2023-03-29 06:08:00+00:00,"Bump furo from 2022.12.7 to 2023.3.27 (#2046)

Bumps [furo](https://github.com/pradyunsg/furo) from 2022.12.7 to 2023.3.27.
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2022.12.07...2023.03.27)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,27907,12201,24041,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1513,d52402447ea5eb5a3f084e4f85a45675d34eb4da,dependabot[bot],2023-03-29 06:09:48+00:00,"Bump sphinx from 6.1.2 to 6.1.3 (#1986)

Bumps [sphinx](https://github.com/sphinx-doc/sphinx) from 6.1.2 to 6.1.3.
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v6.1.2...v6.1.3)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,27907,12201,24041,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1514,bbd5489dbc440c67c69396e7f752584a32d2cfbe,dependabot[bot],2023-03-29 06:11:33+00:00,"Bump blacken-docs from 1.12.1 to 1.13.0 (#1992)

Bumps [blacken-docs](https://github.com/asottile/blacken-docs) from 1.12.1 to 1.13.0.
- [Release notes](https://github.com/asottile/blacken-docs/releases)
- [Changelog](https://github.com/adamchainz/blacken-docs/blob/main/HISTORY.rst)
- [Commits](https://github.com/asottile/blacken-docs/compare/v1.12.1...1.13.0)

---
updated-dependencies:
- dependency-name: blacken-docs
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,27907,12201,24041,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1515,30c88e3570ba3febf232c7ad429d7045ea8a9915,dependabot[bot],2023-03-29 06:12:05+00:00,"Bump black from 22.12.0 to 23.3.0 (#2047)

Bumps [black](https://github.com/psf/black) from 22.12.0 to 23.3.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/22.12.0...23.3.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Simon Willison <swillison@gmail.com>",False,2,1,1,,,,27907,12201,24041,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1516,249fcf8e3e2a90e763f41b080c1b9ec8017f5005,Simon Willison,2023-04-27 03:36:10+00:00,"Add setuptools to dependencies

Refs #2065",False,1,1,0,,,,27908,12201,24042,971,2.948190789473684,53.980307596468165,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1517,0b0c5cd7a94fe3f151a3e10261b5c84ee64f2f18,Simon Willison,2023-04-27 04:20:38+00:00,"Hopeful fix for Python 3.7 httpx failure, refs #2066",False,22,18,4,0.0,1.0,1.0,27922,12203,24054,973,2.9490131578947367,53.991990848988564,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1518,55c526a5373aa41c76a3f052624f92e7add59cc8,Simon Willison,2023-04-27 05:07:35+00:00,"Add pip as a dependency too, for Rye - refs #2065",False,1,1,0,,,,27923,12203,24055,973,2.9490131578947367,53.991990848988564,56.24444444444445,90.4888888888889,630.9324341119809,2.9258247249624043,3745.241286695846,208.0689603719914,0.21031081137066027
1519,2e43a14da195b3a4d4d413b217cdca0239844e26,Simon Willison,2023-05-25 18:35:34+00:00,datasette.utils.check_callable(obj) - refs #2078,False,71,71,0,1.0,1.0,0.8181818181818182,27994,12240,24105,974,2.938009787928222,54.42263859356915,55.09782608695652,88.6086956521739,617.3896808548653,2.8730894048545257,3663.909582466422,203.55053235924564,0.20579656028495505
1520,9584879534ff0556e04e4c420262972884cac87b,Simon Willison,2023-05-25 18:49:40+00:00,"Rename callable.py to check_callable.py, refs #2078",False,2,1,1,,,,27994,12240,24105,974,2.938009787928222,54.42263859356915,55.09782608695652,88.6086956521739,617.3896808548653,2.8730894048545257,3663.909582466422,203.55053235924564,0.20579656028495505
1521,b49fa446d683ddcaf6faf2944dacc0d866bf2d70,Simon Willison,2023-05-25 22:05:58+00:00,"--cors Access-Control-Max-Age: 3600, closes #2079",False,21,20,1,0.3333333333333333,1.0,0.3333333333333333,27997,12243,24108,974,2.938009787928222,54.418008944864994,55.130434782608695,88.67391304347827,617.9556083128621,2.8732996027207838,3667.1110739877336,203.7283929993185,0.205985202770954
1522,dda99fc09fb0b5523948f6d481c6c051c1c7b5de,Simon Willison,2023-05-26 00:18:43+00:00,"New View base class (#2080)

* New View base class, closes #2078
* Use new View subclass for PatternPortfolioView",False,180,170,10,0.4921875,1.0,0.65625,28157,12333,24244,981,2.927360774818402,54.46534865524021,54.86021505376344,88.3763440860215,614.7256757166331,2.8502806090514343,3635.8550654803,201.99194808223882,0.20490855857221096
1523,ede62036180993dbd9d4e5d280fc21c183cda1c3,dependabot[bot],2023-06-29 14:31:54+00:00,"Bump blacken-docs from 1.13.0 to 1.14.0 (#2083)

Bumps [blacken-docs](https://github.com/asottile/blacken-docs) from 1.13.0 to 1.14.0.
- [Changelog](https://github.com/adamchainz/blacken-docs/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/asottile/blacken-docs/compare/1.13.0...1.14.0)

---
updated-dependencies:
- dependency-name: blacken-docs
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,28157,12333,24244,981,2.927360774818402,54.46534865524021,54.86021505376344,88.3763440860215,614.7256757166331,2.8502806090514343,3635.8550654803,201.99194808223882,0.20490855857221096
1524,d45a7213eddd48ea75d1c021377e5a237b095833,Simon Willison,2023-06-29 14:43:01+00:00,"codespell>=2.5.5, also spellcheck README - refs #2089",False,3,2,1,,,,28157,12333,24244,981,2.927360774818402,54.46534865524021,54.86021505376344,88.3763440860215,614.7256757166331,2.8502806090514343,3635.8550654803,201.99194808223882,0.20490855857221096
1525,c39d600aef5c085e891917db04fc97511d2e2259,Simon Willison,2023-06-29 15:05:24+00:00,"Fix all E741 Ambiguous variable name warnings, refs #2090",False,12,7,5,1.0,1.0,0.0,28159,12333,24246,981,2.927360774818402,54.46523457192276,54.86021505376344,88.3763440860215,614.7256757166331,2.8502806090514343,3635.8550654803,201.99194808223882,0.20490855857221096
1526,8cd60fd1d899952f1153460469b3175465f33f80,Simon Willison,2023-06-29 15:24:09+00:00,"Homepage test now just asserts isinstance(x, int) - closes #2092",False,12,5,7,,,,28157,12333,24246,979,2.927360774818402,54.462016328039844,54.75268817204301,88.21505376344086,613.2699267285981,2.8504970093053443,3629.254713118088,201.62526183989377,0.20442330890953264
1527,d7b21a862335d3765247d84e5afe778f83eb69ee,Simon Willison,2023-07-08 16:37:01+00:00,"metadata.yaml now treated as default in docs

Added sphinx-inline-tabs to provide JSON and YAML tabs to show examples.

Refs #1153",False,505,445,60,,,,28163,12333,24252,979,2.927360774818402,54.462016328039844,54.75268817204301,88.21505376344086,613.2699267285981,2.8504970093053443,3629.254713118088,201.62526183989377,0.20442330890953264
1528,3b336d8071fb5707bd006de1d614f701d20246a3,Simon Willison,2023-07-08 16:37:47+00:00,"Utility function for cog for generating YAML/JSON tabs, refs #1153",False,13,13,0,1.0,1.0,1.0,28176,12344,24263,979,2.925806451612903,54.946462962847924,54.170212765957444,87.27659574468085,606.7457785719109,2.8201725730361384,3590.6456204253427,199.48031224585236,0.20224859285730357
1529,0183e1a72d4d93b1d9a9363f4d47fcc0b5d5849c,Simon Willison,2023-07-08 17:27:36+00:00,"Preserve JSON key order in YAML, refs #1153",False,4,2,2,,,,28176,12344,24263,979,2.925806451612903,54.946462962847924,54.170212765957444,87.27659574468085,606.7457785719109,2.8201725730361384,3590.6456204253427,199.48031224585236,0.20224859285730357
1530,c076fb65e07a7957b8a45804dc8d8cb92020f0ec,Simon Willison,2023-07-08 18:00:08+00:00,"Applied sphinx-inline-tabs to remaining examples, refs #1153",False,1171,1019,152,0.0,1.0,0.0,28189,12354,24274,981,2.9266129032258066,54.72153542984812,54.234042553191486,87.36170212765957,606.9657753804829,2.8467683177169887,3591.195612446772,199.510867358154,0.2023219251268276
1531,50a6355c081a79c63625d96d3d350603298da42b,Simon Willison,2023-07-08 18:22:21+00:00,"Workaround to get sphinx-build working again, refs 1153",False,10,6,4,,,,28191,12357,24276,980,2.9266129032258066,54.52602672033607,54.287234042553195,87.41489361702128,607.0892821940408,2.8574066155893294,3591.31911926033,199.51772884779612,0.2023630940646802
1532,2fd871a9063fd0e1bc60ddb11756c6954460dfc0,Simon Willison,2023-07-08 18:40:19+00:00,"Drop support for Python 3.7, refs #2097",False,31,13,18,1.0,0.0,0.0,28188,12356,24274,979,2.925806451612903,54.52602672033607,54.287234042553195,87.41489361702128,607.0892821940408,2.8574066155893294,3591.31911926033,199.51772884779612,0.2023630940646802
1533,3a51ca901427ac93b0ed0638fd1f82fb647a299a,dependabot[bot],2023-07-21 21:19:24+00:00,"Bump black from 23.3.0 to 23.7.0 (#2099)

Bumps [black](https://github.com/psf/black) from 23.3.0 to 23.7.0.
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/23.3.0...23.7.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,28188,12356,24274,979,2.925806451612903,54.52602672033607,54.287234042553195,87.41489361702128,607.0892821940408,2.8574066155893294,3591.31911926033,199.51772884779612,0.2023630940646802
1534,278ac91a4d68da333a6ed74a2c75b3ec9db8bd19,Simon Willison,2023-07-22 18:42:46+00:00,"datasette install -e option, closes #2106",False,19,14,5,1.0,0.0,0.0,28196,12359,24282,979,2.9274193548387095,54.51913544389843,54.319148936170215,87.47872340425532,607.5440005854826,2.8581149768278022,3594.192141879949,199.6773412155527,0.2025146668618275
1535,dc5171eb1b1d9f1d55e367f8a4d93edb55a43351,Simon Willison,2023-07-26 18:28:03+00:00,"Make editable work with -e '.[test]', refs #2106",False,3,1,2,,,,28195,12359,24281,979,2.9274193548387095,54.51923904879156,54.319148936170215,87.47872340425532,607.5440005854826,2.8581149768278022,3594.192141879949,199.6773412155527,0.2025146668618275
1536,18dd88ee4d78fe9d760e9da96028ae06d938a85c,Simon Willison,2023-07-26 18:43:55+00:00,"Refactored DatabaseDownload to database_download, closes #2116",False,87,44,43,0.0,0.0,1.0,28196,12357,24282,979,2.92090395480226,54.521374457691486,54.319148936170215,87.47872340425532,607.5440005854826,2.8581149768278022,3594.192141879949,199.6773412155527,0.2025146668618275
1537,5139c0886a7f6bb94d317ba0665aa6e728716028,dependabot[bot],2023-08-07 16:19:23+00:00,"Bump the python-packages group with 3 updates (#2128)

Bumps the python-packages group with 3 updates: [sphinx](https://github.com/sphinx-doc/sphinx), [furo](https://github.com/pradyunsg/furo) and [blacken-docs](https://github.com/asottile/blacken-docs).

Updates `sphinx` from 6.1.3 to 7.1.2
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v6.1.3...v7.1.2)

Updates `furo` from 2023.3.27 to 2023.7.26
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2023.03.27...2023.07.26)

Updates `blacken-docs` from 1.14.0 to 1.15.0
- [Changelog](https://github.com/adamchainz/blacken-docs/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/asottile/blacken-docs/compare/1.14.0...1.15.0)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-major
  dependency-group: python-packages
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
- dependency-name: blacken-docs
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,6,3,3,,,,28196,12357,24282,979,2.92090395480226,54.521374457691486,54.319148936170215,87.47872340425532,607.5440005854826,2.8581149768278022,3594.192141879949,199.6773412155527,0.2025146668618275
1538,1377a290cd85ba8d3338b1da47c4665ed4c6c625,Simon Willison,2023-08-08 01:47:39+00:00,"New JSON design for query views (#2118)

* Refs #2111, closes #2110
* New Context dataclass/subclass mechanism, refs #2127
* Define QueryContext and extract get_tables() method, refs #2127
* Fix OPTIONS bug by porting DaatbaseView to be a View subclass
* Expose async_view_for_class.view_class for test_routes test
* Error/truncated aruments for renderers, closes #2130",False,691,579,112,0.058823529411764705,0.14705882352941177,0.6676470588235294,28657,12598,24699,1004,2.9558232931726907,54.35533700235417,54.776595744680854,88.27659574468085,614.4299649698833,2.8663396072188916,3650.4562353618385,202.80312418676885,0.20480998832329442
1539,cd57b0f71234273156cb1eba3f9153b9e27ac14d,Simon Willison,2023-08-08 13:45:04+00:00,"Brought back parameter fields, closes #2132",False,35,33,2,0.52,0.52,1.0,28688,12612,24724,1004,2.9590690208667736,54.334567463400155,54.90425531914894,88.54255319148936,616.8607784107559,2.8667161663246343,3667.2301134896384,203.73500630497995,0.20562025947025192
1540,26be9f0445b753fb84c802c356b0791a72269f25,Simon Willison,2023-08-09 15:26:52+00:00,"Refactored canned query code, replaced old QueryView, closes #2114",False,914,343,571,0.9400921658986175,0.7603686635944701,0.0,28460,12516,24510,997,2.9581320450885666,54.35550952634952,54.56382978723404,88.15957446808511,613.064657687703,2.8722296899579542,3650.643307932678,202.81351710737104,0.204354885895901
1541,e34d09c6ec16ff5e7717e112afdad67f7c05a62a,Simon Willison,2023-08-09 19:01:59+00:00,"Don't include columns in query JSON, refs #2136",False,22,14,8,0.0,0.0,0.0,28466,12520,24511,1000,2.9597423510466987,54.36918389610045,54.62765957446808,88.2872340425532,613.8413945147263,2.8646793111824556,3651.91002122644,202.88389006813557,0.20461379817157543
1542,19ab4552e212c9845a59461cc73e82d5ae8c278a,Simon Willison,2023-08-09 19:13:11+00:00,"Release 1.0a3

Closes #2135

Refs #262, #782, #1153, #1970, #2007, #2079, #2106, #2127, #2130",False,2,1,1,,,,28466,12520,24511,1000,2.9597423510466987,54.36918389610045,54.62765957446808,88.2872340425532,613.8413945147263,2.8646793111824556,3651.91002122644,202.88389006813557,0.20461379817157543
1543,4a42476bb7ce4c5ed941f944115dedd9bce34656,Simon Willison,2023-08-09 22:04:16+00:00,"datasette plugins --requirements, closes #2133",False,48,42,6,1.0,1.0,0.0,28477,12528,24521,1001,2.9621578099838968,54.36497291667966,54.648936170212764,88.31914893617021,614.1077789572452,2.864609076342691,3652.8510332585474,202.9361685143638,0.20470259298574836
1544,a3593c901580ea50854c3e0774b0ba0126e8a76f,Simon Willison,2023-08-10 00:32:07+00:00,"on_success_message_sql, closes #2138",False,103,85,18,0.4897959183673469,0.7142857142857143,0.7142857142857143,28535,12552,24570,1003,2.9638263665594855,54.33843467395221,54.744680851063826,88.46808510638297,615.3486987982684,2.864115913526063,3657.8430430236776,203.21350239020435,0.20511623293275613
1545,4535568f2ce907af646304d0ebce2500ebd55677,Simon Willison,2023-08-11 05:16:19+00:00,"Fixed display of database color

Closes #2139, closes #2119",False,57,39,18,0.11764705882352941,1.0,1.0,28556,12566,24588,1004,2.9622489959839355,54.330124426380415,54.787234042553195,88.53191489361703,615.9787082759063,2.864054140193013,3660.696996900427,203.37205538335706,0.20532623609196882
1546,01e0558825b8f7ec17d3b691aa072daf122fcc74,Simon Willison,2023-08-22 17:10:01+00:00,"Merge pull request from GHSA-7ch3-7pp7-7cpq

* API explorer requires view-instance permission

* Check database/table permissions on /-/api page

* Release notes for 1.0a4

Refs #2119, #2133, #2138, #2140

Refs https://github.com/simonw/datasette/security/advisories/GHSA-7ch3-7pp7-7cpq",False,106,99,7,0.0,0.25,0.2857142857142857,28632,12590,24657,1010,2.965489566613162,54.311191774097544,54.88297872340426,88.68085106382979,617.3093068235391,2.8713144911950805,3682.3760339106548,204.57644632836974,0.20576976894117968
1547,17ec309e14f9c2e90035ba33f2f38ecc5afba2fa,Alex Garcia,2023-08-23 01:26:11+00:00,"Start datasette.json, re-add --config, rm settings.json

The first step in defining the new `datasette.json/yaml` configuration mechanism.

Refs #2093, #2143, #493",False,148,55,93,0.6341463414634146,0.6341463414634146,0.6341463414634146,28585,12555,24615,1007,2.962962962962963,54.35227468214648,54.755319148936174,88.51063829787235,616.2173957977449,2.8711972251651665,3685.9333376764685,204.77407431535931,0.20540579859924823
1548,2ce7872e3ba8d07248c194ef554bbdc1df510f32,Simon Willison,2023-08-23 02:33:26+00:00,"-c shortcut for --config - refs #2143, #2149",False,25,25,0,0.0,1.0,0.0,28610,12564,24638,1007,2.9621882542236526,54.33715507825956,54.840425531914896,88.63829787234043,617.2823675140577,2.8709159240195037,3689.6961717956997,204.98312065531664,0.20576078917135252
1549,527cec66b0403e689c8fb71fc8b381a1d7a46516,Simon Willison,2023-08-24 18:21:15+00:00,"utils.pairs_to_nested_config(), refs #2156, #2143",False,100,100,0,0.5238095238095238,1.0,1.0,28710,12597,24712,1013,2.961507618283881,54.33870595795007,54.92553191489362,88.7872340425532,618.625654755621,2.870768010367586,3702.3262821654876,205.68479345363824,0.20620855158520698
1550,d9aad1fd042a25d226f2ace1f7827b4602761038,Simon Willison,2023-08-28 20:06:14+00:00,"-s/--setting x y gets merged into datasette.yml, refs #2143, #2156

This change updates the `-s/--setting` option to `datasette serve` to allow it to be used to set arbitrarily complex nested settings in a way that is compatible with the new `-c datasette.yml` work happening in:
- #2143

It will enable things like this:
```
datasette data.db --setting plugins.datasette-ripgrep.path ""/home/simon/code""
```
For the moment though it just affects [settings](https://docs.datasette.io/en/1.0a4/settings.html) - so you can do this:
```
datasette data.db --setting settings.sql_time_limit_ms 3500
```
I've also implemented a backwards compatibility mechanism, so if you use it this way (the old way):
```
datasette data.db --setting sql_time_limit_ms 3500
```
It will notice that the setting you passed is one of Datasette's core settings, and will treat that as if you said `settings.sql_time_limit_ms` instead.",False,93,46,47,0.5,0.5,0.5,28709,12594,24708,1017,2.9646869983948636,54.347179481209345,54.90425531914894,88.75531914893617,618.3602817969708,2.871070906348674,3705.6671960202525,205.87039977890294,0.20612009393232358
1551,d8351b08edb08484f5505f509c6101c56a8bba4a,Simon Willison,2023-08-28 20:15:38+00:00,"datasette --get --actor 'JSON' option, closes #2153

Refs #2154",False,24,21,3,0.0,0.2,0.2,28718,12598,24717,1017,2.965489566613162,54.34349066665505,54.90425531914894,88.75531914893617,618.3602817969708,2.871070906348674,3705.6671960202525,205.87039977890294,0.20612009393232358
1552,2e2825869fc2655b5fcadc743f6f9dec7a49bc65,Simon Willison,2023-08-28 20:18:24+00:00,"Test for --get --actor, refs #2153",False,25,24,1,0.0,1.0,1.0,28741,12604,24738,1017,2.963913392141139,54.30299819509246,54.9468085106383,88.81914893617021,618.7592047052636,2.8706245442001834,3706.276798691955,205.90426659399753,0.20625306823508788
1553,d28f12092dd795f35e9500154711d542f8931676,dependabot[bot],2023-08-29 00:38:32+00:00,"Bump sphinx, furo, blacken-docs dependencies (#2160)

* Bump the python-packages group with 3 updates

Bumps the python-packages group with 3 updates: [sphinx](https://github.com/sphinx-doc/sphinx), [furo](https://github.com/pradyunsg/furo) and [blacken-docs](https://github.com/asottile/blacken-docs).


Updates `sphinx` from 7.1.2 to 7.2.4
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v7.1.2...v7.2.4)

Updates `furo` from 2023.7.26 to 2023.8.19
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2023.07.26...2023.08.19)

Updates `blacken-docs` from 1.15.0 to 1.16.0
- [Changelog](https://github.com/adamchainz/blacken-docs/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/asottile/blacken-docs/compare/1.15.0...1.16.0)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
- dependency-name: blacken-docs
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: Simon Willison <swillison@gmail.com>",False,18,12,6,,,,28741,12604,24738,1017,2.963913392141139,54.30299819509246,54.9468085106383,88.81914893617021,618.7592047052636,2.8706245442001834,3706.276798691955,205.90426659399753,0.20625306823508788
1554,92b8bf38c02465f624ce3f48dcabb0b100c4645d,Alex Garcia,2023-08-29 03:24:23+00:00,"Add new `--internal internal.db` option, deprecate legacy `_internal` database

Refs:
- #2157 
---------

Co-authored-by: Simon Willison <swillison@gmail.com>",False,198,108,90,1.0,0.0,0.0,28748,12601,24744,1013,2.957566052842274,54.4600759540346,54.755319148936174,88.55319148936171,616.8590491089867,2.8589958025321005,3688.157675969428,204.89764866496822,0.2056196830363289
1555,50da908213a0fc405ecd7a40090dfea7a2e7395c,Simon Willison,2023-08-29 16:32:34+00:00,"Cascade for restricted token view-table/view-database/view-instance operations (#2154)

Closes #2102

* Permission is now a dataclass, not a namedtuple - refs https://github.com/simonw/datasette/pull/2154/#discussion_r1308087800
* datasette.get_permission() method",False,477,427,50,0.18274111675126903,0.868020304568528,0.6294416243654822,29115,12705,25082,1046,2.9745222929936306,54.34576152438916,55.191489361702125,89.31914893617021,623.2383204282974,2.8561489987523587,3726.54877368712,207.0304874270622,0.20774610680943248
1556,bb12229794655abaa21a9aa691d1f85d34b6c45a,Simon Willison,2023-08-29 17:01:28+00:00,"Rename core_ to catalog_, closes #2163",False,44,24,20,1.0,1.0,1.0,29117,12705,25084,1046,2.9745222929936306,54.34576152438916,55.191489361702125,89.31914893617021,623.2383204282974,2.8561489987523587,3726.54877368712,207.0304874270622,0.20774610680943248
1557,30b28c8367a9c6870386ea10a202705b40862457,Simon Willison,2023-08-29 17:17:54+00:00,"Release 1.0a5

Refs #2093, #2102, #2153, #2156, #2157",False,13,12,1,,,,29117,12705,25084,1046,2.9745222929936306,54.34576152438916,55.191489361702125,89.31914893617021,623.2383204282974,2.8561489987523587,3726.54877368712,207.0304874270622,0.20774610680943248
1558,6bfe104d47b888c70bfb7781f8f48ff11452b2b5,Simon Willison,2023-08-30 22:12:24+00:00,"DATASETTE_LOAD_PLUGINS environment variable for loading specific plugins

Closes #2164

* Load only specified plugins for DATASETTE_LOAD_PLUGINS=datasette-one,datasette-two
* Load no plugins if DATASETTE_LOAD_PLUGINS=''
* Automated tests in a Bash script for DATASETTE_LOAD_PLUGINS",False,110,109,1,,,,29138,12719,25100,1048,2.9745222929936306,54.26198777637091,55.297872340425535,89.44680851063829,623.8213789352219,2.8845177930785995,3729.0160063819976,207.167555910111,0.207940459645074
1559,98ffad9aed15a300e61fb712fa12f177844739b3,Simon Willison,2023-08-31 22:46:26+00:00,"execute-sql now implies can view instance/database, closes #2169",False,5,5,0,0.0,1.0,1.0,29143,12719,25105,1049,2.9745222929936306,54.262446901405674,55.297872340425535,89.44680851063829,623.8213789352219,2.8845177930785995,3729.0160063819976,207.167555910111,0.207940459645074
1560,05707aa16b5c6c39fbe48b3176b85a8ffe493938,Simon Willison,2023-09-06 02:50:09+00:00,"click-default-group>=1.2.3 (#2173)

* click-default-group>=1.2.3

Now available as a wheel:
- https://github.com/click-contrib/click-default-group/issues/21

* Fix for blacken-docs",False,9,7,2,,,,29143,12719,25105,1049,2.9745222929936306,54.262446901405674,55.297872340425535,89.44680851063829,623.8213789352219,2.8845177930785995,3729.0160063819976,207.167555910111,0.207940459645074
1561,e4abae3fd7a828625d00c35c316852ffbaa5ef2f,dependabot[bot],2023-09-06 16:34:31+00:00,"Bump Sphinx (#2166)

Bumps the python-packages group with 1 update: [sphinx](https://github.com/sphinx-doc/sphinx).

- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v7.2.4...v7.2.5)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-patch
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,29143,12719,25105,1049,2.9745222929936306,54.262446901405674,55.297872340425535,89.44680851063829,623.8213789352219,2.8845177930785995,3729.0160063819976,207.167555910111,0.207940459645074
1562,2200abfa17f72b1cb741a36b44dc40a04b8ea001,Simon Willison,2023-09-07 22:49:50+00:00,"Fix for flaky test_hidden_sqlite_stat1_table, closes #2179",False,5,4,1,1.0,1.0,1.0,29146,12719,25108,1049,2.9745222929936306,54.262328254597485,55.297872340425535,89.44680851063829,623.8213789352219,2.8845177930785995,3729.0160063819976,207.167555910111,0.207940459645074
1563,dbfad6d2201bc65a0c73e699a10c479c1e199e11,Simon Willison,2023-09-07 22:51:09+00:00,"Foreign key label expanding respects table permissions, closes #2178",False,66,63,3,0.0,0.8823529411764706,0.8823529411764706,29206,12745,25161,1055,2.9737470167064437,54.251677359459606,55.38297872340426,89.65957446808511,625.7546813166832,2.885283122540619,3743.297210910256,207.96095616168094,0.20858489377222775
1564,c26370485a4fd4bf130da051be9163d92c57f24f,Simon Willison,2023-09-07 23:28:30+00:00,"Label expand permission check respects cascade, closes #2178",False,74,57,17,,0.0,0.0,29246,12749,25201,1061,2.9737470167064437,54.25742634798346,55.38297872340426,89.65957446808511,625.7546813166832,2.885283122540619,3743.297210910256,207.96095616168094,0.20858489377222775
1565,b645174271aa08e8ca83b27ff83ce078ecd15da2,Simon Willison,2023-09-08 04:23:59+00:00,"actors_from_ids plugin hook and datasette.actors_from_ids() method (#2181)

* Prototype of actors_from_ids plugin hook, refs #2180
* datasette-remote-actors example plugin, refs #2180",False,155,155,0,0.359375,1.0,0.9375,29323,12795,25265,1063,2.9706349206349207,54.24440443533233,55.46808510638298,89.7872340425532,626.9959046568457,2.8851156330976377,3750.1601739664893,208.34223188702722,0.20899863488561524
1566,a4c96d01b27ce7cd06662a024da3547132a7c412,Simon Willison,2023-09-08 04:44:08+00:00,"Release 1.0a6

Refs #1765, #2164, #2169, #2175, #2178, #2181",False,14,13,1,,,,29323,12795,25265,1063,2.9706349206349207,54.24440443533233,55.46808510638298,89.7872340425532,626.9959046568457,2.8851156330976377,3750.1601739664893,208.34223188702722,0.20899863488561524
1567,b2ec8717c3619260a1b535eea20e618bf95aa30b,Alex Garcia,2023-09-13 21:06:25+00:00,"Plugin configuration now lives in datasette.yaml/json

* Checkpoint, moving top-level plugin config to datasette.json
* Support database-level and table-level plugin configuration in datasette.yaml

Refs #2093",False,271,217,54,0.08695652173913043,0.5217391304347826,0.5869565217391305,29397,12819,25324,1062,2.980997624703088,54.220002597737434,55.797872340425535,90.38297872340425,632.5660957807821,2.88509590182611,3792.967718191398,210.72042878841103,0.21085536526026075
1568,852f5014853943fa27f43ddaa2d442545b3259fb,Simon Willison,2023-09-16 16:35:18+00:00,"Switch from pkg_resources to importlib.metadata in app.py, refs #2057",False,28,25,3,1.0,1.0,0.875,29419,12835,25340,1062,2.9802215189873418,54.21158611136574,55.840425531914896,90.44680851063829,633.1783931758457,2.8850517942848675,3796.0472781024637,210.89151545013695,0.2110594643919486
1569,f56e043747bde4faa1d78588636df6c0dadebc65,Simon Willison,2023-09-18 17:39:11+00:00,"test_facet_against_in_memory_database, refs #2189

This is meant to illustrate a crashing bug but it does not trigger it.",False,47,47,0,0.0,1.0,1.0,29466,12848,25385,1062,2.9802371541501977,54.187988065144275,55.91489361702128,90.57446808510639,634.0805588825218,2.8910852289353235,3800.179859254333,211.12110329190742,0.21136018629417397
1570,6ed7908580fa2ba9297c3225d85c56f8b08b9937,Simon Willison,2023-09-18 17:44:13+00:00,"Simplified test for #2189

This now executes two facets, in the hope that parallel facet execution
would illustrate the bug - but it did not illustrate the bug.",False,51,12,39,1.0,0.0,0.0,29439,12848,25358,1062,2.9802371541501977,54.192082294668445,55.8936170212766,90.54255319148936,633.8467669334768,2.891127444403071,3799.8255449150506,211.10141916194732,0.21128225564449232
1571,b0e5d8afa308759f4ee9f3ecdf61101dffc4a037,Simon Willison,2023-09-20 22:10:55+00:00,"Stop using parallel SQL queries for tables

Refs:
- #2189",False,17,7,10,0.3333333333333333,0.3333333333333333,0.3333333333333333,29435,12845,25355,1064,2.981012658227848,54.192082294668445,55.8936170212766,90.54255319148936,633.8467669334768,2.891127444403071,3799.8255449150506,211.10141916194732,0.21128225564449232
1572,6763572948ffd047a89a3bbf7c300e91f51ae98f,dependabot[bot],2023-09-20 22:11:24+00:00,"Bump sphinx, furo, black

Bumps the python-packages group with 3 updates: [sphinx](https://github.com/sphinx-doc/sphinx), [furo](https://github.com/pradyunsg/furo) and [black](https://github.com/psf/black).


Updates `sphinx` from 7.2.5 to 7.2.6
- [Release notes](https://github.com/sphinx-doc/sphinx/releases)
- [Changelog](https://github.com/sphinx-doc/sphinx/blob/master/CHANGES.rst)
- [Commits](https://github.com/sphinx-doc/sphinx/compare/v7.2.5...v7.2.6)

Updates `furo` from 2023.8.19 to 2023.9.10
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2023.08.19...2023.09.10)

Updates `black` from 23.7.0 to 23.9.1
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/23.7.0...23.9.1)

---
updated-dependencies:
- dependency-name: sphinx
  dependency-type: direct:development
  update-type: version-update:semver-patch
  dependency-group: python-packages
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,6,3,3,,,,29435,12845,25355,1064,2.981012658227848,54.192082294668445,55.8936170212766,90.54255319148936,633.8467669334768,2.891127444403071,3799.8255449150506,211.10141916194732,0.21128225564449232
1573,10bc80547330e826a749ce710da21ae29f7e6048,Simon Willison,2023-09-21 19:13:16+00:00,"Finish removing pkg_resources, closes #2057",False,32,16,16,,,,29435,12845,25355,1064,2.981012658227848,54.17052523139351,55.96808510638298,90.67021276595744,634.515983708106,2.899283472771865,3803.3341060282764,211.29633922379318,0.21150532790270202
1574,b0d0a0e5de8bb5b9b6c253e8af451a532266bcf1,Simon Willison,2023-09-21 19:42:15+00:00,"importlib_resources for Python < 3.9, refs #2057",False,16,11,5,,,,29441,12848,25359,1064,2.981012658227848,54.15566742654036,56.0,90.70212765957447,634.7210888265347,2.904686059338407,3805.046248108815,211.3914582282675,0.21157369627551162
1575,b7cf0200e21796a6ff653c6f94a4ee5fcfde0346,Simon Willison,2023-09-21 20:22:40+00:00,"Swap order of config and metadata options, refs #2194",False,2,1,1,,,,29441,12848,25359,1064,2.981012658227848,54.15566742654036,56.0,90.70212765957447,634.7210888265347,2.904686059338407,3805.046248108815,211.3914582282675,0.21157369627551162
1576,2da1a6acec915b81a16127008fd739c7d6075681,Simon Willison,2023-09-21 20:26:13+00:00,"Use importlib_metadata for Python 3.8, refs #2057",False,11,7,4,,,,29444,12850,25362,1064,2.9818037974683542,54.144539165919475,56.03191489361702,90.73404255319149,634.9301741903563,2.910071080088028,3806.985445499087,211.49919141661596,0.21164339139678545
1577,e4f868801a6633400045f59584cfe650961c3fa6,Simon Willison,2023-09-21 21:58:39+00:00,"Use importlib_metadata for 3.9 as well, refs #2057",False,6,4,2,,,,29446,12852,25364,1064,2.9818037974683542,54.134632732331475,56.04255319148936,90.76595744680851,635.1040662705992,2.911960777736404,3808.2815441056423,211.57119689475795,0.2117013554235331
1578,836b1587f08800658c63679d850f0149003c5311,Simon Willison,2023-09-21 22:27:27+00:00,"Release notes for 1.0a7

Refs #2189",False,9,8,1,,,,29446,12852,25364,1064,2.9818037974683542,54.134632732331475,56.04255319148936,90.76595744680851,635.1040662705992,2.911960777736404,3808.2815441056423,211.57119689475795,0.2117013554235331
1579,35deaabcb105903790d18710a26e77545f6852ce,Alex Garcia,2023-10-12 16:16:37+00:00,"Move non-metadata configuration from metadata.yaml to datasette.yaml

* Allow and permission blocks moved to datasette.yaml
* Documentation updates, initial framework for configuration reference",False,1088,595,493,0.0,0.6666666666666666,0.6666666666666666,29480,12874,25393,1074,2.992094861660079,54.04595808372814,56.340425531914896,91.23404255319149,639.2846804906102,2.912663577007154,3833.571471766127,212.976192875896,0.2130948934968701
1580,3d6d1e3050b8e50fac40ec090672d8a95fa8e06c,Alex Garcia,2023-10-12 16:20:50+00:00,"Raise an exception if a ""plugins"" block exists in metadata.json",False,34,31,3,0.9,0.3,0.9,29508,12884,25415,1074,2.9928966061562745,54.04486729567339,56.4468085106383,91.42553191489361,641.0798202521402,2.9126564370838217,3854.0396456101544,214.1133136450086,0.2136932734173801
1581,452a587e236ef642cbc6ae345b58767ea8420cb5,Cameron Yick,2023-10-13 00:00:27+00:00,"JavaScript Plugin API, providing custom panels and  column menu items

Thanks, Cameron Yick.

https://github.com/simonw/datasette/pull/2052

Co-authored-by: Simon Willison <swillison@gmail.com>",False,418,399,19,0.8092783505154639,0.9536082474226805,1.0,29529,12892,25426,1080,2.9921135646687698,54.52860553466628,55.88421052631579,90.49473684210527,634.3816630652982,2.887260053535571,3813.4958329590063,211.8608796088337,0.21146055435509947
1582,89c8ca0f3ff51fcbf5f710c529bc7a3552da0731,Simon Willison,2023-12-19 18:32:55+00:00,"Fix for round_trip_load() YAML error, refs #2219",False,8,3,5,,,,29527,12892,25426,1078,2.9921135646687698,54.45874276747537,55.88421052631579,90.49473684210527,634.3816630652982,2.887260053535571,3813.4958329590063,211.8608796088337,0.21146055435509947
1583,4284c74bc133ab494bf4b6dcd4a20b97b05ebb83,Simon Willison,2023-12-19 18:51:03+00:00,"db.execute_isolated_fn() method (#2220)

Closes #2218",False,145,133,12,0.8648648648648649,0.8513513513513513,0.9459459459459459,29631,12952,25501,1092,2.9890023566378634,54.448791620575484,55.96842105263158,90.61052631578947,635.2944294830753,2.8917326054358776,3818.8356323930834,212.15753513294914,0.21176480982769183
1584,978249beda1a3e7185f61000b0dd57018541c511,Simon Willison,2023-12-22 23:07:42+00:00,"Removed rogue print(""max_csv_mb"")

Found this while working on #2214",False,1,0,1,1.0,1.0,0.0,29630,12951,25500,1092,2.9890023566378634,54.4492014202509,55.96842105263158,90.61052631578947,635.2944294830753,2.8917326054358776,3818.8356323930834,212.15753513294914,0.21176480982769183
1585,872dae1e1a1511e2edfb9d7ddf6ea5096c11d5c3,Simon Willison,2023-12-22 23:08:11+00:00,"Fix for CSV labels=on missing foreign key bug, closes #2214",False,49,43,6,0.0,0.9375,1.0,29667,12963,25534,1093,2.987441130298273,54.43124971965889,56.02105263157895,90.69473684210526,635.9499459061724,2.8916005371490843,3821.3290878058424,212.2960604336579,0.2119833153020575
1586,c7a4706bcc0d6736533b91437e54a8af9226a10a,Simon Willison,2024-01-05 22:33:23+00:00,"jinja2_environment_from_request() plugin hook

Closes #2225",False,153,128,25,0.2653061224489796,0.9387755102040817,0.6326530612244898,29728,13004,25585,1094,2.984338292873923,54.416327610447524,56.14736842105263,90.94736842105263,638.292640260683,2.898056517722328,3857.656958272213,214.31427545956743,0.2127642134202277
1587,1fc76fee6268c21003c0fe730cc8e93210ce6bb8,Simon Willison,2024-01-06 00:59:25+00:00,"1.0a8.dev1 version number

Not going to release this to PyPI but I will build my own wheel of it",False,2,1,1,,,,29728,13004,25585,1094,2.984338292873923,54.416327610447524,56.14736842105263,90.94736842105263,638.292640260683,2.898056517722328,3857.656958272213,214.31427545956743,0.2127642134202277
1588,0b2c6a7ebd4fd540d9bdfb169c621452d280e608,Simon Willison,2024-01-08 21:12:57+00:00,"Fix for ?_extra=columns bug, closes #2230

Also refs #262 - started a test suite for extras.",False,26,25,1,1.0,1.0,0.0,29752,13011,25607,1094,2.983568075117371,54.40711185198538,56.23157894736842,91.07368421052631,639.4102989863336,2.8971360991881348,3861.8936959200305,214.54964977333503,0.21313676632877795
1589,2ff4d4a60a348c143f79d63c48c329ffd0c1f02f,Simon Willison,2024-01-08 21:14:25+00:00,"Test for ?_extra=count, refs #262",False,10,10,0,,,,29762,13011,25617,1094,2.983568075117371,54.406796745922904,56.23157894736842,91.07368421052631,639.4102989863336,2.8971360991881348,3861.8936959200305,214.54964977333503,0.21313676632877795
1590,7506a89be0d1c97632bed47635eb90f92815d6c7,Simon Willison,2024-01-10 21:04:34+00:00,"Docs on datasette.client for tests, closes #1830

Also covers ds.client.actor_cookie() helper",False,69,67,2,1.0,1.0,1.0,29799,13030,25633,1101,2.978922716627635,54.40915192593842,56.305263157894736,91.16842105263157,640.0342392699791,2.902399257082872,3864.5226100434907,214.69570055797172,0.21334474642332643
1591,a25bf6bea789c409580386f77b7440ff525d09b2,Simon Willison,2024-01-10 22:12:20+00:00,"fmt: off to fix problem with Black, closes #2231",False,8,1,7,,,,29793,13030,25633,1102,2.978922716627635,54.41510448346126,56.305263157894736,91.16842105263157,640.0342392699791,2.902399257082872,3864.5226100434907,214.69570055797172,0.21334474642332643
1592,7a5adb592ae6674a2058639c66e85eb1b49448fb,Simon Willison,2024-01-12 22:12:14+00:00,"Docs on temporary plugins in fixtures, closes #2234",False,50,50,0,1.0,1.0,1.0,29827,13052,25656,1107,2.975837879968823,54.74584100467286,55.78125,90.28125,633.5287761005452,2.8825825981549253,3824.428726345166,212.46826257473148,0.21117625870018183
1593,c3caf36af7db79336a5c8e697b2374e90e34ff5d,Simon Willison,2024-01-31 03:54:03+00:00,"Template slot family of plugin hooks - top_homepage() and others

New plugin hooks:

top_homepage
top_database
top_table
top_row
top_query
top_canned_query

New datasette.utils.make_slot_function()

Closes #1191",False,331,324,7,0.7394957983193278,0.8067226890756303,0.6890756302521008,30015,13166,25799,1107,2.9470452801227935,54.695368802405994,56.09375,90.75,638.0919726833349,2.881916446693364,3852.066409685159,214.0036894269533,0.21269732422777834
1594,5c64af69363100a3c35e6b131efe1f741bbde661,Simon Willison,2024-01-31 03:55:26+00:00,"Upgrade to latest Black, closes #2239",False,159,93,66,0.0,0.3,0.3,30042,13166,25821,1107,2.9470452801227935,54.69427575389676,56.09375,90.75,638.0919726833349,2.881916446693364,3852.066409685159,214.0036894269533,0.21269732422777834
1595,04e8835297760416b50cc669ac6f45a7fd68170b,gerrymanoim,2024-01-31 03:56:32+00:00,Remove deprecated/unused args from setup.py (#2222),False,2,0,2,,,,30040,13166,25819,1107,2.9470452801227935,54.69427575389676,56.09375,90.75,638.0919726833349,2.881916446693364,3852.066409685159,214.0036894269533,0.21269732422777834
1596,890615b3f29dcf82a792f1a145b02dba784a5b63,dependabot[bot],2024-01-31 18:53:57+00:00,"Bump the python-packages group with 1 update (#2241)

Bumps the python-packages group with 1 update: [furo](https://github.com/pradyunsg/furo).


Updates `furo` from 2023.9.10 to 2024.1.29
- [Release notes](https://github.com/pradyunsg/furo/releases)
- [Changelog](https://github.com/pradyunsg/furo/blob/main/docs/changelog.md)
- [Commits](https://github.com/pradyunsg/furo/compare/2023.09.10...2024.01.29)

---
updated-dependencies:
- dependency-name: furo
  dependency-type: direct:development
  update-type: version-update:semver-major
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,30040,13166,25819,1107,2.9470452801227935,54.69427575389676,56.09375,90.75,638.0919726833349,2.881916446693364,3852.066409685159,214.0036894269533,0.21269732422777834
1597,bcc4f6bf1f14be6ef693f0b3fc9aa8a027977920,Simon Willison,2024-01-31 23:21:40+00:00,"track_event() mechanism for analytics and plugins

* Closes #2240
* Documentation for event plugin hooks, refs #2240
* Include example track_event plugin in docs, refs #2240
* Tests for track_event() and register_events() hooks, refs #2240
* Initial documentation for core events, refs #2240
* Internals documentation for datasette.track_event()",False,624,614,10,0.17989417989417988,0.5555555555555556,0.6984126984126984,30500,13419,26094,1125,2.923076923076923,55.012431038857706,56.44329896907217,91.34020618556701,645.4010522917321,2.859306744700725,3891.446499918605,216.19147221770032,0.215133684097244
1598,b466749e88b2ffbd925b6b3e777c8527ebc54e78,Simon Willison,2024-02-01 04:03:19+00:00,"Filled out docs/configuration.rst, closes #2246",False,467,294,173,0.0,1.0,0.0,30502,13419,26096,1125,2.923076923076923,55.00970885648866,56.44329896907217,91.34020618556701,645.4010522917321,2.859306744700725,3891.446499918605,216.19147221770032,0.215133684097244
1599,d4bc2b2dfc728017c8f669c1714f20b89655557c,Simon Willison,2024-02-01 22:44:16+00:00,"Remove fail_if_plugins_in_metadata, part of #2248",False,34,3,31,0.1,0.7,0.1,30474,13409,26074,1125,2.9222054380664653,55.00981288509089,56.34020618556701,91.15463917525773,643.6577716142317,2.8593000525369145,3871.5765776304593,215.08758764613668,0.2145525905380772
1600,be4f02335fb35d40a763d07b2d4e880b90083e53,Simon Willison,2024-02-01 23:33:33+00:00,"Treat plugins in metadata as if they were in config, closes #2248",False,97,97,0,0.918918918918919,0.5135135135135135,0.2972972972972973,30571,13446,26151,1134,2.920814479638009,55.00981288509089,56.49484536082474,91.45360824742268,646.4907630595819,2.85950529763466,3898.6655717995154,216.5925317666398,0.21549692101986062
1601,5ea7098e4da5fe8576f6452dbfac86e6aedba397,Simon Willison,2024-02-04 18:15:21+00:00,Fixed an unnecessary f-string,False,2,1,1,,,,30571,13446,26151,1134,2.920814479638009,55.00981288509089,56.49484536082474,91.45360824742268,646.4907630595819,2.85950529763466,3898.6655717995154,216.5925317666398,0.21549692101986062
1602,1e901aa690211db36f02cc1b25246d0f56cd8720,Simon Willison,2024-02-06 20:33:46+00:00,"/-/config page, closes #2254",False,107,84,23,1.0,0.6,1.0,30623,13462,26190,1135,2.917921686746988,55.01244790222077,56.50515463917526,91.47422680412372,646.7054609494838,2.8593203271239336,3902.140249141631,216.78556939675732,0.2155684869831613
1603,5a63ecc5577d070f28bf5daa34aaaf3dadfd2e4d,Simon Willison,2024-02-06 23:03:19+00:00,"Rename metadata= to table_config= in facet code, refs #2247",False,47,23,24,1.0,1.0,0.0,30622,13459,26189,1135,2.917921686746988,55.01368344443959,56.50515463917526,91.47422680412372,646.7054609494838,2.8593203271239336,3902.140249141631,216.78556939675732,0.2155684869831613
1604,69c6e953231078ab18ba0807e5fe2a4e20e84093,Simon Willison,2024-02-07 01:27:20+00:00,Fixed a bunch of unused imports spotted with ruff,False,35,9,26,,,,30604,13445,26172,1135,2.917921686746988,55.046824757279836,56.50515463917526,91.47422680412372,646.7054609494838,2.8593203271239336,3902.140249141631,216.78556939675732,0.2155684869831613
1605,f0491038523e000b97a18d2e9a23faee62208083,Simon Willison,2024-02-07 01:33:18+00:00,"datasette.table_metadata() is now await datasette.table_config(), refs #2247",False,14,7,7,,,,30604,13445,26172,1135,2.917921686746988,55.046824757279836,56.50515463917526,91.47422680412372,646.7054609494838,2.8593203271239336,3902.140249141631,216.78556939675732,0.2155684869831613
1606,52a1dac5d2bac7e106c8d6ce8e0c6f1dc0141a7e,Simon Willison,2024-02-07 05:00:55+00:00,"Test proving $env works for datasette.yml, closes #2255",False,16,12,4,1.0,1.0,1.0,30612,13451,26178,1135,2.9164785553047405,55.046824757279836,56.52577319587629,91.50515463917526,647.0108354598505,2.8592976413101785,3903.8301957160165,216.87945531755653,0.21567027848661685
1607,60c6692f6802dfae6a433f648f287be30ef52325,Simon Willison,2024-02-07 05:57:09+00:00,"table_config instead of table_metadata (#2257)

Table configuration that was incorrectly placed in metadata is now treated as if it was in config.

New await datasette.table_config() method.

Closes #2247",False,205,175,30,0.4375,0.4375,0.75,30757,13481,26312,1140,2.918918918918919,55.045069842661796,56.628865979381445,91.65979381443299,648.4654494557416,2.858756701066904,3914.877781605763,217.49321008920916,0.21615514981858053
1608,9ac9f0152f1d3396d01ceddfcaf07fd1cf3f7168,Simon Willison,2024-02-07 06:18:38+00:00,"Migrate allow from metadata to config if necessary, closes #2249",False,35,20,15,0.3333333333333333,0.3333333333333333,0.3333333333333333,30762,13489,26316,1140,2.9204204204204203,55.039837150710724,56.628865979381445,91.65979381443299,648.4654494557416,2.858756701066904,3914.877781605763,217.49321008920916,0.21615514981858053
1609,9989f257094daaf26e0cb0cebe31f17f19d4cad2,Simon Willison,2024-02-07 16:34:05+00:00,"Release 1.0a8

Refs Refs #2052, #2156, #2243, #2247, #2249, #2252, #2254, #2258",False,2,1,1,,,,30762,13489,26316,1140,2.9204204204204203,55.039837150710724,56.628865979381445,91.65979381443299,648.4654494557416,2.858756701066904,3914.877781605763,217.49321008920916,0.21615514981858053
1610,900d15bcb81c90d26cfebc3fe463c4b0465832c2,Simon Willison,2024-02-08 21:36:17+00:00,"alter table support for /db/-/create API, refs #2101",False,182,174,8,0.02912621359223301,0.7281553398058253,1.0,30916,13544,26438,1146,2.9280898876404495,54.99494220392059,56.91752577319588,92.23711340206185,653.7182092811735,2.8663244137892563,3971.8816206176493,220.66009003431392,0.21790606976039117
1611,b5ccc4d60844a24fdf91c3f317d8cda4a285a58d,Simon Willison,2024-02-08 21:36:17+00:00,Test for Permission denied - need alter-table,False,2,1,1,,,,30916,13544,26438,1145,2.9280898876404495,54.994011125057206,56.91752577319588,92.23711340206185,653.7182092811735,2.8663244137892563,3971.8816206176493,220.66009003431392,0.21790606976039117
1612,528d89d1a3d6ff85047a7eef9a7623efdd2fb19f,Simon Willison,2024-02-08 21:36:17+00:00,"alter: true support for /-/insert and /-/upsert, refs #2101",False,102,91,11,0.0,0.3469387755102041,0.40816326530612246,30992,13572,26507,1150,2.93188622754491,54.977859725144796,57.175257731958766,92.68041237113403,657.9794250644248,2.8722185675528156,4023.83568074303,223.54642670794618,0.21932647502147498
1613,4e944c29e4a208f173f15ac2df6253ff90f6466f,Simon Willison,2024-02-08 21:36:17+00:00,Corrected path used in test_update_row_check_permission,False,2,1,1,,,,30992,13572,26507,1150,2.93188622754491,54.977859725144796,57.175257731958766,92.68041237113403,657.9794250644248,2.8722185675528156,4023.83568074303,223.54642670794618,0.21932647502147498
1614,c954795f9af9007e7c04d9b472bfd2faef647a87,Simon Willison,2024-02-08 21:36:17+00:00,"alter: true for row/-/update, refs #2101",False,57,54,3,0.6285714285714286,0.6285714285714286,1.0,31041,13603,26546,1151,2.9334828101644246,54.94494506976001,57.34020618556701,92.94845360824742,660.2947773850331,2.882979489618277,4040.166134628724,224.45367414604033,0.22009825912834433
1615,c62cfa6de836667834b5b9a7fef2b861307ac998,Simon Willison,2024-02-08 21:36:17+00:00,Fix upsert test to detect new alter-table event,False,8,6,2,0.0,1.0,0.0,31045,13607,26550,1151,2.9342301943198805,54.939267891672785,57.371134020618555,93.01030927835052,660.8782682976197,2.883033735629716,4044.0024477170496,224.6668026509473,0.22029275609920657
1616,398a92cf1e54f868ff80f01634d6a814d1c61998,Simon Willison,2024-02-09 04:12:31+00:00,"Include database in name of _execute_writes thread, closes #2265",False,9,8,1,0.5,1.0,0.5,31052,13611,26556,1152,2.9349775784753365,54.936182147402704,57.391752577319586,93.04123711340206,661.1556751766288,2.882988787047683,4045.260574712184,224.73669859512145,0.22038522505887626
1617,bd9ed62e5d8821f9dc9e035b195452980c900b3c,Simon Willison,2024-02-09 04:12:31+00:00,"Make ds.pemrission_allawed(..., default=) a keyword-only argument, refs #2262",False,6,3,3,,,,31045,13607,26550,1151,2.9342301943198805,54.939267891672785,57.371134020618555,93.01030927835052,660.8782682976197,2.883033735629716,4044.0024477170496,224.6668026509473,0.22029275609920657
1618,b89cac3b6a63929325c067d0cf2d5748e4bf4d2e,Simon Willison,2024-02-14 02:23:54+00:00,"Use MD5 usedforsecurity=False on Python 3.9 and higher to pass FIPS

Closes #2270",False,14,11,3,1.0,1.0,1.0,31060,13615,26561,1153,2.9342793129200895,54.936426009820366,57.391752577319586,93.04123711340206,661.1556751766288,2.882988787047683,4045.260574712184,224.73669859512145,0.22038522505887626
1619,97de4d6362ce5a6c1e3520ecdc73b305ab269910,Simon Willison,2024-02-16 05:35:49+00:00,"Use transaction in delete_everything(), closes #2273",False,26,14,12,1.0,1.0,1.0,31062,13616,26563,1153,2.9342793129200895,54.936426009820366,57.391752577319586,93.04123711340206,661.1556751766288,2.882988787047683,4045.260574712184,224.73669859512145,0.22038522505887626
1620,47e29e948b26e8c003a03b4fc46cb635134a3958,Simon Willison,2024-02-16 18:05:18+00:00,Better comments in permission_allowed_default(),False,4,2,2,,,,31062,13616,26563,1153,2.9342793129200895,54.936426009820366,57.391752577319586,93.04123711340206,661.1556751766288,2.882988787047683,4045.260574712184,224.73669859512145,0.22038522505887626
1621,232a30459babebece653795d136fb6516444ecf0,Simon Willison,2024-02-16 21:00:24+00:00,"DATASETTE_TRACE_PLUGINS setting, closes #2274",False,48,48,0,1.0,1.0,0.0,31086,13632,26579,1153,2.9321401938851603,54.89521718983077,57.402061855670105,93.0618556701031,661.2760086406442,2.882436504278906,4045.8290508023015,224.76828060012798,0.22042533621354807
1622,8bfa3a51c222d653f45fb48ebcb6957a85f9ea6c,Simon Willison,2024-02-16 21:29:39+00:00,"Consider every plugins opinion in datasette.permission_allowed()

Closes #2275, refs #2262",False,31,30,1,0.0,0.0,0.0,31098,13638,26585,1157,2.9351230425055927,54.89521718983077,57.41237113402062,93.08247422680412,661.4785859158603,2.882393830370295,4047.306057482805,224.85033652682262,0.22049286197195345
1623,244f3ff83aac19e96fab85a95ddde349079a9827,Simon Willison,2024-02-16 21:39:57+00:00,Test demonstrating fix for permisisons bug in #2262,False,35,35,0,0.0,1.0,1.0,31133,13650,26617,1158,2.935171385991058,54.88442819708167,57.4639175257732,93.17525773195877,662.3692060153141,2.8823575705650963,4052.669960015241,225.14833111195793,0.22078973533843804
1624,3a999a85fb431594ccee1adf38721de03de19500,Simon Willison,2024-02-16 21:59:56+00:00,"Fire insert-rows on /db/-/create if rows were inserted, refs #2260",False,84,69,15,0.0,0.47619047619047616,0.8571428571428571,31187,13659,26664,1159,2.9374068554396424,54.87378314823901,57.50515463917526,93.23711340206185,662.9821224242413,2.8821827405045504,4055.714907063587,225.31749483686605,0.22099404080808044
1625,9906f937d92c79dcc457cb057d7222ed70aef0e0,Simon Willison,2024-02-16 22:36:12+00:00,"Release 1.0a9

Refs #2101, #2260, #2262, #2265, #2270, #2273, #2274, #2275

Closes #2276",False,47,46,1,,,,31187,13659,26664,1159,2.9374068554396424,54.87378314823901,57.50515463917526,93.23711340206185,662.9821224242413,2.8821827405045504,4055.714907063587,225.31749483686605,0.22099404080808044
1626,5e0e440f2c8a0771b761b02801456e55e95e2a04,Simon Willison,2024-02-18 04:28:15+00:00,"database.execute_write_fn(transaction=True) parameter, closes #2277",False,73,60,13,0.3333333333333333,0.8888888888888888,0.6944444444444444,31229,13684,26700,1161,2.937453462397617,54.86019759905112,57.56701030927835,93.3298969072165,663.6926821864436,2.882106859494406,4057.144497314706,225.39691651748373,0.2212308940621478
1627,10f9ba1a0050724ba47a089861606bef58a4087f,Simon Willison,2024-02-18 04:51:19+00:00,"Take advantage of execute_write_fn(transaction=True)

A bunch of places no longer need to do manual transaction handling
thanks to this change. Refs #2277",False,46,20,26,0.0,0.0,0.0,31223,13678,26694,1161,2.937453462397617,54.86236562175275,57.56701030927835,93.3298969072165,663.6926821864436,2.882106859494406,4057.144497314706,225.39691651748373,0.2212308940621478
1628,a4fa1ef3bd6a6117118b5cdd64aca2308c21604b,Simon Willison,2024-02-18 04:56:15+00:00,"Release 1.0a10

Refs #2277",False,13,12,1,,,,31223,13678,26694,1161,2.937453462397617,54.86236562175275,57.56701030927835,93.3298969072165,663.6926821864436,2.882106859494406,4057.144497314706,225.39691651748373,0.2212308940621478
1629,3856a8cb244f1338d2c4bceb76a510022d88ade5,Simon Willison,2024-02-19 20:51:14+00:00,"Consistent Permission denied:, refs #2279",False,12,6,6,,,,31223,13678,26694,1161,2.937453462397617,54.86236562175275,57.56701030927835,93.3298969072165,663.6926821864436,2.882106859494406,4057.144497314706,225.39691651748373,0.2212308940621478
1630,b36a2d8f4b566a3a4902cdaa7a549241e0e8c881,Simon Willison,2024-02-19 20:55:51+00:00,"Require update-row to use insert replace, closes #2279",False,17,15,2,0.0,0.0,0.0,31236,13680,26706,1162,2.9396872673119883,54.86287588843682,57.58762886597938,93.38144329896907,664.1729583653249,2.882222855652153,4062.3206671650482,225.68448150916942,0.22139098612177494
1631,26300738e3c6e7ad515bd513063f57249a05000a,Simon Willison,2024-02-19 22:17:37+00:00,"Fixes for permissions debug page, closes #2278",False,35,22,13,0.0,1.0,0.875,31245,13682,26714,1163,2.9404318689501117,54.85957055916592,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1632,28bf3a933f6cc2ba95f95f83cddf37d2bdaeb1af,Simon Willison,2024-02-19 22:22:59+00:00,"Applied Black, refs #2278",False,2,1,1,,,,31245,13682,26714,1163,2.9404318689501117,54.85957055916592,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1633,158d5d96e9fcc5f15b57a012f4e6afe2e89ee05b,dependabot[bot],2024-02-19 22:23:12+00:00,"Bump the python-packages group with 1 update (#2269)

Bumps the python-packages group with 1 update: [black](https://github.com/psf/black).


Updates `black` from 24.1.1 to 24.2.0
- [Release notes](https://github.com/psf/black/releases)
- [Changelog](https://github.com/psf/black/blob/main/CHANGES.md)
- [Commits](https://github.com/psf/black/compare/24.1.1...24.2.0)

---
updated-dependencies:
- dependency-name: black
  dependency-type: direct:development
  update-type: version-update:semver-minor
  dependency-group: python-packages
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",False,2,1,1,,,,31245,13682,26714,1163,2.9404318689501117,54.85957055916592,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1634,434123425fd6f3283f780f5fb29eeaa9784d78cb,Simon Willison,2024-02-19 22:48:37+00:00,"Release 1.0a11

Refs #2263, #2278, #2279

Closes #2280",False,11,10,1,,,,31245,13682,26714,1163,2.9404318689501117,54.85957055916592,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1635,c863443ea11ea9b9f0e264ab38f103691509fab9,Simon Willison,2024-02-27 21:24:47+00:00,"Documentation for derive_named_parameters()

Closes #2284

Refs https://github.com/simonw/datasette-write/issues/7#issuecomment-1967593883",False,21,19,2,1.0,1.0,1.0,31253,13686,26717,1163,2.9404318689501117,54.85957055916592,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1636,f99c2f5f8cd1550442f69def0b27f8ec799d6bd8,Simon Willison,2024-02-28 00:07:41+00:00,"?column_notcontains= table filter, closes #2287",False,15,15,0,,,,31265,13686,26729,1163,2.9404318689501117,54.85663954380823,57.608247422680414,93.41237113402062,664.4578529525626,2.8819761567620876,4063.2488534159866,225.73604741199935,0.22148595098418752
1637,6ec0081f5d827a71c96972e634a2e887edaf5392,Simon Willison,2024-02-28 05:55:16+00:00,"`query_actions` plugin hook

* New query_actions plugin hook, closes #2283",False,151,151,0,0.9545454545454546,0.9545454545454546,0.4772727272727273,31337,13724,26792,1163,2.9368499257057947,54.84330232601067,57.69072164948454,93.56701030927834,665.7677947931622,2.8818280702052728,4071.2382062355605,226.1799003464201,0.22192259826438737
1638,86335dc722d31dbf44c6d4bbffd7c5d2d11b1290,Simon Willison,2024-02-29 22:35:28+00:00,"Release 1.0a12

Refs #2281, #2283, #2287, #2289",False,12,11,1,,,,31337,13724,26792,1163,2.9368499257057947,54.84330232601067,57.69072164948454,93.56701030927834,665.7677947931622,2.8818280702052728,4071.2382062355605,226.1799003464201,0.22192259826438737
1639,5de6797d4a4333653568dd3db24c4df7b7502ba3,Simon Willison,2024-03-06 02:06:38+00:00,"Better demo plugin for query_actions, refs #2293",False,16,10,6,0.0,1.0,0.0,31341,13724,26796,1163,2.9368499257057947,54.841455799312804,57.71134020618557,93.5979381443299,665.9895715080031,2.8816319698018664,4072.023838744324,226.223546596907,0.22199652383600102
1640,4d24bf6b34c0d9ed6e6831f68f625bee7f447b85,Simon Willison,2024-03-06 02:14:55+00:00,"Don't explain an explain even in the demo, refs #2293",False,21,13,8,1.0,,,31344,13725,26798,1165,2.9375928677563152,54.84930314114497,57.74226804123711,93.65979381443299,666.5795114137308,2.8817669376493162,4076.102341269687,226.45013007053828,0.22219317047124357
1641,090dff542bee7f716088835b3cc633e9e04b985d,Simon Willison,2024-03-07 03:54:06+00:00,"Action menu descriptions

* Refactor tests to extract get_actions_links() helper
* Table, database and query action menu items now support optional descriptions

Closes #2294",False,94,59,35,0.0,1.0,0.0,31347,13718,26802,1165,2.9383815887156643,54.84920159376218,57.75257731958763,93.62886597938144,666.3420268736331,2.8812438086328322,4072.3610942067276,226.242283011485,0.2221140089578777
1642,a395256c8c10f19bb006e0fce8f5eddd2b645757,Simon Willison,2024-03-07 05:03:20+00:00,"Allow-list select * from pragma_table_list()

Refs https://github.com/simonw/datasette/issues/2104#issuecomment-1982352475",False,1,1,0,,,,31348,13718,26803,1165,2.9383815887156643,54.84920159376218,57.75257731958763,93.62886597938144,666.3420268736331,2.8812438086328322,4072.3610942067276,226.242283011485,0.2221140089578777
1643,7818e8b9d15a3d50c16f080dc7fe4b5e8eb3d241,Simon Willison,2024-03-07 05:03:42+00:00,"Hide tables starting with an _, refs #2104",False,31,31,0,0.9230769230769231,0.9230769230769231,1.0,31364,13727,26817,1165,2.9376854599406528,54.84202254101925,57.77319587628866,93.65979381443299,666.6199148439031,2.8811998993243724,4073.6213348095935,226.3122963783109,0.22220663828130105
1644,daf5ca02ca9df56de1f920a6bd20e81dbad2686c,Simon Willison,2024-03-12 20:46:06+00:00,"homepage_actions() plugin hook, closes #2298",False,120,118,2,0.7058823529411765,0.7058823529411765,0.7058823529411765,31417,13751,26861,1167,2.937083641746854,54.81803203002162,57.81443298969072,93.75257731958763,667.4945839471144,2.8814939619329754,4080.0760782516227,226.67089323620144,0.22249819464903817
1645,909c85cd2b64646edaaa8e3c19f5cd4e51a13fad,Simon Willison,2024-03-12 21:25:28+00:00,"view_actions plugin hook, closes #2297",False,106,85,21,0.3448275862068966,1.0,0.6551724137931034,31457,13774,26893,1167,2.933530280649926,54.81347108634729,57.855670103092784,93.81443298969072,668.1096373081211,2.881448568345905,4083.48007872868,226.86000437381568,0.22270321243604038
1646,06281a0b8e3d7cdb59230ace0abb026de3919d47,Simon Willison,2024-03-12 21:32:48+00:00,"Test for labels on Table/View action buttons, refs #2297",False,4,2,2,1.0,1.0,1.0,31457,13776,26895,1167,2.933530280649926,54.81347108634729,57.896907216494846,93.87628865979381,668.7256701959303,2.881404227363752,4086.8893340066525,227.04940744481416,0.22290855673197676
1647,b8711988b903cafaeb0d8b07a7f98d75084f1c2b,Simon Willison,2024-03-12 23:16:05+00:00,"row_actions() plugin hook, closes #2299",False,141,134,7,0.6486486486486487,1.0,0.7297297297297297,31510,13798,26938,1167,2.9299926308032425,54.8022089590048,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1648,feddd61789983dc75f127956176cac493d877be8,Simon Willison,2024-03-13 00:01:51+00:00,Fix tests I broke in #2302,False,9,6,3,1.0,1.0,1.0,31513,13798,26941,1167,2.9299926308032425,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1649,c92f326ed10b7eea8b9c4d3cd5caef9e7aceee1b,Simon Willison,2024-03-13 02:10:53+00:00,"Release 1.013a

#2104, #2286, #2293, #2297, #2298, #2299, #2300, #2301, #2302",False,17,16,1,,,,31513,13798,26941,1167,2.9299926308032425,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1650,5af68377256a4aafebef7da98600f0bfd1546644,Simon Willison,2024-03-15 22:15:31+00:00,"Fix httpx warning about app=self.app, refs #2307",False,32,24,8,1.0,1.0,0.0,31529,13798,26957,1167,2.9299926308032425,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1651,54f5604cafb4a08ea9e94e12de69e5adae51c42b,Simon Willison,2024-03-15 22:19:23+00:00,"Fixed cookies= httpx warning, refs #2307",False,24,16,8,1.0,1.0,0.0,31537,13798,26965,1167,2.9299926308032425,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1652,eb8545c172b4b12e89dcc08a976f037d881346c4,Simon Willison,2024-03-15 22:29:03+00:00,"Refactor duplicate code in DatasetteClient, closes #2307",False,43,11,32,0.0,0.0,1.0,31516,13794,26943,1167,2.9285714285714284,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1653,261fc8d875c43d5421a6ee1096992fd636c2c278,Simon Willison,2024-03-15 22:32:12+00:00,Fix datetime.utcnow deprecation warning,False,9,6,3,1.0,1.0,1.0,31519,13794,26946,1167,2.9285714285714284,54.8015215087733,57.93814432989691,93.9381443298969,669.342671988286,2.881360902793798,4090.3037863721383,227.23909924289674,0.22311422399609537
1654,67e66f36c1a0e9534d3bc3ea7f5469e886f48e4d,Agustin Bacigalup,2024-03-17 19:18:40+00:00,"Add ETag header for static responses (#2306)

* add etag to static responses

* fix RuntimeError related to static headers

* Remove unnecessary import

---------

Co-authored-by: Simon Willison <swillison@gmail.com>",False,57,55,2,0.7837837837837838,0.24324324324324326,0.918918918918919,31572,13834,26987,1168,2.9286764705882353,54.782279586849654,58.11340206185567,94.23711340206185,671.8686950919403,2.887331365695557,4106.828912468985,228.15716180383262,0.22395623169731352
